var da=t=>{throw TypeError(t)};var pn=(t,e,r)=>e.has(t)||da("Cannot "+r);var O=(t,e,r)=>(pn(t,e,"read from private field"),r?r.call(t):e.get(t)),je=(t,e,r)=>e.has(t)?da("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,s)=>(pn(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),ye=(t,e,r)=>(pn(t,e,"access private method"),r);import{S as Jo,p as ua,r as st,s as Ds,a as Mr,n as Us,i as Ln,b as ha,t as gd,c as Ns,f as yd,d as bd,e as fa,g as Xs,h as ma,j as vd,k as S,l as Ni,u as lt,R as wd,m as $e,o as a,q as Qo,v as Xo}from"./index-Bl3WUird.js";var He,ae,ts,Me,rr,xr,St,Lt,rs,gr,yr,sr,nr,Dt,br,fe,Dr,Dn,Un,Fn,Mn,Bn,Vn,Hn,Go,Zo,_d=(Zo=class extends Jo{constructor(e,r){super();je(this,fe);je(this,He);je(this,ae);je(this,ts);je(this,Me);je(this,rr);je(this,xr);je(this,St);je(this,Lt);je(this,rs);je(this,gr);je(this,yr);je(this,sr);je(this,nr);je(this,Dt);je(this,br,new Set);this.options=r,xe(this,He,e),xe(this,Lt,null),xe(this,St,ua()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,ae).addObserver(this),pa(O(this,ae),this.options)?ye(this,fe,Dr).call(this):this.updateResult(),ye(this,fe,Mn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qn(O(this,ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qn(O(this,ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,fe,Bn).call(this),ye(this,fe,Vn).call(this),O(this,ae).removeObserver(this)}setOptions(e){const r=this.options,s=O(this,ae);if(this.options=O(this,He).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof st(this.options.enabled,O(this,ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,fe,Hn).call(this),O(this,ae).setOptions(this.options),r._defaulted&&!Ds(this.options,r)&&O(this,He).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,ae),observer:this});const n=this.hasListeners();n&&xa(O(this,ae),s,this.options,r)&&ye(this,fe,Dr).call(this),this.updateResult(),n&&(O(this,ae)!==s||st(this.options.enabled,O(this,ae))!==st(r.enabled,O(this,ae))||Mr(this.options.staleTime,O(this,ae))!==Mr(r.staleTime,O(this,ae)))&&ye(this,fe,Dn).call(this);const i=ye(this,fe,Un).call(this);n&&(O(this,ae)!==s||st(this.options.enabled,O(this,ae))!==st(r.enabled,O(this,ae))||i!==O(this,Dt))&&ye(this,fe,Fn).call(this,i)}getOptimisticResult(e){const r=O(this,He).getQueryCache().build(O(this,He),e),s=this.createResult(r,e);return jd(this,s)&&(xe(this,Me,s),xe(this,xr,this.options),xe(this,rr,O(this,ae).state)),s}getCurrentResult(){return O(this,Me)}trackResult(e,r){return new Proxy(e,{get:(s,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&O(this,St).status==="pending"&&O(this,St).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,n))})}trackProp(e){O(this,br).add(e)}getCurrentQuery(){return O(this,ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=O(this,He).defaultQueryOptions(e),s=O(this,He).getQueryCache().build(O(this,He),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return ye(this,fe,Dr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Me)))}createResult(e,r){var F;const s=O(this,ae),n=this.options,i=O(this,Me),o=O(this,rr),l=O(this,xr),d=e!==s?e.state:O(this,ts),{state:h}=e;let u={...h},y=!1,p;if(r._optimisticResults){const q=this.hasListeners(),W=!q&&pa(e,r),D=q&&xa(e,s,r,n);(W||D)&&(u={...u,...bd(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:g}=u;p=u.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(q=i.data,x=!0):q=typeof r.placeholderData=="function"?r.placeholderData((F=O(this,yr))==null?void 0:F.state.data,O(this,yr)):r.placeholderData,q!==void 0&&(g="success",p=fa(i==null?void 0:i.data,q,r),y=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(o==null?void 0:o.data)&&r.select===O(this,rs))p=O(this,gr);else try{xe(this,rs,r.select),p=r.select(p),p=fa(i==null?void 0:i.data,p,r),xe(this,gr,p),xe(this,Lt,null)}catch(q){xe(this,Lt,q)}O(this,Lt)&&(b=O(this,Lt),p=O(this,gr),j=Date.now(),g="error");const R=u.fetchStatus==="fetching",C=g==="pending",T=g==="error",f=C&&R,v=p!==void 0,E={status:g,fetchStatus:u.fetchStatus,isPending:C,isSuccess:g==="success",isError:T,isInitialLoading:f,isLoading:f,data:p,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:R,isRefetching:R&&!C,isLoadingError:T&&!v,isPaused:u.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&v,isStale:ji(e,r),refetch:this.refetch,promise:O(this,St),isEnabled:st(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const q=E.data!==void 0,W=E.status==="error"&&!q,D=I=>{W?I.reject(E.error):q&&I.resolve(E.data)},K=()=>{const I=xe(this,St,E.promise=ua());D(I)},P=O(this,St);switch(P.status){case"pending":e.queryHash===s.queryHash&&D(P);break;case"fulfilled":(W||E.data!==P.value)&&K();break;case"rejected":(!W||E.error!==P.reason)&&K();break}}return E}updateResult(){const e=O(this,Me),r=this.createResult(O(this,ae),this.options);if(xe(this,rr,O(this,ae).state),xe(this,xr,this.options),O(this,rr).data!==void 0&&xe(this,yr,O(this,ae)),Ds(r,e))return;xe(this,Me,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!O(this,br).size)return!0;const o=new Set(i??O(this,br));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,Me)).some(l=>{const c=l;return O(this,Me)[c]!==e[c]&&o.has(c)})};ye(this,fe,Go).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,fe,Mn).call(this)}},He=new WeakMap,ae=new WeakMap,ts=new WeakMap,Me=new WeakMap,rr=new WeakMap,xr=new WeakMap,St=new WeakMap,Lt=new WeakMap,rs=new WeakMap,gr=new WeakMap,yr=new WeakMap,sr=new WeakMap,nr=new WeakMap,Dt=new WeakMap,br=new WeakMap,fe=new WeakSet,Dr=function(e){ye(this,fe,Hn).call(this);let r=O(this,ae).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Us)),r},Dn=function(){ye(this,fe,Bn).call(this);const e=Mr(this.options.staleTime,O(this,ae));if(Ln||O(this,Me).isStale||!ha(e))return;const s=gd(O(this,Me).dataUpdatedAt,e)+1;xe(this,sr,Ns.setTimeout(()=>{O(this,Me).isStale||this.updateResult()},s))},Un=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,ae)):this.options.refetchInterval)??!1},Fn=function(e){ye(this,fe,Vn).call(this),xe(this,Dt,e),!(Ln||st(this.options.enabled,O(this,ae))===!1||!ha(O(this,Dt))||O(this,Dt)===0)&&xe(this,nr,Ns.setInterval(()=>{(this.options.refetchIntervalInBackground||yd.isFocused())&&ye(this,fe,Dr).call(this)},O(this,Dt)))},Mn=function(){ye(this,fe,Dn).call(this),ye(this,fe,Fn).call(this,ye(this,fe,Un).call(this))},Bn=function(){O(this,sr)&&(Ns.clearTimeout(O(this,sr)),xe(this,sr,void 0))},Vn=function(){O(this,nr)&&(Ns.clearInterval(O(this,nr)),xe(this,nr,void 0))},Hn=function(){const e=O(this,He).getQueryCache().build(O(this,He),this.options);if(e===O(this,ae))return;const r=O(this,ae);xe(this,ae,e),xe(this,ts,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Go=function(e){Xs.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(O(this,Me))}),O(this,He).getQueryCache().notify({query:O(this,ae),type:"observerResultsUpdated"})})},Zo);function Nd(t,e){return st(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pa(t,e){return Nd(t,e)||t.state.data!==void 0&&qn(t,e,e.refetchOnMount)}function qn(t,e,r){if(st(e.enabled,t)!==!1&&Mr(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&ji(t,e)}return!1}function xa(t,e,r,s){return(t!==e||st(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ji(t,r)}function ji(t,e){return st(e.enabled,t)!==!1&&t.isStaleByTime(Mr(e.staleTime,t))}function jd(t,e){return!Ds(t.getCurrentResult(),e)}var kt,Ut,qe,Et,Tt,Rs,Wn,Ko,Sd=(Ko=class extends Jo{constructor(e,r){super();je(this,Tt);je(this,kt);je(this,Ut);je(this,qe);je(this,Et);xe(this,kt,e),this.setOptions(r),this.bindMethods(),ye(this,Tt,Rs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=O(this,kt).defaultMutationOptions(e),Ds(this.options,r)||O(this,kt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,qe),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ma(r.mutationKey)!==ma(this.options.mutationKey)?this.reset():((s=O(this,qe))==null?void 0:s.state.status)==="pending"&&O(this,qe).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=O(this,qe))==null||e.removeObserver(this)}onMutationUpdate(e){ye(this,Tt,Rs).call(this),ye(this,Tt,Wn).call(this,e)}getCurrentResult(){return O(this,Ut)}reset(){var e;(e=O(this,qe))==null||e.removeObserver(this),xe(this,qe,void 0),ye(this,Tt,Rs).call(this),ye(this,Tt,Wn).call(this)}mutate(e,r){var s;return xe(this,Et,r),(s=O(this,qe))==null||s.removeObserver(this),xe(this,qe,O(this,kt).getMutationCache().build(O(this,kt),this.options)),O(this,qe).addObserver(this),O(this,qe).execute(e)}},kt=new WeakMap,Ut=new WeakMap,qe=new WeakMap,Et=new WeakMap,Tt=new WeakSet,Rs=function(){var r;const e=((r=O(this,qe))==null?void 0:r.state)??vd();xe(this,Ut,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Wn=function(e){Xs.batch(()=>{var r,s,n,i,o,l,c,d;if(O(this,Et)&&this.hasListeners()){const h=O(this,Ut).variables,u=O(this,Ut).context,y={client:O(this,kt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(s=(r=O(this,Et)).onSuccess)==null||s.call(r,e.data,h,u,y)}catch(p){Promise.reject(p)}try{(i=(n=O(this,Et)).onSettled)==null||i.call(n,e.data,null,h,u,y)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(l=(o=O(this,Et)).onError)==null||l.call(o,e.error,h,u,y)}catch(p){Promise.reject(p)}try{(d=(c=O(this,Et)).onSettled)==null||d.call(c,void 0,e.error,h,u,y)}catch(p){Promise.reject(p)}}}this.listeners.forEach(h=>{h(O(this,Ut))})})},Ko),Yo=S.createContext(!1),kd=()=>S.useContext(Yo);Yo.Provider;function Ed(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Cd=S.createContext(Ed()),Td=()=>S.useContext(Cd),Rd=(t,e,r)=>{const s=r!=null&&r.state.error&&typeof t.throwOnError=="function"?Ni(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||s)&&(e.isReset()||(t.retryOnMount=!1))},Od=t=>{S.useEffect(()=>{t.clearReset()},[t])},Ad=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(n&&t.data===void 0||Ni(r,[t.error,s])),Id=t=>{if(t.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...n)=>r(s(...n)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$d=(t,e)=>t.isLoading&&t.isFetching&&!e,Pd=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ga=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Ld(t,e,r){var y,p,b,j;const s=kd(),n=Td(),i=lt(),o=i.defaultQueryOptions(t);(p=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||p.call(y,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=s?"isRestoring":"optimistic",Id(o),Rd(o,n,l),Od(n);const c=!i.getQueryCache().get(o.queryHash),[d]=S.useState(()=>new e(i,o)),h=d.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const x=u?d.subscribe(Xs.batchCalls(g)):Us;return d.updateResult(),x},[d,u]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),S.useEffect(()=>{d.setOptions(o)},[o,d]),Pd(o,h))throw ga(o,d,n);if(Ad({result:h,errorResetBoundary:n,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw h.error;if((j=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||j.call(b,o,h),o.experimental_prefetchInRender&&!Ln&&$d(h,s)){const g=c?ga(o,d,n):l==null?void 0:l.promise;g==null||g.catch(Us).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function we(t,e){return Ld(t,_d)}function Ve(t,e){const r=lt(),[s]=S.useState(()=>new Sd(r,t));S.useEffect(()=>{s.setOptions(t)},[s,t]);const n=S.useSyncExternalStore(S.useCallback(o=>s.subscribe(Xs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=S.useCallback((o,l)=>{s.mutate(o,l).catch(Us)},[s]);if(n.error&&Ni(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Wr.apply(this,arguments)}var Ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ft||(Ft={}));const ya="popstate";function Dd(t){t===void 0&&(t={});function e(s,n){let{pathname:i,search:o,hash:l}=s.location;return zn("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:Fs(n)}return Fd(e,r,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ud(){return Math.random().toString(36).substr(2,8)}function ba(t,e){return{usr:t.state,key:t.key,idx:e}}function zn(t,e,r,s){return r===void 0&&(r=null),Wr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kr(e):e,{state:r,key:e&&e.key||s||Ud()})}function Fs(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function kr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Fd(t,e,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,l=Ft.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Wr({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function u(){l=Ft.Pop;let g=h(),x=g==null?null:g-d;d=g,c&&c({action:l,location:j.location,delta:x})}function y(g,x){l=Ft.Push;let R=zn(j.location,g,x);d=h()+1;let C=ba(R,d),T=j.createHref(R);try{o.pushState(C,"",T)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;n.location.assign(T)}i&&c&&c({action:l,location:j.location,delta:1})}function p(g,x){l=Ft.Replace;let R=zn(j.location,g,x);d=h();let C=ba(R,d),T=j.createHref(R);o.replaceState(C,"",T),i&&c&&c({action:l,location:j.location,delta:0})}function b(g){let x=n.location.origin!=="null"?n.location.origin:n.location.href,R=typeof g=="string"?g:Fs(g);return R=R.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,x)}let j={get action(){return l},get location(){return t(n,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(ya,u),c=g,()=>{n.removeEventListener(ya,u),c=null}},createHref(g){return e(n,g)},createURL:b,encodeLocation(g){let x=b(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:p,go(g){return o.go(g)}};return j}var va;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(va||(va={}));function Md(t,e,r){return r===void 0&&(r="/"),Bd(t,e,r)}function Bd(t,e,r,s){let n=typeof e=="string"?kr(e):e,i=ki(n.pathname||"/",r);if(i==null)return null;let o=el(t);Vd(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=eu(i);l=Xd(o[c],d)}return l}function el(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Bt([s,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),el(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Jd(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of tl(i.path))n(i,o,c)}),e}function tl(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=tl(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Vd(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Qd(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Hd=/^:[\w-]+$/,qd=3,Wd=2,zd=1,Zd=10,Kd=-2,wa=t=>t==="*";function Jd(t,e){let r=t.split("/"),s=r.length;return r.some(wa)&&(s+=Kd),e&&(s+=Wd),r.filter(n=>!wa(n)).reduce((n,i)=>n+(Hd.test(i)?qd:i===""?zd:Zd),s)}function Qd(t,e){return t.length===e.length&&t.slice(0,-1).every((s,n)=>s===e[n])?t[t.length-1]-e[e.length-1]:0}function Xd(t,e,r){let{routesMeta:s}=t,n={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=i==="/"?e:e.slice(i.length)||"/",u=Gd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!u)return null;Object.assign(n,u.params),o.push({params:n,pathname:Bt([i,u.pathname]),pathnameBase:iu(Bt([i,u.pathnameBase])),route:y}),u.pathnameBase!=="/"&&(i=Bt([i,u.pathnameBase]))}return o}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=Yd(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:s.reduce((d,h,u)=>{let{paramName:y,isOptional:p}=h;if(y==="*"){let j=l[u]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const b=l[u];return p&&!b?d[y]=void 0:d[y]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Yd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function eu(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const tu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ru=t=>tu.test(t);function su(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:n=""}=typeof t=="string"?kr(t):t,i;if(r)if(ru(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Si(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=_a(r.substring(1),"/"):i=_a(r,e)}else i=e;return{pathname:i,search:au(s),hash:ou(n)}}function _a(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function xn(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nu(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ei(t,e){let r=nu(t);return e?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Ci(t,e,r,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=kr(t):(n=Wr({},t),ke(!n.pathname||!n.pathname.includes("?"),xn("?","pathname","search",n)),ke(!n.pathname||!n.pathname.includes("#"),xn("#","pathname","hash",n)),ke(!n.search||!n.search.includes("#"),xn("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let u=e.length-1;if(!s&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),u-=1;n.pathname=y.join("/")}l=u>=0?e[u]:"/"}let c=su(n,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Bt=t=>t.join("/").replace(/\/\/+/g,"/"),iu=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),au=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ou=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rl=["post","put","patch","delete"];new Set(rl);const cu=["get",...rl];new Set(cu);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zr(){return zr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zr.apply(this,arguments)}const Ti=S.createContext(null),du=S.createContext(null),Zt=S.createContext(null),Gs=S.createContext(null),bt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),sl=S.createContext(null);function uu(t,e){let{relative:r}=e===void 0?{}:e;Er()||ke(!1);let{basename:s,navigator:n}=S.useContext(Zt),{hash:i,pathname:o,search:l}=il(t,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Bt([s,o])),n.createHref({pathname:c,search:l,hash:i})}function Er(){return S.useContext(Gs)!=null}function lr(){return Er()||ke(!1),S.useContext(Gs).location}function nl(t){S.useContext(Zt).static||S.useLayoutEffect(t)}function Kt(){let{isDataRoute:t}=S.useContext(bt);return t?ku():hu()}function hu(){Er()||ke(!1);let t=S.useContext(Ti),{basename:e,future:r,navigator:s}=S.useContext(Zt),{matches:n}=S.useContext(bt),{pathname:i}=lr(),o=JSON.stringify(Ei(n,r.v7_relativeSplatPath)),l=S.useRef(!1);return nl(()=>{l.current=!0}),S.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=Ci(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Bt([e,u.pathname])),(h.replace?s.replace:s.push)(u,h.state,h)},[e,s,o,i,t])}const fu=S.createContext(null);function mu(t){let e=S.useContext(bt).outlet;return e&&S.createElement(fu.Provider,{value:t},e)}function Ri(){let{matches:t}=S.useContext(bt),e=t[t.length-1];return e?e.params:{}}function il(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=S.useContext(Zt),{matches:n}=S.useContext(bt),{pathname:i}=lr(),o=JSON.stringify(Ei(n,s.v7_relativeSplatPath));return S.useMemo(()=>Ci(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function pu(t,e){return xu(t,e)}function xu(t,e,r,s){Er()||ke(!1);let{navigator:n}=S.useContext(Zt),{matches:i}=S.useContext(bt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=lr(),h;if(e){var u;let g=typeof e=="string"?kr(e):e;c==="/"||(u=g.pathname)!=null&&u.startsWith(c)||ke(!1),h=g}else h=d;let y=h.pathname||"/",p=y;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=Md(t,{pathname:p}),j=wu(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Bt([c,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Bt([c,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return e&&j?S.createElement(Gs.Provider,{value:{location:zr({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ft.Pop}},j):j}function gu(){let t=Su(),e=lu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:n},r):null,null)}const yu=S.createElement(gu,null);class bu extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(bt.Provider,{value:this.props.routeContext},S.createElement(sl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vu(t){let{routeContext:e,match:r,children:s}=t,n=S.useContext(Ti);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(bt.Provider,{value:e},s)}function wu(t,e,r,s){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(n=r)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);h>=0||ke(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:y,errors:p}=r,b=u.route.loader&&y[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,u,y)=>{let p,b=!1,j=null,g=null;r&&(p=l&&u.route.id?l[u.route.id]:void 0,j=u.route.errorElement||yu,c&&(d<0&&y===0?(Eu("route-fallback"),b=!0,g=null):d===y&&(b=!0,g=u.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,y+1)),R=()=>{let C;return p?C=j:b?C=g:u.route.Component?C=S.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=h,S.createElement(vu,{match:u,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:C})};return r&&(u.route.ErrorBoundary||u.route.errorElement||y===0)?S.createElement(bu,{location:r.location,revalidation:r.revalidation,component:j,error:p,children:R(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):R()},null)}var al=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(al||{}),ol=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ol||{});function _u(t){let e=S.useContext(Ti);return e||ke(!1),e}function Nu(t){let e=S.useContext(du);return e||ke(!1),e}function ju(t){let e=S.useContext(bt);return e||ke(!1),e}function ll(t){let e=ju(),r=e.matches[e.matches.length-1];return r.route.id||ke(!1),r.route.id}function Su(){var t;let e=S.useContext(sl),r=Nu(),s=ll();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function ku(){let{router:t}=_u(al.UseNavigateStable),e=ll(ol.UseNavigateStable),r=S.useRef(!1);return nl(()=>{r.current=!0}),S.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,zr({fromRouteId:e},i)))},[t,e])}const Na={};function Eu(t,e,r){Na[t]||(Na[t]=!0)}function Cu(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cl(t){let{to:e,replace:r,state:s,relative:n}=t;Er()||ke(!1);let{future:i,static:o}=S.useContext(Zt),{matches:l}=S.useContext(bt),{pathname:c}=lr(),d=Kt(),h=Ci(e,Ei(l,i.v7_relativeSplatPath),c,n==="path"),u=JSON.stringify(h);return S.useEffect(()=>d(JSON.parse(u),{replace:r,state:s,relative:n}),[d,u,n,r,s]),null}function Tu(t){return mu(t.context)}function Ee(t){ke(!1)}function Ru(t){let{basename:e="/",children:r=null,location:s,navigationType:n=Ft.Pop,navigator:i,static:o=!1,future:l}=t;Er()&&ke(!1);let c=e.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:i,static:o,future:zr({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=kr(s));let{pathname:h="/",search:u="",hash:y="",state:p=null,key:b="default"}=s,j=S.useMemo(()=>{let g=ki(h,c);return g==null?null:{location:{pathname:g,search:u,hash:y,state:p,key:b},navigationType:n}},[c,h,u,y,p,b,n]);return j==null?null:S.createElement(Zt.Provider,{value:d},S.createElement(Gs.Provider,{children:r,value:j}))}function Ou(t){let{children:e,location:r}=t;return pu(Zn(e),r)}new Promise(()=>{});function Zn(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(s,n)=>{if(!S.isValidElement(s))return;let i=[...e,n];if(s.type===S.Fragment){r.push.apply(r,Zn(s.props.children,i));return}s.type!==Ee&&ke(!1),!s.props.index||!s.props.children||ke(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Zn(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kn(){return Kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Kn.apply(this,arguments)}function Au(t,e){if(t==null)return{};var r={},s=Object.keys(t),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function Iu(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $u(t,e){return t.button===0&&(!e||e==="_self")&&!Iu(t)}function Jn(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(n=>[r,n]):[[r,s]])},[]))}function Pu(t,e){let r=Jn(t);return e&&e.forEach((s,n)=>{r.has(n)||e.getAll(n).forEach(i=>{r.append(n,i)})}),r}const Lu=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Du="6";try{window.__reactRouterVersion=Du}catch{}const Uu="startTransition",ja=wd[Uu];function Fu(t){let{basename:e,children:r,future:s,window:n}=t,i=S.useRef();i.current==null&&(i.current=Dd({window:n,v5Compat:!0}));let o=i.current,[l,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},h=S.useCallback(u=>{d&&ja?ja(()=>c(u)):c(u)},[c,d]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>Cu(s),[s]),S.createElement(Ru,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=S.forwardRef(function(e,r){let{onClick:s,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:u}=e,y=Au(e,Lu),{basename:p}=S.useContext(Zt),b,j=!1;if(typeof d=="string"&&Bu.test(d)&&(b=d,Mu))try{let C=new URL(window.location.href),T=d.startsWith("//")?new URL(C.protocol+d):new URL(d),f=ki(T.pathname,p);T.origin===C.origin&&f!=null?d=f+T.search+T.hash:j=!0}catch{}let g=uu(d,{relative:n}),x=Vu(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:n,viewTransition:u});function R(C){s&&s(C),C.defaultPrevented||x(C)}return S.createElement("a",Kn({},y,{href:b||g,onClick:j||i?s:R,ref:r,target:c}))});var Sa;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sa||(Sa={}));var ka;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ka||(ka={}));function Vu(t,e){let{target:r,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Kt(),d=lr(),h=il(t,{relative:o});return S.useCallback(u=>{if($u(u,r)){u.preventDefault();let y=s!==void 0?s:Fs(d)===Fs(h);c(t,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,s,n,r,t,i,o,l])}function ss(t){let e=S.useRef(Jn(t)),r=S.useRef(!1),s=lr(),n=S.useMemo(()=>Pu(s.search,r.current?null:e.current),[s.search]),i=Kt(),o=S.useCallback((l,c)=>{const d=Jn(typeof l=="function"?l(n):l);r.current=!0,i("?"+d,c)},[i,n]);return[n,o]}const Ea=t=>{let e;const r=new Set,s=(d,h)=>{const u=typeof d=="function"?d(e):d;if(!Object.is(u,e)){const y=e;e=h??(typeof u!="object"||u===null)?u:Object.assign({},e,u),r.forEach(p=>p(e,y))}},n=()=>e,l={setState:s,getState:n,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=e=t(s,n,l);return l},Hu=t=>t?Ea(t):Ea,qu=t=>t;function Wu(t,e=qu){const r=$e.useSyncExternalStore(t.subscribe,$e.useCallback(()=>e(t.getState()),[t,e]),$e.useCallback(()=>e(t.getInitialState()),[t,e]));return $e.useDebugValue(r),r}const Ca=t=>{const e=Hu(t),r=s=>Wu(e,s);return Object.assign(r,e),r},dl=t=>t?Ca(t):Ca;function zu(t,e){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const Qn=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(s){return Qn(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Qn(s)(r)}}}},Zu=(t,e)=>(r,s,n)=>{let i={storage:zu(()=>window.localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...e},o=!1,l=0;const c=new Set,d=new Set;let h=i.storage;if(!h)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},s,n);const u=()=>{const g=i.partialize({...s()});return h.setItem(i.name,{state:g,version:i.version})},y=n.setState;n.setState=(g,x)=>(y(g,x),u());const p=t((...g)=>(r(...g),u()),s,n);n.getInitialState=()=>p;let b;const j=()=>{var g,x;if(!h)return;const R=++l;o=!1,c.forEach(T=>{var f;return T((f=s())!=null?f:p)});const C=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(g=s())!=null?g:p))||void 0;return Qn(h.getItem.bind(h))(i.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==i.version){if(i.migrate){const f=i.migrate(T.state,T.version);return f instanceof Promise?f.then(v=>[!0,v]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var f;if(R!==l)return;const[v,_]=T;if(b=i.merge(_,(f=s())!=null?f:p),r(b,!0),v)return u()}).then(()=>{R===l&&(C==null||C(b,void 0),b=s(),o=!0,d.forEach(T=>T(b)))}).catch(T=>{R===l&&(C==null||C(void 0,T))})};return n.persist={setOptions:g=>{i={...i,...g},g.storage&&(h=g.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:g=>(c.add(g),()=>{c.delete(g)}),onFinishHydration:g=>(d.add(g),()=>{d.delete(g)})},i.skipHydration||j(),b||p},Ku=Zu,ze=dl()(Ku((t,e)=>({accessToken:null,refreshToken:null,setTokens:(r,s)=>t({accessToken:r,refreshToken:s}),logout:()=>t({accessToken:null,refreshToken:null}),isAuthenticated:()=>!!e().accessToken}),{name:"igloo-auth"}));function ul(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ju}=Object.prototype,{getPrototypeOf:Oi}=Object,{iterator:Ys,toStringTag:hl}=Symbol,en=(t=>e=>{const r=Ju.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ct=t=>(t=t.toLowerCase(),e=>en(e)===t),tn=t=>e=>typeof e===t,{isArray:Cr}=Array,vr=tn("undefined");function ns(t){return t!==null&&!vr(t)&&t.constructor!==null&&!vr(t.constructor)&&Ze(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fl=ct("ArrayBuffer");function Qu(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fl(t.buffer),e}const Xu=tn("string"),Ze=tn("function"),ml=tn("number"),is=t=>t!==null&&typeof t=="object",Gu=t=>t===!0||t===!1,Os=t=>{if(en(t)!=="object")return!1;const e=Oi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hl in t)&&!(Ys in t)},Yu=t=>{if(!is(t)||ns(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},eh=ct("Date"),th=ct("File"),rh=ct("Blob"),sh=ct("FileList"),nh=t=>is(t)&&Ze(t.pipe),ih=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ze(t.append)&&((e=en(t))==="formdata"||e==="object"&&Ze(t.toString)&&t.toString()==="[object FormData]"))},ah=ct("URLSearchParams"),[oh,lh,ch,dh]=["ReadableStream","Request","Response","Headers"].map(ct),uh=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function as(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),Cr(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{if(ns(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function pl(t,e){if(ns(t))return null;e=e.toLowerCase();const r=Object.keys(t);let s=r.length,n;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}const er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,xl=t=>!vr(t)&&t!==er;function Xn(){const{caseless:t,skipUndefined:e}=xl(this)&&this||{},r={},s=(n,i)=>{const o=t&&pl(r,i)||i;Os(r[o])&&Os(n)?r[o]=Xn(r[o],n):Os(n)?r[o]=Xn({},n):Cr(n)?r[o]=n.slice():(!e||!vr(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&as(arguments[n],s);return r}const hh=(t,e,r,{allOwnKeys:s}={})=>(as(e,(n,i)=>{r&&Ze(n)?Object.defineProperty(t,i,{value:ul(n,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),t),fh=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mh=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ph=(t,e,r,s)=>{let n,i,o;const l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&Oi(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},xh=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},gh=t=>{if(!t)return null;if(Cr(t))return t;let e=t.length;if(!ml(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},yh=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Oi(Uint8Array)),bh=(t,e)=>{const s=(t&&t[Ys]).call(t);let n;for(;(n=s.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},vh=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},wh=ct("HTMLFormElement"),_h=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Ta=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Nh=ct("RegExp"),gl=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};as(r,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(s[i]=o||n)}),Object.defineProperties(t,s)},jh=t=>{gl(t,(e,r)=>{if(Ze(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(Ze(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Sh=(t,e)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return Cr(t)?s(t):s(String(t).split(e)),r},kh=()=>{},Eh=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ch(t){return!!(t&&Ze(t.append)&&t[hl]==="FormData"&&t[Ys])}const Th=t=>{const e=new Array(10),r=(s,n)=>{if(is(s)){if(e.indexOf(s)>=0)return;if(ns(s))return s;if(!("toJSON"in s)){e[n]=s;const i=Cr(s)?[]:{};return as(s,(o,l)=>{const c=r(o,n+1);!vr(c)&&(i[l]=c)}),e[n]=void 0,i}}return s};return r(t,0)},Rh=ct("AsyncFunction"),Oh=t=>t&&(is(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),yl=((t,e)=>t?setImmediate:e?((r,s)=>(er.addEventListener("message",({source:n,data:i})=>{n===er&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),er.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ze(er.postMessage)),Ah=typeof queueMicrotask<"u"?queueMicrotask.bind(er):typeof process<"u"&&process.nextTick||yl,Ih=t=>t!=null&&Ze(t[Ys]),N={isArray:Cr,isArrayBuffer:fl,isBuffer:ns,isFormData:ih,isArrayBufferView:Qu,isString:Xu,isNumber:ml,isBoolean:Gu,isObject:is,isPlainObject:Os,isEmptyObject:Yu,isReadableStream:oh,isRequest:lh,isResponse:ch,isHeaders:dh,isUndefined:vr,isDate:eh,isFile:th,isBlob:rh,isRegExp:Nh,isFunction:Ze,isStream:nh,isURLSearchParams:ah,isTypedArray:yh,isFileList:sh,forEach:as,merge:Xn,extend:hh,trim:uh,stripBOM:fh,inherits:mh,toFlatObject:ph,kindOf:en,kindOfTest:ct,endsWith:xh,toArray:gh,forEachEntry:bh,matchAll:vh,isHTMLForm:wh,hasOwnProperty:Ta,hasOwnProp:Ta,reduceDescriptors:gl,freezeMethods:jh,toObjectSet:Sh,toCamelCase:_h,noop:kh,toFiniteNumber:Eh,findKey:pl,global:er,isContextDefined:xl,isSpecCompliantForm:Ch,toJSONObject:Th,isAsyncFn:Rh,isThenable:Oh,setImmediate:yl,asap:Ah,isIterable:Ih};let Y=class bl extends Error{static from(e,r,s,n,i,o){const l=new bl(e.message,r||e.code,s,n,i);return l.cause=e,l.name=e.name,o&&Object.assign(l,o),l}constructor(e,r,s,n,i){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}};Y.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Y.ERR_BAD_OPTION="ERR_BAD_OPTION";Y.ECONNABORTED="ECONNABORTED";Y.ETIMEDOUT="ETIMEDOUT";Y.ERR_NETWORK="ERR_NETWORK";Y.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Y.ERR_DEPRECATED="ERR_DEPRECATED";Y.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Y.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Y.ERR_CANCELED="ERR_CANCELED";Y.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Y.ERR_INVALID_URL="ERR_INVALID_URL";const $h=null;function Gn(t){return N.isPlainObject(t)||N.isArray(t)}function vl(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Ra(t,e,r){return t?t.concat(e).map(function(n,i){return n=vl(n),!r&&i?"["+n+"]":n}).join(r?".":""):e}function Ph(t){return N.isArray(t)&&!t.some(Gn)}const Lh=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function rn(t,e,r){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,g){return!N.isUndefined(g[j])});const s=r.metaTokens,n=r.visitor||h,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(n))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(N.isDate(b))return b.toISOString();if(N.isBoolean(b))return b.toString();if(!c&&N.isBlob(b))throw new Y("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(b)||N.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,j,g){let x=b;if(b&&!g&&typeof b=="object"){if(N.endsWith(j,"{}"))j=s?j:j.slice(0,-2),b=JSON.stringify(b);else if(N.isArray(b)&&Ph(b)||(N.isFileList(b)||N.endsWith(j,"[]"))&&(x=N.toArray(b)))return j=vl(j),x.forEach(function(C,T){!(N.isUndefined(C)||C===null)&&e.append(o===!0?Ra([j],T,i):o===null?j:j+"[]",d(C))}),!1}return Gn(b)?!0:(e.append(Ra(g,j,i),d(b)),!1)}const u=[],y=Object.assign(Lh,{defaultVisitor:h,convertValue:d,isVisitable:Gn});function p(b,j){if(!N.isUndefined(b)){if(u.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));u.push(b),N.forEach(b,function(x,R){(!(N.isUndefined(x)||x===null)&&n.call(e,x,N.isString(R)?R.trim():R,j,y))===!0&&p(x,j?j.concat(R):[R])}),u.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Oa(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ai(t,e){this._pairs=[],t&&rn(t,this,e)}const wl=Ai.prototype;wl.append=function(e,r){this._pairs.push([e,r])};wl.toString=function(e){const r=e?function(s){return e.call(this,s,Oa)}:Oa;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Dh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _l(t,e,r){if(!e)return t;const s=r&&r.encode||Dh,n=N.isFunction(r)?{serialize:r}:r,i=n&&n.serialize;let o;if(i?o=i(e,n):o=N.isURLSearchParams(e)?e.toString():new Ai(e,n).toString(s),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Aa{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Nl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uh=typeof URLSearchParams<"u"?URLSearchParams:Ai,Fh=typeof FormData<"u"?FormData:null,Mh=typeof Blob<"u"?Blob:null,Bh={isBrowser:!0,classes:{URLSearchParams:Uh,FormData:Fh,Blob:Mh},protocols:["http","https","file","blob","url","data"]},Ii=typeof window<"u"&&typeof document<"u",Yn=typeof navigator=="object"&&navigator||void 0,Vh=Ii&&(!Yn||["ReactNative","NativeScript","NS"].indexOf(Yn.product)<0),Hh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qh=Ii&&window.location.href||"http://localhost",Wh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ii,hasStandardBrowserEnv:Vh,hasStandardBrowserWebWorkerEnv:Hh,navigator:Yn,origin:qh},Symbol.toStringTag,{value:"Module"})),De={...Wh,...Bh};function zh(t,e){return rn(t,new De.classes.URLSearchParams,{visitor:function(r,s,n,i){return De.isNode&&N.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Zh(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Kh(t){const e={},r=Object.keys(t);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],e[i]=t[i];return e}function jl(t){function e(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&N.isArray(n)?n.length:o,c?(N.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!l):((!n[o]||!N.isObject(n[o]))&&(n[o]=[]),e(r,s,n[o],i)&&N.isArray(n[o])&&(n[o]=Kh(n[o])),!l)}if(N.isFormData(t)&&N.isFunction(t.entries)){const r={};return N.forEachEntry(t,(s,n)=>{e(Zh(s),n,r,0)}),r}return null}function Jh(t,e,r){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const os={transitional:Nl,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=N.isObject(e);if(i&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return n?JSON.stringify(jl(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return zh(e,this.formSerializer).toString();if((l=N.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return rn(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Jh(e)):e}],transformResponse:[function(e){const r=this.transitional||os.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(s&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Y.from(l,Y.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{os.headers[t]={}});const Qh=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xh=t=>{const e={};let r,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||e[r]&&Qh[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Ia=Symbol("internals");function Ir(t){return t&&String(t).trim().toLowerCase()}function As(t){return t===!1||t==null?t:N.isArray(t)?t.map(As):String(t)}function Gh(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const Yh=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gn(t,e,r,s,n){if(N.isFunction(s))return s.call(this,e,r);if(n&&(e=r),!!N.isString(e)){if(N.isString(s))return e.indexOf(s)!==-1;if(N.isRegExp(s))return s.test(e)}}function ef(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function tf(t,e){const r=N.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(n,i,o){return this[s].call(this,e,n,i,o)},configurable:!0})})}let Ke=class{constructor(e){e&&this.set(e)}set(e,r,s){const n=this;function i(l,c,d){const h=Ir(c);if(!h)throw new Error("header name must be a non-empty string");const u=N.findKey(n,h);(!u||n[u]===void 0||d===!0||d===void 0&&n[u]!==!1)&&(n[u||c]=As(l))}const o=(l,c)=>N.forEach(l,(d,h)=>i(d,h,c));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(N.isString(e)&&(e=e.trim())&&!Yh(e))o(Xh(e),r);else if(N.isObject(e)&&N.isIterable(e)){let l={},c,d;for(const h of e){if(!N.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?N.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,r)}else e!=null&&i(r,e,s);return this}get(e,r){if(e=Ir(e),e){const s=N.findKey(this,e);if(s){const n=this[s];if(!r)return n;if(r===!0)return Gh(n);if(N.isFunction(r))return r.call(this,n,s);if(N.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ir(e),e){const s=N.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||gn(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let n=!1;function i(o){if(o=Ir(o),o){const l=N.findKey(s,o);l&&(!r||gn(s,s[l],l,r))&&(delete s[l],n=!0)}}return N.isArray(e)?e.forEach(i):i(e),n}clear(e){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!e||gn(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const r=this,s={};return N.forEach(this,(n,i)=>{const o=N.findKey(s,i);if(o){r[o]=As(n),delete r[i];return}const l=e?ef(i):String(i).trim();l!==i&&delete r[i],r[l]=As(n),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return N.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=e&&N.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Ia]=this[Ia]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Ir(o);s[l]||(tf(n,o),s[l]=!0)}return N.isArray(e)?e.forEach(i):i(e),this}};Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Ke.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});N.freezeMethods(Ke);function yn(t,e){const r=this||os,s=e||r,n=Ke.from(s.headers);let i=s.data;return N.forEach(t,function(l){i=l.call(r,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Sl(t){return!!(t&&t.__CANCEL__)}let ls=class extends Y{constructor(e,r,s){super(e??"canceled",Y.ERR_CANCELED,r,s),this.name="CanceledError",this.__CANCEL__=!0}};function kl(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new Y("Request failed with status code "+r.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function rf(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sf(t,e){t=t||10;const r=new Array(t),s=new Array(t);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=s[i];o||(o=d),r[n]=c,s[n]=d;let u=i,y=0;for(;u!==n;)y+=r[u++],u=u%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-o<e)return;const p=h&&d-h;return p?Math.round(y*1e3/p):void 0}}function nf(t,e){let r=0,s=1e3/e,n,i;const o=(d,h=Date.now())=>{r=h,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const h=Date.now(),u=h-r;u>=s?o(d,h):(n=d,i||(i=setTimeout(()=>{i=null,o(n)},s-u)))},()=>n&&o(n)]}const Ms=(t,e,r=3)=>{let s=0;const n=sf(50,250);return nf(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=n(c),h=o<=l;s=o;const u={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(u)},r)},$a=(t,e)=>{const r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},Pa=t=>(...e)=>N.asap(()=>t(...e)),af=De.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,De.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,of=De.hasStandardBrowserEnv?{write(t,e,r,s,n,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];N.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),N.isString(s)&&l.push(`path=${s}`),N.isString(n)&&l.push(`domain=${n}`),i===!0&&l.push("secure"),N.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lf(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cf(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function El(t,e,r){let s=!lf(e);return t&&(s||r==!1)?cf(t,e):e}const La=t=>t instanceof Ke?{...t}:t;function ar(t,e){e=e||{};const r={};function s(d,h,u,y){return N.isPlainObject(d)&&N.isPlainObject(h)?N.merge.call({caseless:y},d,h):N.isPlainObject(h)?N.merge({},h):N.isArray(h)?h.slice():h}function n(d,h,u,y){if(N.isUndefined(h)){if(!N.isUndefined(d))return s(void 0,d,u,y)}else return s(d,h,u,y)}function i(d,h){if(!N.isUndefined(h))return s(void 0,h)}function o(d,h){if(N.isUndefined(h)){if(!N.isUndefined(d))return s(void 0,d)}else return s(void 0,h)}function l(d,h,u){if(u in e)return s(d,h);if(u in t)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,u)=>n(La(d),La(h),u,!0)};return N.forEach(Object.keys({...t,...e}),function(h){const u=c[h]||n,y=u(t[h],e[h],h);N.isUndefined(y)&&u!==l||(r[h]=y)}),r}const Cl=t=>{const e=ar({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Ke.from(o),e.url=_l(El(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),N.isFormData(r)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(N.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,u])=>{d.includes(h.toLowerCase())&&o.set(h,u)})}}if(De.hasStandardBrowserEnv&&(s&&N.isFunction(s)&&(s=s(e)),s||s!==!1&&af(e.url))){const c=n&&i&&of.read(i);c&&o.set(n,c)}return e},df=typeof XMLHttpRequest<"u",uf=df&&function(t){return new Promise(function(r,s){const n=Cl(t);let i=n.data;const o=Ke.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,h,u,y,p,b;function j(){p&&p(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function x(){if(!g)return;const C=Ke.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),f={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:C,config:t,request:g};kl(function(_){r(_),j()},function(_){s(_),j()},f),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(s(new Y("Request aborted",Y.ECONNABORTED,t,g)),g=null)},g.onerror=function(T){const f=T&&T.message?T.message:"Network Error",v=new Y(f,Y.ERR_NETWORK,t,g);v.event=T||null,s(v),g=null},g.ontimeout=function(){let T=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const f=n.transitional||Nl;n.timeoutErrorMessage&&(T=n.timeoutErrorMessage),s(new Y(T,f.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,t,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&N.forEach(o.toJSON(),function(T,f){g.setRequestHeader(f,T)}),N.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&l!=="json"&&(g.responseType=n.responseType),d&&([y,b]=Ms(d,!0),g.addEventListener("progress",y)),c&&g.upload&&([u,p]=Ms(c),g.upload.addEventListener("progress",u),g.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(h=C=>{g&&(s(!C||C.type?new ls(null,t,g):C),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const R=rf(n.url);if(R&&De.protocols.indexOf(R)===-1){s(new Y("Unsupported protocol "+R+":",Y.ERR_BAD_REQUEST,t));return}g.send(i||null)})},hf=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,n;const i=function(d){if(!n){n=!0,l();const h=d instanceof Error?d:this.reason;s.abort(h instanceof Y?h:new ls(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Y(`timeout of ${e}ms exceeded`,Y.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>N.asap(l),c}},ff=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let s=0,n;for(;s<r;)n=s+e,yield t.slice(s,n),s=n},mf=async function*(t,e){for await(const r of pf(t))yield*ff(r,e)},pf=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Da=(t,e,r,s)=>{const n=mf(t,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await n.next();if(d){l(),c.close();return}let u=h.byteLength;if(r){let y=i+=u;r(y)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Ua=64*1024,{isFunction:js}=N,xf=(({Request:t,Response:e})=>({Request:t,Response:e}))(N.global),{ReadableStream:Fa,TextEncoder:Ma}=N.global,Ba=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gf=t=>{t=N.merge.call({skipUndefined:!0},xf,t);const{fetch:e,Request:r,Response:s}=t,n=e?js(e):typeof fetch=="function",i=js(r),o=js(s);if(!n)return!1;const l=n&&js(Fa),c=n&&(typeof Ma=="function"?(b=>j=>b.encode(j))(new Ma):async b=>new Uint8Array(await new r(b).arrayBuffer())),d=i&&l&&Ba(()=>{let b=!1;const j=new r(De.origin,{body:new Fa,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),h=o&&l&&Ba(()=>N.isReadableStream(new s("").body)),u={stream:h&&(b=>b.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!u[b]&&(u[b]=(j,g)=>{let x=j&&j[b];if(x)return x.call(j);throw new Y(`Response type '${b}' is not supported`,Y.ERR_NOT_SUPPORT,g)})});const y=async b=>{if(b==null)return 0;if(N.isBlob(b))return b.size;if(N.isSpecCompliantForm(b))return(await new r(De.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(N.isArrayBufferView(b)||N.isArrayBuffer(b))return b.byteLength;if(N.isURLSearchParams(b)&&(b=b+""),N.isString(b))return(await c(b)).byteLength},p=async(b,j)=>{const g=N.toFiniteNumber(b.getContentLength());return g??y(j)};return async b=>{let{url:j,method:g,data:x,signal:R,cancelToken:C,timeout:T,onDownloadProgress:f,onUploadProgress:v,responseType:_,headers:E,withCredentials:F="same-origin",fetchOptions:q}=Cl(b),W=e||fetch;_=_?(_+"").toLowerCase():"text";let D=hf([R,C&&C.toAbortSignal()],T),K=null;const P=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let I;try{if(v&&d&&g!=="get"&&g!=="head"&&(I=await p(E,x))!==0){let se=new r(j,{method:"POST",body:x,duplex:"half"}),de;if(N.isFormData(x)&&(de=se.headers.get("content-type"))&&E.setContentType(de),se.body){const[be,ve]=$a(I,Ms(Pa(v)));x=Da(se.body,Ua,be,ve)}}N.isString(F)||(F=F?"include":"omit");const A=i&&"credentials"in r.prototype,B={...q,signal:D,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:x,duplex:"half",credentials:A?F:void 0};K=i&&new r(j,B);let U=await(i?W(K,q):W(j,B));const X=h&&(_==="stream"||_==="response");if(h&&(f||X&&P)){const se={};["status","statusText","headers"].forEach(Le=>{se[Le]=U[Le]});const de=N.toFiniteNumber(U.headers.get("content-length")),[be,ve]=f&&$a(de,Ms(Pa(f),!0))||[];U=new s(Da(U.body,Ua,be,()=>{ve&&ve(),P&&P()}),se)}_=_||"text";let G=await u[N.findKey(u,_)||"text"](U,b);return!X&&P&&P(),await new Promise((se,de)=>{kl(se,de,{data:G,headers:Ke.from(U.headers),status:U.status,statusText:U.statusText,config:b,request:K})})}catch(A){throw P&&P(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,b,K),{cause:A.cause||A}):Y.from(A,A&&A.code,b,K)}}},yf=new Map,Tl=t=>{let e=t&&t.env||{};const{fetch:r,Request:s,Response:n}=e,i=[s,n,r];let o=i.length,l=o,c,d,h=yf;for(;l--;)c=i[l],d=h.get(c),d===void 0&&h.set(c,d=l?new Map:gf(e)),h=d;return d};Tl();const $i={http:$h,xhr:uf,fetch:{get:Tl}};N.forEach($i,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Va=t=>`- ${t}`,bf=t=>N.isFunction(t)||t===null||t===!1;function vf(t,e){t=N.isArray(t)?t:[t];const{length:r}=t;let s,n;const i={};for(let o=0;o<r;o++){s=t[o];let l;if(n=s,!bf(s)&&(n=$i[(l=String(s)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${l}'`);if(n&&(N.isFunction(n)||(n=n.get(e))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Va).join(`
`):" "+Va(o[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const Rl={getAdapter:vf,adapters:$i};function bn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ls(null,t)}function Ha(t){return bn(t),t.headers=Ke.from(t.headers),t.data=yn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Rl.getAdapter(t.adapter||os.adapter,t)(t).then(function(s){return bn(t),s.data=yn.call(t,t.transformResponse,s),s.headers=Ke.from(s.headers),s},function(s){return Sl(s)||(bn(t),s&&s.response&&(s.response.data=yn.call(t,t.transformResponse,s.response),s.response.headers=Ke.from(s.response.headers))),Promise.reject(s)})}const Ol="1.13.4",sn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sn[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const qa={};sn.transitional=function(e,r,s){function n(i,o){return"[Axios v"+Ol+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new Y(n(o," has been removed"+(r?" in "+r:"")),Y.ERR_DEPRECATED);return r&&!qa[o]&&(qa[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,l):!0}};sn.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function wf(t,e,r){if(typeof t!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const i=s[n],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new Y("option "+i+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}}const Is={assertOptions:wf,validators:sn},ut=Is.validators;let ir=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Aa,response:new Aa}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ar(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&Is.assertOptions(s,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),n!=null&&(N.isFunction(n)?r.paramsSerializer={serialize:n}:Is.assertOptions(n,{encode:ut.function,serialize:ut.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Is.assertOptions(r,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[r.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Ke.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let h,u=0,y;if(!c){const b=[Ha.bind(this),void 0];for(b.unshift(...l),b.push(...d),y=b.length,h=Promise.resolve(r);u<y;)h=h.then(b[u++],b[u++]);return h}y=l.length;let p=r;for(;u<y;){const b=l[u++],j=l[u++];try{p=b(p)}catch(g){j.call(this,g);break}}try{h=Ha.call(this,p)}catch(b){return Promise.reject(b)}for(u=0,y=d.length;u<y;)h=h.then(d[u++],d[u++]);return h}getUri(e){e=ar(this.defaults,e);const r=El(e.baseURL,e.url,e.allowAbsoluteUrls);return _l(r,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){ir.prototype[e]=function(r,s){return this.request(ar(s||{},{method:e,url:r,data:(s||{}).data}))}});N.forEach(["post","put","patch"],function(e){function r(s){return function(i,o,l){return this.request(ar(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ir.prototype[e]=r(),ir.prototype[e+"Form"]=r(!0)});let _f=class Al{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new ls(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Al(function(n){e=n}),cancel:e}}};function Nf(t){return function(r){return t.apply(null,r)}}function jf(t){return N.isObject(t)&&t.isAxiosError===!0}const ei={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ei).forEach(([t,e])=>{ei[e]=t});function Il(t){const e=new ir(t),r=ul(ir.prototype.request,e);return N.extend(r,ir.prototype,e,{allOwnKeys:!0}),N.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return Il(ar(t,n))},r}const Ne=Il(os);Ne.Axios=ir;Ne.CanceledError=ls;Ne.CancelToken=_f;Ne.isCancel=Sl;Ne.VERSION=Ol;Ne.toFormData=rn;Ne.AxiosError=Y;Ne.Cancel=Ne.CanceledError;Ne.all=function(e){return Promise.all(e)};Ne.spread=Nf;Ne.isAxiosError=jf;Ne.mergeConfig=ar;Ne.AxiosHeaders=Ke;Ne.formToJSON=t=>jl(N.isHTMLForm(t)?new FormData(t):t);Ne.getAdapter=Rl.getAdapter;Ne.HttpStatusCode=ei;Ne.default=Ne;const{Axios:Xg,AxiosError:Gg,CanceledError:Yg,isCancel:ey,CancelToken:ty,VERSION:ry,all:sy,Cancel:ny,isAxiosError:iy,spread:ay,toFormData:oy,AxiosHeaders:ly,HttpStatusCode:cy,formToJSON:dy,getAdapter:uy,mergeConfig:hy}=Ne,$l="http://localhost:8080",re=Ne.create({baseURL:$l,headers:{"Content-Type":"application/json"}});re.interceptors.request.use(t=>{const e=ze.getState().accessToken;return e&&(t.headers.Authorization=`Bearer ${e}`),t});re.interceptors.response.use(t=>t,async t=>{var r;const e=t.config;if(((r=t.response)==null?void 0:r.status)===401&&e&&!e._retry){e._retry=!0;const s=ze.getState().refreshToken;if(s)try{const{data:n}=await Ne.post(`${$l}/api/auth/refresh`,{refreshToken:s});return ze.getState().setTokens(n.accessToken,n.refreshToken??s),e.headers&&(e.headers.Authorization=`Bearer ${n.accessToken}`),re(e)}catch{return ze.getState().logout(),window.location.href="/",Promise.reject(t)}}return Promise.reject(t)});function Xe(t){var e,r;return Ne.isAxiosError(t)&&((r=(e=t.response)==null?void 0:e.data)!=null&&r.message)?String(t.response.data.message):t instanceof Error?t.message:" ."}function Re(t){var r,s;const e=(r=t.data)==null?void 0:r.data;if(e==null)throw new Error(((s=t.data)==null?void 0:s.message)??"No data");return e}const $s={list:()=>re.get("/api/notifications").then(Re),getUnreadCount:()=>re.get("/api/notifications/unread-count").then(Re),markRead:t=>re.patch(`/api/notifications/${t}/read`).then(Re),markAllRead:()=>re.patch("/api/notifications/read-all").then(Re)},cs={getMe:()=>re.get("/api/wallets/me").then(Re)};function Sf(){const t=Kt(),e=ze(o=>o.isAuthenticated()),r=ze(o=>o.logout),{data:s}=we({queryKey:["notifications","unread-count"],queryFn:()=>$s.getUnreadCount(),enabled:e}),{data:n}=we({queryKey:["wallet","me"],queryFn:()=>cs.getMe(),enabled:e}),i=()=>{r(),t("/")};return a.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/90 backdrop-blur-lg border-b border-border h-[72px] flex items-center",children:a.jsxs("div",{className:"max-w-[1200px] mx-auto w-full px-6 flex items-center justify-between gap-8",children:[a.jsxs(ie,{to:"/",className:"flex items-center gap-2 shrink-0",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-primary rounded-xl text-white shadow-lg shadow-blue-100",children:a.jsx("span",{className:"material-symbols-outlined fill-icon text-2xl",children:"gavel"})}),a.jsx("h1",{className:"text-[22px] font-bold tracking-tight text-primary hidden md:block",children:"Igloo"})]}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"flex items-center gap-2 shrink-0",children:e?a.jsxs(a.Fragment,{children:[a.jsxs(ie,{to:"/wallet",className:"p-2.5 rounded-xl hover:bg-[#f8f9fa] text-[#495057] relative transition-colors",title:"",children:[a.jsx("span",{className:"material-symbols-outlined",children:"account_balance_wallet"}),n!=null&&n.balance>0&&a.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-primary rounded-full border-2 border-white"})]}),a.jsxs(ie,{to:"/notifications",className:"p-2.5 rounded-xl hover:bg-[#f8f9fa] text-[#495057] relative transition-colors",title:"",children:[a.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),(s??0)>0&&a.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-primary rounded-full border-2 border-white"})]}),a.jsx("div",{className:"h-6 w-px bg-border mx-2"}),a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-2 pl-2 pr-1 py-1 rounded-full border border-border hover:bg-[#f8f9fa] transition-all","aria-expanded":"false","aria-haspopup":"true",children:[a.jsx("span",{className:"text-sm font-semibold px-2",children:" "}),a.jsx("span",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx("span",{className:"material-symbols-outlined text-primary",children:"person"})})]}),a.jsxs("div",{className:"absolute right-0 top-full mt-1 py-2 w-48 bg-white rounded-xl border border-border shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[a.jsx(ie,{to:"/me",className:"block px-4 py-2 text-sm hover:bg-gray-50 rounded-lg mx-1",children:" "}),a.jsx(ie,{to:"/me/edit",className:"block px-4 py-2 text-sm hover:bg-gray-50 rounded-lg mx-1",children:" "}),a.jsx(ie,{to:"/wallet",className:"block px-4 py-2 text-sm hover:bg-gray-50 rounded-lg mx-1",children:""}),a.jsx("button",{type:"button",onClick:i,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg mx-1",children:""})]})]})]}):a.jsx(a.Fragment,{children:a.jsx(ie,{to:"/login",className:"px-4 py-2 rounded-xl bg-primary text-white font-semibold text-sm hover:bg-primary-hover transition-colors",children:""})})})]})})}const Pl={list:()=>re.get("/api/categories").then(t=>t.data)};function kf(t){const e=new Map;t.forEach(s=>{e.set(s.id,{...s,children:[]})});const r=[];return e.forEach(s=>{if(s.parentId==null)r.push(s);else{const n=e.get(s.parentId);n?n.children.push(s):r.push(s)}}),r}function Ll(t,e){for(const r of t){if(r.id===e)return r;const s=Ll(r.children,e);if(s)return s}return null}function Ef(t,e){const r=new Map(t.map(i=>[i.id,i])),s=[];let n=r.get(e);for(;n;)s.unshift(n.name),n=n.parentId!=null?r.get(n.parentId):void 0;return s}function Cf(){const[t]=ss(),e=t.get("categoryId")?Number(t.get("categoryId")):null,{data:r=[]}=we({queryKey:["categories"],queryFn:()=>Pl.list(),retry:!1}),s=S.useMemo(()=>kf(r),[r]),n=S.useMemo(()=>e!=null&&!Number.isNaN(e)?Ef(r,e):[],[r,e]),[i,o]=S.useState(null),[l,c]=S.useState([]),d=s.find(x=>x.id===i),h=()=>{o(null),c([])},u=(d==null?void 0:d.children)??[],y=x=>{if(x===0)return u;const R=l[x-1];if(R==null)return[];const C=Ll(s,R);return(C==null?void 0:C.children)??[]},p=x=>{x.children.length>0?c([x.id]):c([])},b=(x,R)=>{R.children.length>0?c(C=>{const T=C.slice(0,x);return T.push(R.id),T}):c(C=>C.slice(0,x))},j=()=>{o(null),c([])},g=i!=null&&(u.length>0||l.length>0);return a.jsx("nav",{className:"sticky top-[72px] z-40 w-full bg-white border-b border-border shadow-sm",children:a.jsxs("div",{className:"max-w-[1200px] mx-auto w-full px-6 relative",onMouseLeave:j,children:[a.jsxs("ul",{className:"flex items-center gap-1 min-h-[48px]",children:[a.jsx("li",{className:"flex items-center",children:a.jsx(ie,{to:"/",className:`px-4 py-3 text-sm font-semibold rounded-lg transition-colors ${e==null?"text-primary bg-primary/10":"text-text-main hover:bg-[#f8f9fa]"}`,children:""})}),s.map(x=>a.jsx("li",{className:"relative",onMouseEnter:()=>{o(x.id),c([])},children:a.jsxs(ie,{to:`/?categoryId=${x.id}`,onClick:h,className:`inline-flex items-center px-4 py-3 text-sm font-semibold rounded-lg transition-colors ${e===x.id?"text-primary bg-primary/10":"text-text-main hover:bg-[#f8f9fa]"}`,children:[x.name,x.children.length>0&&a.jsx("span",{className:"material-symbols-outlined text-base ml-0.5 opacity-70",children:"expand_more"})]})},x.id))]}),g&&d&&a.jsx("div",{className:"absolute left-6 right-6 top-full pt-0 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl border border-border shadow-lg py-2 flex min-h-[120px]",children:[a.jsx("div",{className:"flex flex-col min-w-[200px] border-r border-border pr-1",children:a.jsx("ul",{className:"py-1",children:u.map(x=>a.jsx("li",{onMouseEnter:()=>p(x),children:a.jsxs(ie,{to:`/?categoryId=${x.id}`,onClick:h,className:`flex items-center justify-between px-4 py-2.5 text-sm w-full text-left rounded-lg mx-1 transition-colors ${e===x.id?"bg-primary/10 text-primary font-semibold":"text-text-main hover:bg-[#f8f9fa]"}`,children:[a.jsx("span",{children:x.name}),x.children.length>0&&a.jsx("span",{className:"material-symbols-outlined text-lg text-text-muted",children:"chevron_right"})]})},x.id))})}),l.map((x,R)=>{const C=y(R+1);return C.length===0?null:a.jsx("div",{className:"flex flex-col min-w-[200px] border-r border-border last:border-r-0 px-1",children:a.jsx("ul",{className:"py-1",children:C.map(T=>a.jsx("li",{onMouseEnter:()=>b(R+1,T),children:a.jsxs(ie,{to:`/?categoryId=${T.id}`,onClick:h,className:`flex items-center justify-between px-4 py-2.5 text-sm w-full text-left rounded-lg mx-1 transition-colors ${e===T.id?"bg-primary/10 text-primary font-semibold":"text-text-main hover:bg-[#f8f9fa]"}`,children:[a.jsx("span",{children:T.name}),T.children.length>0&&a.jsx("span",{className:"material-symbols-outlined text-lg text-text-muted",children:"chevron_right"})]})},T.id))})},R)})]})}),n.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5 py-2 text-sm text-text-muted border-t border-border/50",children:[a.jsx("span",{className:"font-medium text-text-main",children:" "}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("span",{className:"font-medium text-primary",children:n.join(" > ")})]})]})})}const at=dl(t=>({toasts:[],add:(e,r="info")=>{const s=`toast-${Date.now()}-${Math.random().toString(36).slice(2)}`;t(n=>({toasts:[...n.toasts,{id:s,message:e,type:r}]})),setTimeout(()=>t(n=>({toasts:n.toasts.filter(i=>i.id!==s)})),4e3)},remove:e=>t(r=>({toasts:r.toasts.filter(s=>s.id!==e)}))})),Tf={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-primary text-white"};function Rf(){const t=at(r=>r.toasts),e=at(r=>r.remove);return a.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",role:"region","aria-label":"",children:t.map(r=>a.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg ${Tf[r.type]}`,role:"alert",children:[a.jsx("span",{className:"material-symbols-outlined",children:r.type==="success"?"check_circle":r.type==="error"?"error":"info"}),a.jsx("p",{className:"text-sm font-medium",children:r.message}),a.jsx("button",{type:"button",onClick:()=>e(r.id),className:"p-1 rounded hover:bg-white/20 focus:outline-none","aria-label":"",children:a.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"})})]},r.id))})}function Of(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Sf,{}),a.jsx(Cf,{}),a.jsx("main",{className:"flex-1",children:a.jsx(Tu,{})}),a.jsx(Rf,{})]})}function ht({children:t}){const e=ze(s=>s.isAuthenticated()),r=lr();return e?a.jsx(a.Fragment,{children:t}):a.jsx(cl,{to:"/",state:{from:r},replace:!0})}const ds={list:t=>re.get("/api/auctions",{params:{page:(t==null?void 0:t.page)??0,size:(t==null?void 0:t.size)??12,status:t==null?void 0:t.status}}).then(Re),search:t=>re.get("/api/auctions/search",{params:{page:t.page??0,size:t.size??12,keyword:t.keyword,categoryId:t.categoryId,status:t.status,sort:t.sort??"LATEST"}}).then(Re),getById:t=>re.get(`/api/auctions/${t}`).then(Re),create:t=>re.post("/api/auctions",t).then(Re),cancel:t=>re.delete(`/api/auctions/${t}`)};var Dl={exports:{}};(function(t,e){(function(r,s){t.exports=s()})(Xo,function(){var r=1e3,s=6e4,n=36e5,i="millisecond",o="second",l="minute",c="hour",d="day",h="week",u="month",y="quarter",p="year",b="date",j="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var I=["th","st","nd","rd"],A=P%100;return"["+P+(I[(A-20)%10]||I[A]||I[0])+"]"}},C=function(P,I,A){var B=String(P);return!B||B.length>=I?P:""+Array(I+1-B.length).join(A)+P},T={s:C,z:function(P){var I=-P.utcOffset(),A=Math.abs(I),B=Math.floor(A/60),U=A%60;return(I<=0?"+":"-")+C(B,2,"0")+":"+C(U,2,"0")},m:function P(I,A){if(I.date()<A.date())return-P(A,I);var B=12*(A.year()-I.year())+(A.month()-I.month()),U=I.clone().add(B,u),X=A-U<0,G=I.clone().add(B+(X?-1:1),u);return+(-(B+(A-U)/(X?U-G:G-U))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:u,y:p,w:h,d,D:b,h:c,m:l,s:o,ms:i,Q:y}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},f="en",v={};v[f]=R;var _="$isDayjsObject",E=function(P){return P instanceof D||!(!P||!P[_])},F=function P(I,A,B){var U;if(!I)return f;if(typeof I=="string"){var X=I.toLowerCase();v[X]&&(U=X),A&&(v[X]=A,U=X);var G=I.split("-");if(!U&&G.length>1)return P(G[0])}else{var se=I.name;v[se]=I,U=se}return!B&&U&&(f=U),U||!B&&f},q=function(P,I){if(E(P))return P.clone();var A=typeof I=="object"?I:{};return A.date=P,A.args=arguments,new D(A)},W=T;W.l=F,W.i=E,W.w=function(P,I){return q(P,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var D=function(){function P(A){this.$L=F(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[_]=!0}var I=P.prototype;return I.parse=function(A){this.$d=function(B){var U=B.date,X=B.utc;if(U===null)return new Date(NaN);if(W.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var G=U.match(g);if(G){var se=G[2]-1||0,de=(G[7]||"0").substring(0,3);return X?new Date(Date.UTC(G[1],se,G[3]||1,G[4]||0,G[5]||0,G[6]||0,de)):new Date(G[1],se,G[3]||1,G[4]||0,G[5]||0,G[6]||0,de)}}return new Date(U)}(A),this.init()},I.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},I.$utils=function(){return W},I.isValid=function(){return this.$d.toString()!==j},I.isSame=function(A,B){var U=q(A);return this.startOf(B)<=U&&U<=this.endOf(B)},I.isAfter=function(A,B){return q(A)<this.startOf(B)},I.isBefore=function(A,B){return this.endOf(B)<q(A)},I.$g=function(A,B,U){return W.u(A)?this[B]:this.set(U,A)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(A,B){var U=this,X=!!W.u(B)||B,G=W.p(A),se=function(dt,Pe){var Ye=W.w(U.$u?Date.UTC(U.$y,Pe,dt):new Date(U.$y,Pe,dt),U);return X?Ye:Ye.endOf(d)},de=function(dt,Pe){return W.w(U.toDate()[dt].apply(U.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Pe)),U)},be=this.$W,ve=this.$M,Le=this.$D,wt="set"+(this.$u?"UTC":"");switch(G){case p:return X?se(1,0):se(31,11);case u:return X?se(1,ve):se(0,ve+1);case h:var _t=this.$locale().weekStart||0,Nt=(be<_t?be+7:be)-_t;return se(X?Le-Nt:Le+(6-Nt),ve);case d:case b:return de(wt+"Hours",0);case c:return de(wt+"Minutes",1);case l:return de(wt+"Seconds",2);case o:return de(wt+"Milliseconds",3);default:return this.clone()}},I.endOf=function(A){return this.startOf(A,!1)},I.$set=function(A,B){var U,X=W.p(A),G="set"+(this.$u?"UTC":""),se=(U={},U[d]=G+"Date",U[b]=G+"Date",U[u]=G+"Month",U[p]=G+"FullYear",U[c]=G+"Hours",U[l]=G+"Minutes",U[o]=G+"Seconds",U[i]=G+"Milliseconds",U)[X],de=X===d?this.$D+(B-this.$W):B;if(X===u||X===p){var be=this.clone().set(b,1);be.$d[se](de),be.init(),this.$d=be.set(b,Math.min(this.$D,be.daysInMonth())).$d}else se&&this.$d[se](de);return this.init(),this},I.set=function(A,B){return this.clone().$set(A,B)},I.get=function(A){return this[W.p(A)]()},I.add=function(A,B){var U,X=this;A=Number(A);var G=W.p(B),se=function(ve){var Le=q(X);return W.w(Le.date(Le.date()+Math.round(ve*A)),X)};if(G===u)return this.set(u,this.$M+A);if(G===p)return this.set(p,this.$y+A);if(G===d)return se(1);if(G===h)return se(7);var de=(U={},U[l]=s,U[c]=n,U[o]=r,U)[G]||1,be=this.$d.getTime()+A*de;return W.w(be,this)},I.subtract=function(A,B){return this.add(-1*A,B)},I.format=function(A){var B=this,U=this.$locale();if(!this.isValid())return U.invalidDate||j;var X=A||"YYYY-MM-DDTHH:mm:ssZ",G=W.z(this),se=this.$H,de=this.$m,be=this.$M,ve=U.weekdays,Le=U.months,wt=U.meridiem,_t=function(Pe,Ye,Qt,Xt){return Pe&&(Pe[Ye]||Pe(B,X))||Qt[Ye].slice(0,Xt)},Nt=function(Pe){return W.s(se%12||12,Pe,"0")},dt=wt||function(Pe,Ye,Qt){var Xt=Pe<12?"AM":"PM";return Qt?Xt.toLowerCase():Xt};return X.replace(x,function(Pe,Ye){return Ye||function(Qt){switch(Qt){case"YY":return String(B.$y).slice(-2);case"YYYY":return W.s(B.$y,4,"0");case"M":return be+1;case"MM":return W.s(be+1,2,"0");case"MMM":return _t(U.monthsShort,be,Le,3);case"MMMM":return _t(Le,be);case"D":return B.$D;case"DD":return W.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return _t(U.weekdaysMin,B.$W,ve,2);case"ddd":return _t(U.weekdaysShort,B.$W,ve,3);case"dddd":return ve[B.$W];case"H":return String(se);case"HH":return W.s(se,2,"0");case"h":return Nt(1);case"hh":return Nt(2);case"a":return dt(se,de,!0);case"A":return dt(se,de,!1);case"m":return String(de);case"mm":return W.s(de,2,"0");case"s":return String(B.$s);case"ss":return W.s(B.$s,2,"0");case"SSS":return W.s(B.$ms,3,"0");case"Z":return G}return null}(Pe)||G.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(A,B,U){var X,G=this,se=W.p(B),de=q(A),be=(de.utcOffset()-this.utcOffset())*s,ve=this-de,Le=function(){return W.m(G,de)};switch(se){case p:X=Le()/12;break;case u:X=Le();break;case y:X=Le()/3;break;case h:X=(ve-be)/6048e5;break;case d:X=(ve-be)/864e5;break;case c:X=ve/n;break;case l:X=ve/s;break;case o:X=ve/r;break;default:X=ve}return U?X:W.a(X)},I.daysInMonth=function(){return this.endOf(u).$D},I.$locale=function(){return v[this.$L]},I.locale=function(A,B){if(!A)return this.$L;var U=this.clone(),X=F(A,B,!0);return X&&(U.$L=X),U},I.clone=function(){return W.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},P}(),K=D.prototype;return q.prototype=K,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",d],["$M",u],["$y",p],["$D",b]].forEach(function(P){K[P[1]]=function(I){return this.$g(I,P[0],P[1])}}),q.extend=function(P,I){return P.$i||(P(I,D,q),P.$i=!0),q},q.locale=F,q.isDayjs=E,q.unix=function(P){return q(1e3*P)},q.en=v[f],q.Ls=v,q.p={},q})})(Dl);var Af=Dl.exports;const ti=Qo(Af),If=new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",maximumFractionDigits:0});function Se(t){return If.format(t)}function Bs(t){return ti(t).format("YYYY-MM-DD HH:mm")}function Pi(t){const e=ti(t),r=ti(),s=r.diff(e,"minute");if(s<1)return" ";if(s<60)return`${s} `;const n=r.diff(e,"hour");if(n<24)return`${n} `;const i=r.diff(e,"day");return i<7?`${i} `:e.format("YYYY-MM-DD")}function Oe({className:t=""}){return a.jsx("div",{className:`animate-pulse rounded-lg bg-gray-200 ${t}`,"aria-hidden":"true"})}function $f(){return a.jsxs("div",{className:"flex flex-col bg-white rounded-2xl border border-border overflow-hidden",children:[a.jsx(Oe,{className:"aspect-[4/3] w-full"}),a.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[a.jsx(Oe,{className:"h-4 w-2/3"}),a.jsx(Oe,{className:"h-5 w-1/2"}),a.jsx(Oe,{className:"h-6 w-1/3 mt-2"})]})]})}const Wa={LATEST:"",BID_COUNT:"",DEADLINE:"",PRICE_HIGH:" ",PRICE_LOW:" "};function Pf(){const[t]=ss(),e=t.get("categoryId"),[r,s]=S.useState(()=>e?Number(e):void 0);S.useEffect(()=>{const x=e?Number(e):void 0;s(Number.isNaN(x)?void 0:x)},[e]);const[n,i]=S.useState(""),[o,l]=S.useState("LATEST"),[c,d]=S.useState(0),[h,u]=S.useState(""),{data:y,isLoading:p}=we({queryKey:["auctions","search",n||void 0,r,o,c],queryFn:()=>ds.search({keyword:n||void 0,categoryId:r,sort:o,page:c,size:12}),retry:!1}),b=x=>{x.preventDefault(),i(h),d(0)},j=(y==null?void 0:y.content)??[],g=y!=null&&!y.last;return a.jsx("main",{className:"max-w-[1200px] mx-auto px-6 py-8",children:a.jsxs("section",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex flex-col gap-5",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight text-text-main",children:"  "}),a.jsxs(ie,{to:"/auctions/new",className:"px-4 py-2.5 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-hover flex items-center gap-2 transition-colors shrink-0",children:[a.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_circle"})," "]}),a.jsxs("form",{onSubmit:b,className:"flex items-center gap-2 flex-wrap",children:[a.jsx("input",{type:"text",placeholder:"...",value:h,onChange:x=>u(x.target.value),className:"rounded-xl border border-border px-4 py-2 text-sm w-48 focus:ring-2 focus:ring-primary focus:border-primary","aria-label":""}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-hover",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-text-muted",children:":"}),a.jsx("select",{value:o,onChange:x=>l(x.target.value),className:"text-sm font-bold text-primary border-0 bg-transparent cursor-pointer focus:ring-0","aria-label":"",children:Object.keys(Wa).map(x=>a.jsx("option",{value:x,children:Wa[x]},x))})]})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:p?Array.from({length:6}).map((x,R)=>a.jsx($f,{},R)):j.map(x=>a.jsx(Lf,{auction:x},x.auctionId))}),g&&a.jsx("div",{className:"flex justify-center mt-12 mb-8",children:a.jsx("button",{type:"button",onClick:()=>d(x=>x+1),className:"px-10 py-3.5 rounded-2xl border-2 border-border text-[#495057] font-bold text-[15px] hover:border-primary hover:text-primary hover:bg-primary-light/30 transition-all",children:" "})})]})})}function Lf({auction:t}){const e=t.thumbnailUrl??void 0,r=t.status==="RUNNING"||t.status==="DEADLINE",s=t.endAt?new Date(t.endAt).getTime()-Date.now():0,[n,i]=S.useState(s>0?Math.floor(s/1e3):0);S.useEffect(()=>{if(n<=0)return;const h=setInterval(()=>i(u=>u<=0?0:u-1),1e3);return()=>clearInterval(h)},[n]);const o=Math.floor(n/3600),l=Math.floor(n%3600/60),c=n%60,d=`${String(o).padStart(2,"0")}:${String(l).padStart(2,"0")}:${String(c).padStart(2,"0")}`;return a.jsxs(ie,{to:`/auctions/${t.auctionId}`,className:"group flex flex-col bg-white rounded-2xl border border-border overflow-hidden sky-shadow-hover transition-all duration-500",children:[a.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-[#f8f9fa]",children:[e?a.jsx("img",{src:e,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-muted",children:a.jsx("span",{className:"material-symbols-outlined text-5xl",children:"image"})}),a.jsx("div",{className:"absolute bottom-3 left-3",children:a.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg shadow-sm border ${r?"bg-white/95 border-primary-light":"bg-white/95 border-border"}`,children:[r&&a.jsx("span",{className:"live-dot-blue"}),a.jsx("span",{className:`text-[11px] font-extrabold tracking-tight uppercase ${r?"text-primary":"text-[#495057]"}`,children:n>0?d:""})]})})]}),a.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[a.jsx("h3",{className:"font-bold text-[16px] text-text-main line-clamp-1 group-hover:text-primary transition-colors",children:t.title}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[11px] font-bold text-[#adb5bd] uppercase tracking-wider leading-none mb-1",children:""}),a.jsx("span",{className:"text-[20px] font-extrabold text-text-main",children:Se(t.currentPrice)})]}),(t.bidCount??0)>0&&a.jsxs("div",{className:"flex items-center gap-1 text-primary text-[13px] font-bold",children:[a.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"gavel"}),t.bidCount]})]})]})]})}const Zr={list:(t,e)=>re.get(`/api/bid/${t}`,{params:{page:(e==null?void 0:e.page)??0,size:(e==null?void 0:e.size)??20}}).then(Re),myBids:t=>re.get("/api/bid/my",{params:{page:(t==null?void 0:t.page)??0,size:(t==null?void 0:t.size)??20}}).then(Re),place:t=>re.post("/api/bid",t)};var ri={exports:{}};(function(t,e){(function(r,s){s(e)})(Xo,function(r){function s(T,f){T.terminate=function(){const v=()=>{};this.onerror=v,this.onmessage=v,this.onopen=v;const _=new Date,E=Math.random().toString().substring(2,8),F=this.onclose;this.onclose=q=>{const W=new Date().getTime()-_.getTime();f(`Discarded socket (#${E})  closed after ${W}ms, with code/reason: ${q.code}/${q.reason}`)},this.close(),F==null||F.call(T,{code:4001,reason:`Quick discarding socket (#${E}) without waiting for the shutdown sequence.`,wasClean:!1})}}const n={LF:`
`,NULL:"\0"};class i{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(f){const{command:v,headers:_,body:E,binaryBody:F,escapeHeaderValues:q,skipContentLengthHeader:W}=f;this.command=v,this.headers=Object.assign({},_||{}),F?(this._binaryBody=F,this.isBinaryBody=!0):(this._body=E||"",this.isBinaryBody=!1),this.escapeHeaderValues=q||!1,this.skipContentLengthHeader=W||!1}static fromRawFrame(f,v){const _={},E=F=>F.replace(/^\s+|\s+$/g,"");for(const F of f.headers.reverse()){F.indexOf(":");const q=E(F[0]);let W=E(F[1]);v&&f.command!=="CONNECT"&&f.command!=="CONNECTED"&&(W=i.hdrValueUnEscape(W)),_[q]=W}return new i({command:f.command,headers:_,binaryBody:f.binaryBody,escapeHeaderValues:v})}toString(){return this.serializeCmdAndHeaders()}serialize(){const f=this.serializeCmdAndHeaders();return this.isBinaryBody?i.toUnit8Array(f,this._binaryBody).buffer:f+this._body+n.NULL}serializeCmdAndHeaders(){const f=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const v of Object.keys(this.headers||{})){const _=this.headers[v];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?f.push(`${v}:${i.hdrValueEscape(`${_}`)}`):f.push(`${v}:${_}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&f.push(`content-length:${this.bodyLength()}`),f.join(n.LF)+n.LF+n.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const f=this.binaryBody;return f?f.length:0}static sizeOfUTF8(f){return f?new TextEncoder().encode(f).length:0}static toUnit8Array(f,v){const _=new TextEncoder().encode(f),E=new Uint8Array([0]),F=new Uint8Array(_.length+v.length+E.length);return F.set(_),F.set(v,_.length),F.set(E,_.length+v.length),F}static marshall(f){return new i(f).serialize()}static hdrValueEscape(f){return f.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(f){return f.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const o=0,l=10,c=13,d=58;class h{constructor(f,v){this.onFrame=f,this.onIncomingPing=v,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(f,v=!1){let _;if(typeof f=="string"?_=this._encoder.encode(f):_=new Uint8Array(f),v&&_[_.length-1]!==0){const E=new Uint8Array(_.length+1);E.set(_,0),E[_.length]=0,_=E}for(let E=0;E<_.length;E++){const F=_[E];this._onByte(F)}}_collectFrame(f){if(f!==o&&f!==c){if(f===l){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(f)}}_collectCommand(f){if(f!==c){if(f===l){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(f)}}_collectHeaders(f){if(f!==c){if(f===l){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(f)}}_reinjectByte(f){this._onByte(f)}_collectHeaderKey(f){if(f===d){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(f)}_collectHeaderValue(f){if(f!==c){if(f===l){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(f)}}_setupCollectBody(){const f=this._results.headers.filter(v=>v[0]==="content-length")[0];f?(this._bodyBytesRemaining=parseInt(f[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(f){if(f===o){this._retrievedBody();return}this._consumeByte(f)}_collectBodyFixedSize(f){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(f)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(f){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",f)}this._initState()}_consumeByte(f){this._token.push(f)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const f=new Uint8Array(this._token);return this._token=[],f}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}r.StompSocketState=void 0,function(T){T[T.CONNECTING=0]="CONNECTING",T[T.OPEN=1]="OPEN",T[T.CLOSING=2]="CLOSING",T[T.CLOSED=3]="CLOSED"}(r.StompSocketState||(r.StompSocketState={})),r.ActivationState=void 0,function(T){T[T.ACTIVE=0]="ACTIVE",T[T.DEACTIVATING=1]="DEACTIVATING",T[T.INACTIVE=2]="INACTIVE"}(r.ActivationState||(r.ActivationState={})),r.ReconnectionTimeMode=void 0,function(T){T[T.LINEAR=0]="LINEAR",T[T.EXPONENTIAL=1]="EXPONENTIAL"}(r.ReconnectionTimeMode||(r.ReconnectionTimeMode={})),r.TickerStrategy=void 0,function(T){T.Interval="interval",T.Worker="worker"}(r.TickerStrategy||(r.TickerStrategy={}));class u{constructor(f,v=r.TickerStrategy.Interval,_){this._interval=f,this._strategy=v,this._debug=_,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(f){this.stop(),this.shouldUseWorker()?this.runWorker(f):this.runInterval(f)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===r.TickerStrategy.Worker}runWorker(f){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=v=>f(v.data))}runInterval(f){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const v=Date.now();this._timer=setInterval(()=>{f(Date.now()-v)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class y{constructor(f){this.versions=f}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(f=>`v${f.replace(".","")}.stomp`)}}y.V1_0="1.0",y.V1_1="1.1",y.V1_2="1.2",y.default=new y([y.V1_2,y.V1_1,y.V1_0]);class p{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(f,v,_){this._client=f,this._webSocket=v,this._connected=!1,this._serverFrameHandlers={CONNECTED:E=>{this.debug(`connected to server ${E.headers.server}`),this._connected=!0,this._connectedVersion=E.headers.version,this._connectedVersion===y.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(E.headers),this.onConnect(E)},MESSAGE:E=>{const F=E.headers.subscription,q=this._subscriptions[F]||this.onUnhandledMessage,W=E,D=this,K=this._connectedVersion===y.V1_2?W.headers.ack:W.headers["message-id"];W.ack=(P={})=>D.ack(K,F,P),W.nack=(P={})=>D.nack(K,F,P),q(W)},RECEIPT:E=>{const F=this._receiptWatchers[E.headers["receipt-id"]];F?(F(E),delete this._receiptWatchers[E.headers["receipt-id"]]):this.onUnhandledReceipt(E)},ERROR:E=>{this.onStompError(E)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=_.debug,this.stompVersions=_.stompVersions,this.connectHeaders=_.connectHeaders,this.disconnectHeaders=_.disconnectHeaders,this.heartbeatIncoming=_.heartbeatIncoming,this.heartbeatToleranceMultiplier=_.heartbeatGracePeriods,this.heartbeatOutgoing=_.heartbeatOutgoing,this.splitLargeFrames=_.splitLargeFrames,this.maxWebSocketChunkSize=_.maxWebSocketChunkSize,this.forceBinaryWSFrames=_.forceBinaryWSFrames,this.logRawCommunication=_.logRawCommunication,this.appendMissingNULLonIncoming=_.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=_.discardWebsocketOnCommFailure,this.onConnect=_.onConnect,this.onDisconnect=_.onDisconnect,this.onStompError=_.onStompError,this.onWebSocketClose=_.onWebSocketClose,this.onWebSocketError=_.onWebSocketError,this.onUnhandledMessage=_.onUnhandledMessage,this.onUnhandledReceipt=_.onUnhandledReceipt,this.onUnhandledFrame=_.onUnhandledFrame,this.onHeartbeatReceived=_.onHeartbeatReceived,this.onHeartbeatLost=_.onHeartbeatLost}start(){const f=new h(_=>{const E=i.fromRawFrame(_,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${E}`),(this._serverFrameHandlers[E.command]||this.onUnhandledFrame)(E)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=_=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const E=_.data instanceof ArrayBuffer?new TextDecoder().decode(_.data):_.data;this.debug(`<<< ${E}`)}f.parseChunk(_.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=_=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(_)},this._webSocket.onerror=_=>{this.onWebSocketError(_)};const v=()=>{const _=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),_["accept-version"]=this.stompVersions.supportedVersions(),_["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:_})};this._webSocket.readyState===r.StompSocketState.OPEN?v():this._webSocket.onopen=v}_setupHeartbeat(f){if(f.version!==y.V1_1&&f.version!==y.V1_2||!f["heart-beat"])return;const[v,_]=f["heart-beat"].split(",").map(E=>parseInt(E,10));if(this.heartbeatOutgoing!==0&&_!==0){const E=Math.max(this.heartbeatOutgoing,_);this.debug(`send PING every ${E}ms`),this._pinger=new u(E,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===r.StompSocketState.OPEN&&(this._webSocket.send(n.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&v!==0){const E=Math.max(this.heartbeatIncoming,v);this.debug(`check PONG every ${E}ms`),this._ponger=setInterval(()=>{const F=Date.now()-this._lastServerActivityTS;F>E*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${F}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},E)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===r.StompSocketState.CONNECTING||this._webSocket.readyState===r.StompSocketState.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&s(this._webSocket,f=>this.debug(f)),this._webSocket.terminate()}_transmit(f){const{command:v,headers:_,body:E,binaryBody:F,skipContentLengthHeader:q}=f,W=new i({command:v,headers:_,body:E,binaryBody:F,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:q});let D=W.serialize();if(this.logRawCommunication?this.debug(`>>> ${D}`):this.debug(`>>> ${W}`),this.forceBinaryWSFrames&&typeof D=="string"&&(D=new TextEncoder().encode(D)),typeof D!="string"||!this.splitLargeFrames)this._webSocket.send(D);else{let K=D;for(;K.length>0;){const P=K.substring(0,this.maxWebSocketChunkSize);K=K.substring(this.maxWebSocketChunkSize),this._webSocket.send(P),this.debug(`chunk sent = ${P.length}, remaining = ${K.length}`)}}}dispose(){if(this.connected)try{const f=Object.assign({},this.disconnectHeaders);f.receipt||(f.receipt=`close-${this._counter++}`),this.watchForReceipt(f.receipt,v=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(v)}),this._transmit({command:"DISCONNECT",headers:f})}catch(f){this.debug(`Ignoring error during disconnect ${f}`)}else(this._webSocket.readyState===r.StompSocketState.CONNECTING||this._webSocket.readyState===r.StompSocketState.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(f){const{destination:v,headers:_,body:E,binaryBody:F,skipContentLengthHeader:q}=f,W=Object.assign({destination:v},_);this._transmit({command:"SEND",headers:W,body:E,binaryBody:F,skipContentLengthHeader:q})}watchForReceipt(f,v){this._receiptWatchers[f]=v}subscribe(f,v,_={}){_=Object.assign({},_),_.id||(_.id=`sub-${this._counter++}`),_.destination=f,this._subscriptions[_.id]=v,this._transmit({command:"SUBSCRIBE",headers:_});const E=this;return{id:_.id,unsubscribe(F){return E.unsubscribe(_.id,F)}}}unsubscribe(f,v={}){v=Object.assign({},v),delete this._subscriptions[f],v.id=f,this._transmit({command:"UNSUBSCRIBE",headers:v})}begin(f){const v=f||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:v}});const _=this;return{id:v,commit(){_.commit(v)},abort(){_.abort(v)}}}commit(f){this._transmit({command:"COMMIT",headers:{transaction:f}})}abort(f){this._transmit({command:"ABORT",headers:{transaction:f}})}ack(f,v,_={}){_=Object.assign({},_),this._connectedVersion===y.V1_2?_.id=f:_["message-id"]=f,_.subscription=v,this._transmit({command:"ACK",headers:_})}nack(f,v,_={}){return _=Object.assign({},_),this._connectedVersion===y.V1_2?_.id=f:_["message-id"]=f,_.subscription=v,this._transmit({command:"NACK",headers:_})}}class b{get webSocket(){var f;return(f=this._stompHandler)==null?void 0:f._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(f){this._disconnectHeaders=f,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===r.ActivationState.ACTIVE}_changeState(f){this.state=f,this.onChangeState(f)}constructor(f={}){this.stompVersions=y.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=r.ReconnectionTimeMode.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=r.TickerStrategy.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=r.ActivationState.INACTIVE;const v=()=>{};this.debug=v,this.beforeConnect=v,this.onConnect=v,this.onDisconnect=v,this.onUnhandledMessage=v,this.onUnhandledReceipt=v,this.onUnhandledFrame=v,this.onHeartbeatReceived=v,this.onHeartbeatLost=v,this.onStompError=v,this.onWebSocketClose=v,this.onWebSocketError=v,this.logRawCommunication=!1,this.onChangeState=v,this.connectHeaders={},this._disconnectHeaders={},this.configure(f)}configure(f){Object.assign(this,f),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const f=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(r.ActivationState.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===r.ActivationState.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{f()})):f()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const f=this._createWebSocket();this._stompHandler=new p(this,f,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:v=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(v)},onDisconnect:v=>{this.onDisconnect(v)},onStompError:v=>{this.onStompError(v)},onWebSocketClose:v=>{this._stompHandler=void 0,this.state===r.ActivationState.DEACTIVATING&&this._changeState(r.ActivationState.INACTIVE),this.onWebSocketClose(v),this.active&&this._schedule_reconnect()},onWebSocketError:v=>{this.onWebSocketError(v)},onUnhandledMessage:v=>{this.onUnhandledMessage(v)},onUnhandledReceipt:v=>{this.onUnhandledReceipt(v)},onUnhandledFrame:v=>{this.onUnhandledFrame(v)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let f;if(this.webSocketFactory)f=this.webSocketFactory();else if(this.brokerURL)f=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return f.binaryType="arraybuffer",f}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===r.ReconnectionTimeMode.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(f={}){var F;const v=f.force||!1,_=this.active;let E;if(this.state===r.ActivationState.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(r.ActivationState.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==r.StompSocketState.CLOSED){const q=this._stompHandler.onWebSocketClose;E=new Promise((W,D)=>{this._stompHandler.onWebSocketClose=K=>{q(K),W()}})}else return this._changeState(r.ActivationState.INACTIVE),Promise.resolve();return v?(F=this._stompHandler)==null||F.discardWebsocket():_&&this._disposeStompHandler(),E}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(f){this._checkConnection(),this._stompHandler.publish(f)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(f,v){this._checkConnection(),this._stompHandler.watchForReceipt(f,v)}subscribe(f,v,_={}){return this._checkConnection(),this._stompHandler.subscribe(f,v,_)}unsubscribe(f,v={}){this._checkConnection(),this._stompHandler.unsubscribe(f,v)}begin(f){return this._checkConnection(),this._stompHandler.begin(f)}commit(f){this._checkConnection(),this._stompHandler.commit(f)}abort(f){this._checkConnection(),this._stompHandler.abort(f)}ack(f,v,_={}){this._checkConnection(),this._stompHandler.ack(f,v,_)}nack(f,v,_={}){this._checkConnection(),this._stompHandler.nack(f,v,_)}}class j{}class g{}class x{constructor(f){this.client=f}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(f){this.client.heartbeatOutgoing=f}get incoming(){return this.client.heartbeatIncoming}set incoming(f){this.client.heartbeatIncoming=f}}class R extends b{constructor(f){super(),this.maxWebSocketFrameSize=16*1024,this._heartbeatInfo=new x(this),this.reconnect_delay=0,this.webSocketFactory=f,this.debug=(...v)=>{console.log(...v)}}_parseConnect(...f){let v,_,E,F={};if(f.length<2)throw new Error("Connect requires at least 2 arguments");if(typeof f[1]=="function")[F,_,E,v]=f;else switch(f.length){case 6:[F.login,F.passcode,_,E,v,F.host]=f;break;default:[F.login,F.passcode,_,E,v]=f}return[F,_,E,v]}connect(...f){const v=this._parseConnect(...f);v[0]&&(this.connectHeaders=v[0]),v[1]&&(this.onConnect=v[1]),v[2]&&(this.onStompError=v[2]),v[3]&&(this.onWebSocketClose=v[3]),super.activate()}disconnect(f,v={}){f&&(this.onDisconnect=f),this.disconnectHeaders=v,super.deactivate()}send(f,v={},_=""){v=Object.assign({},v);const E=v["content-length"]===!1;E&&delete v["content-length"],this.publish({destination:f,headers:v,body:_,skipContentLengthHeader:E})}set reconnect_delay(f){this.reconnectDelay=f}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(f){this.onUnhandledMessage=f}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(f){this.onUnhandledReceipt=f}get heartbeat(){return this._heartbeatInfo}set heartbeat(f){this.heartbeatIncoming=f.incoming,this.heartbeatOutgoing=f.outgoing}}class C{static client(f,v){v==null&&(v=y.default.protocolVersions());const _=()=>{const E=C.WebSocketClass||WebSocket;return new E(f,v)};return new R(_)}static over(f){let v;return typeof f=="function"?v=f:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),v=()=>f),new R(v)}}C.WebSocketClass=null,r.Client=b,r.CompatClient=R,r.FrameImpl=i,r.Parser=h,r.Stomp=C,r.StompConfig=j,r.StompHeaders=g,r.Versions=y})})(ri,ri.exports);var Ul=ri.exports,Fl={exports:{}},si={};globalThis.crypto&&globalThis.crypto.getRandomValues?si.randomBytes=function(t){var e=new Uint8Array(t);return globalThis.crypto.getRandomValues(e),e}:si.randomBytes=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e};var Df=si,za="abcdefghijklmnopqrstuvwxyz012345",Tr={string:function(t){for(var e=za.length,r=Df.randomBytes(t),s=[],n=0;n<t;n++)s.push(za.substr(r[n]%e,1));return s.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,r=new Array(e+1).join("0");return(r+this.number(t)).slice(-e)}};(function(t){var e=Tr,r={},s=!1,n=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;t.exports={attachEvent:function(o,l){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(o,l,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+o,l),globalThis.attachEvent("on"+o,l))},detachEvent:function(o,l){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(o,l,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+o,l),globalThis.detachEvent("on"+o,l))},unloadAdd:function(o){if(n)return null;var l=e.string(8);return r[l]=o,s&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(o){o in r&&delete r[o]},triggerUnloadCallbacks:function(){for(var o in r)r[o](),delete r[o]}};var i=function(){s||(s=!0,t.exports.triggerUnloadCallbacks())};n||t.exports.attachEvent("unload",i)})(Fl);var Jt=Fl.exports,Uf=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},Li={},Ff=Object.prototype.hasOwnProperty,Mf;function Za(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function Ka(t){try{return encodeURIComponent(t)}catch{return null}}function Bf(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},s;s=e.exec(t);){var n=Za(s[1]),i=Za(s[2]);n===null||i===null||n in r||(r[n]=i)}return r}function Vf(t,e){e=e||"";var r=[],s,n;typeof e!="string"&&(e="?");for(n in t)if(Ff.call(t,n)){if(s=t[n],!s&&(s===null||s===Mf||isNaN(s))&&(s=""),n=Ka(n),s=Ka(s),n===null||s===null)continue;r.push(n+"="+s)}return r.length?e+r.join("&"):""}Li.stringify=Vf;Li.parse=Bf;var Ml=Uf,nn=Li,Hf=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Bl=/[\n\r\t]/g,qf=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Vl=/:\d+$/,Wf=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,zf=/^[a-zA-Z]:/;function Di(t){return(t||"").toString().replace(Hf,"")}var ni=[["#","hash"],["?","query"],function(e,r){return mt(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ja={hash:1,query:1};function Hl(t){var e;typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"?e=self:e={};var r=e.location||{};t=t||r;var s={},n=typeof t,i;if(t.protocol==="blob:")s=new gt(unescape(t.pathname),{});else if(n==="string"){s=new gt(t,{});for(i in Ja)delete s[i]}else if(n==="object"){for(i in t)i in Ja||(s[i]=t[i]);s.slashes===void 0&&(s.slashes=qf.test(t.href))}return s}function mt(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function ql(t,e){t=Di(t),t=t.replace(Bl,""),e=e||{};var r=Wf.exec(t),s=r[1]?r[1].toLowerCase():"",n=!!r[2],i=!!r[3],o=0,l;return n?i?(l=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(l=r[2]+r[4],o=r[2].length):i?(l=r[3]+r[4],o=r[3].length):l=r[4],s==="file:"?o>=2&&(l=l.slice(2)):mt(s)?l=r[4]:s?n&&(l=l.slice(2)):o>=2&&mt(e.protocol)&&(l=r[4]),{protocol:s,slashes:n||mt(s),slashesCount:o,rest:l}}function Zf(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),s=r.length,n=r[s-1],i=!1,o=0;s--;)r[s]==="."?r.splice(s,1):r[s]===".."?(r.splice(s,1),o++):o&&(s===0&&(i=!0),r.splice(s,1),o--);return i&&r.unshift(""),(n==="."||n==="..")&&r.push(""),r.join("/")}function gt(t,e,r){if(t=Di(t),t=t.replace(Bl,""),!(this instanceof gt))return new gt(t,e,r);var s,n,i,o,l,c,d=ni.slice(),h=typeof e,u=this,y=0;for(h!=="object"&&h!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=nn.parse),e=Hl(e),n=ql(t||"",e),s=!n.protocol&&!n.slashes,u.slashes=n.slashes||s&&e.slashes,u.protocol=n.protocol||e.protocol||"",t=n.rest,(n.protocol==="file:"&&(n.slashesCount!==2||zf.test(t))||!n.slashes&&(n.protocol||n.slashesCount<2||!mt(u.protocol)))&&(d[3]=[/(.*)/,"pathname"]);y<d.length;y++){if(o=d[y],typeof o=="function"){t=o(t,u);continue}i=o[0],c=o[1],i!==i?u[c]=t:typeof i=="string"?(l=i==="@"?t.lastIndexOf(i):t.indexOf(i),~l&&(typeof o[2]=="number"?(u[c]=t.slice(0,l),t=t.slice(l+o[2])):(u[c]=t.slice(l),t=t.slice(0,l)))):(l=i.exec(t))&&(u[c]=l[1],t=t.slice(0,l.index)),u[c]=u[c]||s&&o[3]&&e[c]||"",o[4]&&(u[c]=u[c].toLowerCase())}r&&(u.query=r(u.query)),s&&e.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||e.pathname!=="")&&(u.pathname=Zf(u.pathname,e.pathname)),u.pathname.charAt(0)!=="/"&&mt(u.protocol)&&(u.pathname="/"+u.pathname),Ml(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(l=u.auth.indexOf(":"),~l?(u.username=u.auth.slice(0,l),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(l+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&mt(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function Kf(t,e,r){var s=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||nn.parse)(e)),s[t]=e;break;case"port":s[t]=e,Ml(e,s.protocol)?e&&(s.host=s.hostname+":"+e):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=e,s.port&&(e+=":"+s.port),s.host=e;break;case"host":s[t]=e,Vl.test(e)?(e=e.split(":"),s.port=e.pop(),s.hostname=e.join(":")):(s.hostname=e,s.port="");break;case"protocol":s.protocol=e.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(e){var n=t==="pathname"?"/":"#";s[t]=e.charAt(0)!==n?n+e:e}else s[t]=e;break;case"username":case"password":s[t]=encodeURIComponent(e);break;case"auth":var i=e.indexOf(":");~i?(s.username=e.slice(0,i),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=e.slice(i+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<ni.length;o++){var l=ni[o];l[4]&&(s[l[1]]=s[l[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin=s.protocol!=="file:"&&mt(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function Jf(t){(!t||typeof t!="function")&&(t=nn.stringify);var e,r=this,s=r.host,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(r.protocol&&r.slashes||mt(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&mt(r.protocol)&&!s&&r.pathname!=="/"&&(i+="@"),(s[s.length-1]===":"||Vl.test(r.hostname)&&!r.port)&&(s+=":"),i+=s+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(i+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(i+=r.hash),i}gt.prototype={set:Kf,toString:Jf};gt.extractProtocol=ql;gt.location=Hl;gt.trimLeft=Di;gt.qs=nn;var Wl=gt,Qf=Wl,tt={getOrigin:function(t){if(!t)return null;var e=new Qf(t);if(e.protocol==="file:")return null;var r=e.port;return r||(r=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){var r=this.getOrigin(t)===this.getOrigin(e);return r},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var r=t.split("?");return r[0]+e+(r[1]?"?"+r[1]:"")},addQuery:function(t,e){return t+(t.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},ii={exports:{}};typeof Object.create=="function"?ii.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ii.exports=function(e,r){if(r){e.super_=r;var s=function(){};s.prototype=r.prototype,e.prototype=new s,e.prototype.constructor=e}};var ue=ii.exports,Ue={};function an(){this._listeners={}}an.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var r=this._listeners[t];r.indexOf(e)===-1&&(r=r.concat([e])),this._listeners[t]=r};an.prototype.removeEventListener=function(t,e){var r=this._listeners[t];if(r){var s=r.indexOf(e);if(s!==-1){r.length>1?this._listeners[t]=r.slice(0,s).concat(r.slice(s+1)):delete this._listeners[t];return}}};an.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,r=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,r),e in this._listeners)for(var s=this._listeners[e],n=0;n<s.length;n++)s[n].apply(this,r)};var zl=an,Xf=ue,on=zl;function qt(){on.call(this)}Xf(qt,on);qt.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}};qt.prototype.once=function(t,e){var r=this,s=!1;function n(){r.removeListener(t,n),s||(s=!0,e.apply(this,arguments))}this.on(t,n)};qt.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var r=arguments.length,s=new Array(r-1),n=1;n<r;n++)s[n-1]=arguments[n];for(var i=0;i<e.length;i++)e[i].apply(this,s)}};qt.prototype.on=qt.prototype.addListener=on.prototype.addEventListener;qt.prototype.removeListener=on.prototype.removeEventListener;Ue.EventEmitter=qt;var ai={exports:{}},Qa=globalThis.WebSocket||globalThis.MozWebSocket;Qa?ai.exports=function(e){return new Qa(e)}:ai.exports=void 0;var Gf=ai.exports,Zl=Jt,Yf=tt,em=ue,Kl=Ue.EventEmitter,Jl=Gf,Xa=function(){};function Ot(t,e,r){if(!Ot.enabled())throw new Error("Transport created when disabled");Kl.call(this);var s=this,n=Yf.addPath(t,"/websocket");n.slice(0,5)==="https"?n="wss"+n.slice(5):n="ws"+n.slice(4),this.url=n,this.ws=new Jl(this.url,[],r),this.ws.onmessage=function(i){Xa("message event",i.data),s.emit("message",i.data)},this.unloadRef=Zl.unloadAdd(function(){s.ws.close()}),this.ws.onclose=function(i){Xa("close event",i.code,i.reason),s.emit("close",i.code,i.reason),s._cleanup()},this.ws.onerror=function(i){s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}em(Ot,Kl);Ot.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)};Ot.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()};Ot.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),Zl.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Ot.enabled=function(){return!!Jl};Ot.transportName="websocket";Ot.roundTrips=2;var tm=Ot,rm=ue,Ql=Ue.EventEmitter,sm=function(){};function cr(t,e){Ql.call(this),this.sendBuffer=[],this.sender=e,this.url=t}rm(cr,Ql);cr.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()};cr.prototype.sendScheduleWait=function(){var t=this,e;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)};cr.prototype.sendSchedule=function(){sm("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(r){t.sendStop=null,r?(t.emit("close",r.code||1006,"Sending error: "+r),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}};cr.prototype._cleanup=function(){this.removeAllListeners()};cr.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var nm=cr,im=ue,Xl=Ue.EventEmitter,am=function(){};function ln(t,e,r){Xl.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=r,this._scheduleReceiver()}im(ln,Xl);ln.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(r){t.emit("message",r)}),e.once("close",function(r,s){am("close",r,s,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||(s==="network"?t._scheduleReceiver():(t.emit("close",r||1006,s),t.removeAllListeners()))})};ln.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var om=ln,lm=ue,cm=tt,Ui=nm,dm=om;function Fi(t,e,r,s,n){var i=cm.addPath(t,e),o=this;Ui.call(this,t,r),this.poll=new dm(s,i,n),this.poll.on("message",function(l){o.emit("message",l)}),this.poll.once("close",function(l,c){o.poll=null,o.emit("close",l,c),o.close()})}lm(Fi,Ui);Fi.prototype.close=function(){Ui.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Gl=Fi,um=ue,hm=tt,Yl=Gl;function fm(t){return function(e,r,s){var n={};typeof r=="string"&&(n.headers={"Content-type":"text/plain"});var i=hm.addPath(e,"/xhr_send"),o=new t("POST",i,r,n);return o.once("finish",function(l){if(o=null,l!==200&&l!==204)return s(new Error("http status "+l));s()}),function(){o.close(),o=null;var l=new Error("Aborted");l.code=1e3,s(l)}}}function ec(t,e,r,s){Yl.call(this,t,e,fm(s),r,s)}um(ec,Yl);var Rr=ec,mm=ue,tc=Ue.EventEmitter;function us(t,e){tc.call(this);var r=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(s,n){r._chunkHandler(s,n),r.xo=null;var i=s===200?"network":"permanent";r.emit("close",null,i),r._cleanup()})}mm(us,tc);us.prototype._chunkHandler=function(t,e){if(!(t!==200||!e))for(var r=-1;;this.bufferPosition+=r+1){var s=e.slice(this.bufferPosition);if(r=s.indexOf(`
`),r===-1)break;var n=s.slice(0,r);n&&this.emit("message",n)}};us.prototype._cleanup=function(){this.removeAllListeners()};us.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var cn=us,rc=Ue.EventEmitter,pm=ue,sc=Jt,xm=tt,Kr=globalThis.XMLHttpRequest,vn=function(){};function yt(t,e,r,s){var n=this;rc.call(this),setTimeout(function(){n._start(t,e,r,s)},0)}pm(yt,rc);yt.prototype._start=function(t,e,r,s){var n=this;try{this.xhr=new Kr}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}e=xm.addQuery(e,"t="+ +new Date),this.unloadRef=sc.unloadAdd(function(){n._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){vn("xhr timeout"),n.emit("finish",0,""),n._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!s||!s.noCredentials)&&yt.supportsCORS&&(this.xhr.withCredentials=!0),s&&s.headers)for(var i in s.headers)this.xhr.setRequestHeader(i,s.headers[i]);this.xhr.onreadystatechange=function(){if(n.xhr){var o=n.xhr,l,c;switch(vn("readyState",o.readyState),o.readyState){case 3:try{c=o.status,l=o.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&n.emit("chunk",c,l);break;case 4:c=o.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),vn("finish",c,o.responseText),n.emit("finish",c,o.responseText),n._cleanup(!1);break}}};try{n.xhr.send(r)}catch{n.emit("finish",0,""),n._cleanup(!1)}};yt.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),sc.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};yt.prototype.close=function(){this._cleanup(!0)};yt.enabled=!!Kr;var Ga=["Active"].concat("Object").join("X");!yt.enabled&&Ga in globalThis&&(Kr=function(){try{return new globalThis[Ga]("Microsoft.XMLHTTP")}catch{return null}},yt.enabled=!!new Kr);var nc=!1;try{nc="withCredentials"in new Kr}catch{}yt.supportsCORS=nc;var ic=yt,gm=ue,Vs=ic;function Mi(t,e,r,s){Vs.call(this,t,e,r,s)}gm(Mi,Vs);Mi.enabled=Vs.enabled&&Vs.supportsCORS;var dn=Mi,ym=ue,Bi=ic;function Vi(t,e,r){Bi.call(this,t,e,r,{noCredentials:!0})}ym(Vi,Bi);Vi.enabled=Bi.enabled;var hs=Vi,fs={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},bm=ue,ac=Rr,vm=cn,oi=dn,wm=hs,_m=fs;function Or(t){if(!wm.enabled&&!oi.enabled)throw new Error("Transport created when disabled");ac.call(this,t,"/xhr_streaming",vm,oi)}bm(Or,ac);Or.enabled=function(t){return t.nullOrigin||_m.isOpera()?!1:oi.enabled};Or.transportName="xhr-streaming";Or.roundTrips=2;Or.needBody=!!globalThis.document;var Nm=Or,oc=Ue.EventEmitter,jm=ue,lc=Jt,Sm=fs,km=tt,Em=function(){};function dr(t,e,r){var s=this;oc.call(this),setTimeout(function(){s._start(t,e,r)},0)}jm(dr,oc);dr.prototype._start=function(t,e,r){var s=this,n=new globalThis.XDomainRequest;e=km.addQuery(e,"t="+ +new Date),n.onerror=function(){s._error()},n.ontimeout=function(){s._error()},n.onprogress=function(){Em("progress",n.responseText),s.emit("chunk",200,n.responseText)},n.onload=function(){s.emit("finish",200,n.responseText),s._cleanup(!1)},this.xdr=n,this.unloadRef=lc.unloadAdd(function(){s._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};dr.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};dr.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),lc.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};dr.prototype.close=function(){this._cleanup(!0)};dr.enabled=!!(globalThis.XDomainRequest&&Sm.hasDomain());var Hi=dr,Cm=ue,cc=Rr,Tm=cn,li=Hi;function ms(t){if(!li.enabled)throw new Error("Transport created when disabled");cc.call(this,t,"/xhr_streaming",Tm,li)}Cm(ms,cc);ms.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:li.enabled&&t.sameScheme};ms.transportName="xdr-streaming";ms.roundTrips=2;var dc=ms,uc=globalThis.EventSource,Rm=ue,hc=Ue.EventEmitter,Om=uc,Ya=function(){};function ps(t){hc.call(this);var e=this,r=this.es=new Om(t);r.onmessage=function(s){Ya("message",s.data),e.emit("message",decodeURI(s.data))},r.onerror=function(s){Ya("error",r.readyState);var n=r.readyState!==2?"network":"permanent";e._cleanup(),e._close(n)}}Rm(ps,hc);ps.prototype.abort=function(){this._cleanup(),this._close("user")};ps.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)};ps.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)};var Am=ps,Im=ue,fc=Rr,$m=Am,Pm=dn,Lm=uc;function Ar(t){if(!Ar.enabled())throw new Error("Transport created when disabled");fc.call(this,t,"/eventsource",$m,Pm)}Im(Ar,fc);Ar.enabled=function(){return!!Lm};Ar.transportName="eventsource";Ar.roundTrips=2;var eo=Ar,wn,to;function mc(){return to||(to=1,wn="1.6.1"),wn}var pc={exports:{}};(function(t){var e=Jt,r=fs;t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in globalThis||(globalThis[t.exports.WPrefix]={})},postMessage:function(s,n){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:s,data:n||""}),"*")},createIframe:function(s,n){var i=globalThis.document.createElement("iframe"),o,l,c=function(){clearTimeout(o);try{i.onload=null}catch{}i.onerror=null},d=function(){i&&(c(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),e.unloadDel(l))},h=function(y){i&&(d(),n(y))},u=function(y,p){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(y,p)}catch{}},0)};return i.src=s,i.style.display="none",i.style.position="absolute",i.onerror=function(){h("onerror")},i.onload=function(){clearTimeout(o),o=setTimeout(function(){h("onload timeout")},2e3)},globalThis.document.body.appendChild(i),o=setTimeout(function(){h("timeout")},15e3),l=e.unloadAdd(d),{post:u,cleanup:d,loaded:c}},createHtmlfile:function(s,n){var i=["Active"].concat("Object").join("X"),o=new globalThis[i]("htmlfile"),l,c,d,h=function(){clearTimeout(l),d.onerror=null},u=function(){o&&(h(),e.unloadDel(c),d.parentNode.removeChild(d),d=o=null,CollectGarbage())},y=function(j){o&&(u(),n(j))},p=function(j,g){try{setTimeout(function(){d&&d.contentWindow&&d.contentWindow.postMessage(j,g)},0)}catch{}};o.open(),o.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),o.close(),o.parentWindow[t.exports.WPrefix]=globalThis[t.exports.WPrefix];var b=o.createElement("div");return o.body.appendChild(b),d=o.createElement("iframe"),b.appendChild(d),d.src=s,d.onerror=function(){y("onerror")},l=setTimeout(function(){y("timeout")},15e3),c=e.unloadAdd(u),{post:p,cleanup:u,loaded:h}}},t.exports.iframeEnabled=!1,globalThis.document&&(t.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(pc);var xs=pc.exports,Dm=ue,xc=Ue.EventEmitter,Um=mc(),ci=tt,gc=xs,yc=Jt,Fm=Tr,$r=function(){};function vt(t,e,r){if(!vt.enabled())throw new Error("Transport created when disabled");xc.call(this);var s=this;this.origin=ci.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=Fm.string(8);var n=ci.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=gc.createIframe(n,function(i){s.emit("close",1006,"Unable to load an iframe ("+i+")"),s.close()}),this.onmessageCallback=this._message.bind(this),yc.attachEvent("message",this.onmessageCallback)}Dm(vt,xc);vt.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){yc.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};vt.prototype._message=function(t){if($r("message",t.data),!ci.isOriginEqual(t.origin,this.origin)){$r("not same origin",t.origin,this.origin);return}var e;try{e=JSON.parse(t.data)}catch{$r("bad json",t.data);return}if(e.windowId!==this.windowId){$r("mismatched window id",e.windowId,this.windowId);return}switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Um,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=JSON.parse(e.data)}catch{$r("bad json",e.data);return}this.emit("close",r[0],r[1]),this.close();break}};vt.prototype.postMessage=function(t,e){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)};vt.prototype.send=function(t){this.postMessage("m",t)};vt.enabled=function(){return gc.iframeEnabled};vt.transportName="iframe";vt.roundTrips=2;var bc=vt,qi={isObject:function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,r,s=1,n=arguments.length;s<n;s++){e=arguments[s];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}},Mm=ue,Ss=bc,Bm=qi,_n=function(t){function e(r,s){Ss.call(this,t.transportName,r,s)}return Mm(e,Ss),e.enabled=function(r,s){if(!globalThis.document)return!1;var n=Bm.extend({},s);return n.sameOrigin=!0,t.enabled(n)&&Ss.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=Ss.roundTrips+t.roundTrips-1,e.facadeTransport=t,e},Vm=ue,Yt=xs,Hm=tt,vc=Ue.EventEmitter,qm=Tr,Wm=function(){};function ot(t){vc.call(this);var e=this;Yt.polluteGlobalNamespace(),this.id="a"+qm.string(6),t=Hm.addQuery(t,"c="+decodeURIComponent(Yt.WPrefix+"."+this.id)),Wm("using htmlfile",ot.htmlfileEnabled);var r=ot.htmlfileEnabled?Yt.createHtmlfile:Yt.createIframe;globalThis[Yt.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(s){e.emit("message",s)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=r(t,function(){e._cleanup(),e._close("permanent")})}Vm(ot,vc);ot.prototype.abort=function(){this._cleanup(),this._close("user")};ot.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Yt.WPrefix][this.id]};ot.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()};ot.htmlfileEnabled=!1;var ro=["Active"].concat("Object").join("X");if(ro in globalThis)try{ot.htmlfileEnabled=!!new globalThis[ro]("htmlfile")}catch{}ot.enabled=ot.htmlfileEnabled||Yt.iframeEnabled;var zm=ot,Zm=ue,di=zm,Km=hs,wc=Rr;function gs(t){if(!di.enabled)throw new Error("Transport created when disabled");wc.call(this,t,"/htmlfile",di,Km)}Zm(gs,wc);gs.enabled=function(t){return di.enabled&&t.sameOrigin};gs.transportName="htmlfile";gs.roundTrips=2;var so=gs,Jm=ue,_c=Rr,Qm=cn,ui=dn,Nc=hs;function ys(t){if(!Nc.enabled&&!ui.enabled)throw new Error("Transport created when disabled");_c.call(this,t,"/xhr",Qm,ui)}Jm(ys,_c);ys.enabled=function(t){return t.nullOrigin?!1:Nc.enabled&&t.sameOrigin?!0:ui.enabled};ys.transportName="xhr-polling";ys.roundTrips=2;var no=ys,Xm=ue,jc=Rr,Gm=dc,Ym=cn,io=Hi;function bs(t){if(!io.enabled)throw new Error("Transport created when disabled");jc.call(this,t,"/xhr",Ym,io)}Xm(bs,jc);bs.enabled=Gm.enabled;bs.transportName="xdr-polling";bs.roundTrips=2;var ep=bs,Br=xs,Sc=Tr,tp=fs,rp=tt,sp=ue,kc=Ue.EventEmitter,np=function(){};function et(t){var e=this;kc.call(this),Br.polluteGlobalNamespace(),this.id="a"+Sc.string(6);var r=rp.addQuery(t,"c="+encodeURIComponent(Br.WPrefix+"."+this.id));globalThis[Br.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},et.timeout)}sp(et,kc);et.prototype.abort=function(){if(globalThis[Br.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}};et.timeout=35e3;et.scriptErrorTimeout=1e3;et.prototype._callback=function(t){this._cleanup(),!this.aborting&&(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())};et.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()};et.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete globalThis[Br.WPrefix][this.id]};et.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},et.scriptErrorTimeout))};et.prototype._createScript=function(t){var e=this,r=this.script=globalThis.document.createElement("script"),s;if(r.id="a"+Sc.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){e._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(np("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){e.loadedOkay=!0;try{r.onclick()}catch{}}r&&e._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&globalThis.document.attachEvent)if(tp.isOpera())s=this.script2=globalThis.document.createElement("script"),s.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=s.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var n=globalThis.document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild),s&&n.insertBefore(s,n.firstChild)};var ip=et,ap=Tr,ao=tt,op=function(){},Je,Vr;function lp(t){try{return globalThis.document.createElement('<iframe name="'+t+'">')}catch{var e=globalThis.document.createElement("iframe");return e.name=t,e}}function cp(){Je=globalThis.document.createElement("form"),Je.style.display="none",Je.style.position="absolute",Je.method="POST",Je.enctype="application/x-www-form-urlencoded",Je.acceptCharset="UTF-8",Vr=globalThis.document.createElement("textarea"),Vr.name="d",Je.appendChild(Vr),globalThis.document.body.appendChild(Je)}var dp=function(t,e,r){Je||cp();var s="a"+ap.string(8);Je.target=s,Je.action=ao.addQuery(ao.addPath(t,"/jsonp_send"),"i="+s);var n=lp(s);n.id=s,n.style.display="none",Je.appendChild(n);try{Vr.value=e}catch{}Je.submit();var i=function(o){n.onerror&&(n.onreadystatechange=n.onerror=n.onload=null,setTimeout(function(){n.parentNode.removeChild(n),n=null},500),Vr.value="",r(o))};return n.onerror=function(){i()},n.onload=function(){i()},n.onreadystatechange=function(o){op("onreadystatechange",s,n.readyState),n.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},up=ue,Ec=Gl,hp=ip,fp=dp;function ur(t){if(!ur.enabled())throw new Error("Transport created when disabled");Ec.call(this,t,"/jsonp",fp,hp)}up(ur,Ec);ur.enabled=function(){return!!globalThis.document};ur.transportName="jsonp-polling";ur.roundTrips=1;ur.needBody=!0;var mp=ur,pp=[tm,Nm,dc,eo,_n(eo),so,_n(so),no,ep,_n(no),mp],Jr=Array.prototype,Wi=Object.prototype,xp=Function.prototype,Qr=String.prototype,Nn=Jr.slice,zi=Wi.toString,Cc=function(t){return Wi.toString.call(t)==="[object Function]"},gp=function(e){return zi.call(e)==="[object Array]"},Tc=function(e){return zi.call(e)==="[object String]"},yp=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),hi;yp?hi=function(t,e,r,s){!s&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}:hi=function(t,e,r,s){!s&&e in t||(t[e]=r)};var vs=function(t,e,r){for(var s in e)Wi.hasOwnProperty.call(e,s)&&hi(t,s,e[s],r)},Rc=function(t){if(t==null)throw new TypeError("can't convert "+t+" to object");return Object(t)};function bp(t){var e=+t;return e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function vp(t){return t>>>0}function jn(){}vs(xp,{bind:function(e){var r=this;if(!Cc(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var s=Nn.call(arguments,1),n=function(){if(this instanceof c){var d=r.apply(this,s.concat(Nn.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,s.concat(Nn.call(arguments)))},i=Math.max(0,r.length-s.length),o=[],l=0;l<i;l++)o.push("$"+l);var c=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(n);return r.prototype&&(jn.prototype=r.prototype,c.prototype=new jn,jn.prototype=null),c}});vs(Array,{isArray:gp});var oo=Object("a"),Oc=oo[0]!=="a"||!(0 in oo),wp=function(e){var r=!0,s=!0;return e&&(e.call("foo",function(n,i,o){typeof o!="object"&&(r=!1)}),e.call([1],function(){s=typeof this=="string"},"x")),!!e&&r&&s};vs(Jr,{forEach:function(e){var r=Rc(this),s=Oc&&Tc(this)?this.split(""):r,n=arguments[1],i=-1,o=s.length>>>0;if(!Cc(e))throw new TypeError;for(;++i<o;)i in s&&e.call(n,s[i],i,r)}},!wp(Jr.forEach));var _p=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;vs(Jr,{indexOf:function(e){var r=Oc&&Tc(this)?this.split(""):Rc(this),s=r.length>>>0;if(!s)return-1;var n=0;for(arguments.length>1&&(n=bp(arguments[1])),n=n>=0?n:Math.max(0,s+n);n<s;n++)if(n in r&&r[n]===e)return n;return-1}},_p);var lo=Qr.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=/()??/.exec("")[1]===void 0;Qr.split=function(e,r){var s=this;if(e===void 0&&r===0)return[];if(zi.call(e)!=="[object RegExp]")return lo.call(this,e,r);var n=[],i=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),o=0,l,c,d,h;for(e=new RegExp(e.source,i+"g"),s+="",t||(l=new RegExp("^"+e.source+"$(?!\\s)",i)),r=r===void 0?-1>>>0:vp(r);(c=e.exec(s))&&(d=c.index+c[0].length,!(d>o&&(n.push(s.slice(o,c.index)),!t&&c.length>1&&c[0].replace(l,function(){for(var u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c.length>1&&c.index<s.length&&Jr.push.apply(n,c.slice(1)),h=c[0].length,o=d,n.length>=r)));)e.lastIndex===c.index&&e.lastIndex++;return o===s.length?(h||!e.test(""))&&n.push(""):n.push(s.slice(o)),n.length>r?n.slice(0,r):n}}():"0".split(void 0,0).length&&(Qr.split=function(e,r){return e===void 0&&r===0?[]:lo.call(this,e,r)});var Np=Qr.substr,jp="".substr&&"0b".substr(-1)!=="b";vs(Qr,{substr:function(e,r){return Np.call(this,e<0&&(e=this.length+e)<0?0:e,r)}},jp);var ks=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Sn,Sp=function(t){var e,r={},s=[];for(e=0;e<65536;e++)s.push(String.fromCharCode(e));return t.lastIndex=0,s.join("").replace(t,function(n){return r[n]="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,r},kp={quote:function(t){var e=JSON.stringify(t);return ks.lastIndex=0,ks.test(e)?(Sn||(Sn=Sp(ks)),e.replace(ks,function(r){return Sn[r]})):e}},kn=function(){},Ep=function(t){return{filterToEnabled:function(e,r){var s={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],t.forEach(function(n){if(n&&!(n.transportName==="websocket"&&r.websocket===!1)){if(e.length&&e.indexOf(n.transportName)===-1){kn("not in whitelist",n.transportName);return}n.enabled(r)?(kn("enabled",n.transportName),s.main.push(n),n.facadeTransport&&s.facade.push(n.facadeTransport)):kn("disabled",n.transportName)}}),s}}},fi={};["log","debug","warn"].forEach(function(t){var e;try{e=globalThis.console&&globalThis.console[t]&&globalThis.console[t].apply}catch{}fi[t]=e?function(){return globalThis.console[t].apply(globalThis.console,arguments)}:t==="log"?function(){}:fi.log});var Cp=fi;function hr(t){this.type=t}hr.prototype.initEvent=function(t,e,r){return this.type=t,this.bubbles=e,this.cancelable=r,this.timeStamp=+new Date,this};hr.prototype.stopPropagation=function(){};hr.prototype.preventDefault=function(){};hr.CAPTURING_PHASE=1;hr.AT_TARGET=2;hr.BUBBLING_PHASE=3;var Zi=hr,Ac=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},Tp=ue,Ic=Zi;function $c(){Ic.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}Tp($c,Ic);var Rp=$c,Op=ue,Pc=Zi;function Lc(t){Pc.call(this),this.initEvent("message",!1,!1),this.data=t}Op(Lc,Pc);var Ap=Lc,Dc=Ue.EventEmitter,Ip=ue;function ws(){var t=this;Dc.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},ws.timeout)}Ip(ws,Dc);ws.prototype.close=function(){clearTimeout(this.to)};ws.timeout=2e3;var $p=ws,Uc=Ue.EventEmitter,Pp=ue,Lp=qi;function Ki(t,e){Uc.call(this);var r=this,s=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(n,i){var o,l;if(n===200){if(l=+new Date-s,i)try{o=JSON.parse(i)}catch{}Lp.isObject(o)||(o={})}r.emit("finish",o,l),r.removeAllListeners()})}Pp(Ki,Uc);Ki.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Fc=Ki,En,co;function Mc(){if(co)return En;co=1;var t=ue,e=Ue.EventEmitter,r=hs,s=Fc;function n(i){var o=this;e.call(this),this.ir=new s(i,r),this.ir.once("finish",function(l,c){o.ir=null,o.emit("message",JSON.stringify([l,c]))})}return t(n,e),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},En=n,En}var Bc=Ue.EventEmitter,Dp=ue,Up=Jt,Vc=bc,Fp=Mc();function un(t,e){var r=this;Bc.call(this);var s=function(){var n=r.ifr=new Vc(Fp.transportName,e,t);n.once("message",function(i){if(i){var o;try{o=JSON.parse(i)}catch{r.emit("finish"),r.close();return}var l=o[0],c=o[1];r.emit("finish",l,c)}r.close()}),n.once("close",function(){r.emit("finish"),r.close()})};globalThis.document.body?s():Up.attachEvent("load",s)}Dp(un,Bc);un.enabled=function(){return Vc.enabled()};un.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var Mp=un,Hc=Ue.EventEmitter,Bp=ue,Vp=tt,uo=Hi,ho=dn,Hp=hs,qp=$p,fo=Mp,Es=Fc;function Ct(t,e){var r=this;Hc.call(this),setTimeout(function(){r.doXhr(t,e)},0)}Bp(Ct,Hc);Ct._getReceiver=function(t,e,r){return r.sameOrigin?new Es(e,Hp):ho.enabled?new Es(e,ho):uo.enabled&&r.sameScheme?new Es(e,uo):fo.enabled()?new fo(t,e):new Es(e,qp)};Ct.prototype.doXhr=function(t,e){var r=this,s=Vp.addPath(t,"/info");this.xo=Ct._getReceiver(t,s,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},Ct.timeout),this.xo.once("finish",function(n,i){r._cleanup(!0),r.emit("finish",n,i)})};Ct.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null};Ct.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Ct.timeout=8e3;var Wp=Ct,Cn,mo;function zp(){if(mo)return Cn;mo=1;var t=xs;function e(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(r,s){t.postMessage("c",JSON.stringify([r,s]))},e.prototype._transportMessage=function(r){t.postMessage("t",r)},e.prototype._send=function(r){this._transport.send(r)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Cn=e,Cn}var Tn,po;function Zp(){if(po)return Tn;po=1;var t=tt,e=Jt,r=zp(),s=Mc(),n=xs,i=Ac,o=function(){};return Tn=function(l,c){var d={};c.forEach(function(u){u.facadeTransport&&(d[u.facadeTransport.transportName]=u.facadeTransport)}),d[s.transportName]=s;var h;l.bootstrap_iframe=function(){var u;n.currentWindowId=i.hash.slice(1);var y=function(p){if(p.source===parent&&(typeof h>"u"&&(h=p.origin),p.origin===h)){var b;try{b=JSON.parse(p.data)}catch{o("bad json",p.data);return}if(b.windowId===n.currentWindowId)switch(b.type){case"s":var j;try{j=JSON.parse(b.data)}catch{o("bad json",b.data);break}var g=j[0],x=j[1],R=j[2],C=j[3];if(g!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+g+'", the iframe: "'+l.version+'".');if(!t.isOriginEqual(R,i.href)||!t.isOriginEqual(C,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+R+", "+C+")");u=new r(new d[x](R,C));break;case"m":u._send(b.data);break;case"c":u&&u._close(),u=null;break}}};e.attachEvent("message",y),n.postMessage("s")}},Tn}var Kp=Wl,Jp=ue,xo=Tr,Qp=kp,Ur=tt,Xp=Jt,Gp=Ep,Yp=qi,ex=fs,tx=Cp,Ji=Zi,qc=zl,Cs=Ac,rx=Rp,go=Ap,sx=Wp,pt=function(){},Wc;function ce(t,e,r){if(!(this instanceof ce))return new ce(t,e,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");qc.call(this),this.readyState=ce.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&tx.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var s=r.sessionId||8;if(typeof s=="function")this._generateSessionId=s;else if(typeof s=="number")this._generateSessionId=function(){return xo.string(s)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||xo.numberString(1e3);var n=new Kp(t);if(!n.host||!n.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(n.hash)throw new SyntaxError("The URL must not contain a fragment");if(n.protocol!=="http:"&&n.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+n.protocol+"' is not allowed.");var i=n.protocol==="https:";if(Cs.protocol==="https:"&&!i&&!Ur.isLoopbackAddr(n.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var o=e.sort();o.forEach(function(c,d){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(d<o.length-1&&c===o[d+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Ur.getOrigin(Cs.href);this._origin=l?l.toLowerCase():null,n.set("pathname",n.pathname.replace(/\/+$/,"")),this.url=n.href,pt("using url",this.url),this._urlInfo={nullOrigin:!ex.hasDomain(),sameOrigin:Ur.isOriginEqual(this.url,Cs.href),sameScheme:Ur.isSchemeEqual(this.url,Cs.href)},this._ir=new sx(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}Jp(ce,qc);function zc(t){return t===1e3||t>=3e3&&t<=4999}ce.prototype.close=function(t,e){if(t&&!zc(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===ce.CLOSING||this.readyState===ce.CLOSED)){var r=!0;this._close(t||1e3,e||"Normal closure",r)}};ce.prototype.send=function(t){if(typeof t!="string"&&(t=""+t),this.readyState===ce.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===ce.OPEN&&this._transport.send(Qp.quote(t))};ce.version=mc();ce.CONNECTING=0;ce.OPEN=1;ce.CLOSING=2;ce.CLOSED=3;ce.prototype._receiveInfo=function(t,e){if(this._ir=null,!t){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=Yp.extend(t,this._urlInfo);var r=Wc.filterToEnabled(this._transportsWhitelist,t);this._transports=r.main,pt(this._transports.length+" enabled transports"),this._connect()};ce.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(pt("attempt",t.transportName),t.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(t),Xp.attachEvent("load",this._connect.bind(this));return}var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=Ur.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),s=this._transportOptions[t.transportName],n=new t(r,this._transUrl,s);n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=t.transportName,this._transport=n;return}this._close(2e3,"All transports failed",!1)};ce.prototype._transportTimeout=function(){this.readyState===ce.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};ce.prototype._transportMessage=function(t){var e=this,r=t.slice(0,1),s=t.slice(1),n;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new Ji("heartbeat")),pt("heartbeat",this.transport);return}if(s)try{n=JSON.parse(s)}catch{}if(!(typeof n>"u"))switch(r){case"a":Array.isArray(n)&&n.forEach(function(i){pt("message",e.transport),e.dispatchEvent(new go(i))});break;case"m":pt("message",this.transport),this.dispatchEvent(new go(n));break;case"c":Array.isArray(n)&&n.length===2&&this._close(n[0],n[1],!0);break}};ce.prototype._transportClose=function(t,e){if(pt("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!zc(t)&&t!==2e3&&this.readyState===ce.CONNECTING){this._connect();return}this._close(t,e)};ce.prototype._open=function(){pt("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===ce.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=ce.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Ji("open")),pt("connected",this.transport)):this._close(1006,"Server lost session")};ce.prototype._close=function(t,e,r){pt("_close",this.transport,t,e,r,this.readyState);var s=!1;if(this._ir&&(s=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===ce.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=ce.CLOSING,setTimeout((function(){this.readyState=ce.CLOSED,s&&this.dispatchEvent(new Ji("error"));var n=new rx;n.wasClean=r||!1,n.code=t||1e3,n.reason=e,this.dispatchEvent(n),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};ce.prototype.countRTO=function(t){return t>100?4*t:300+t};var nx=function(t){return Wc=Gp(t),Zp()(ce,t),ce},ix=pp,ax=nx(ix);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const Zc=Qo(ax),ox="http://localhost:8080";function Kc(t,e,r){const s=S.useRef(null),n=ze(c=>c.accessToken),i=S.useRef(e),o=S.useRef(r);i.current=e,o.current=r;const l=S.useCallback(()=>{var c;!((c=s.current)!=null&&c.connected)||t==null||s.current.publish({destination:`/app/auctions/${t}/snapshot`,body:JSON.stringify({})})},[t]);return S.useEffect(()=>{if(t==null||!n)return;const c=new Ul.Client({webSocketFactory:()=>new Zc(`${ox}/ws`),connectHeaders:{Authorization:`Bearer ${n}`},reconnectDelay:3e3,onConnect:()=>{c.subscribe(`/topic/auction/${t}`,d=>{var h;try{const u=JSON.parse(d.body);u&&typeof u=="object"&&"type"in u?(h=o.current)==null||h.call(o,u):i.current(u)}catch{i.current({})}}),c.subscribe(`/user/queue/auctions/${t}/snapshot`,d=>{try{const h=JSON.parse(d.body);i.current(h)}catch{}}),l()}});return c.activate(),s.current=c,()=>{c.deactivate(),s.current=null}},[t,n,l]),{requestSnapshot:l}}const lx={primary:"bg-primary hover:bg-primary-hover text-white shadow-md shadow-blue-100",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900",outline:"border-2 border-border hover:border-primary hover:text-primary bg-transparent",ghost:"hover:bg-gray-100 text-gray-700",danger:"bg-red-500 hover:bg-red-600 text-white"},cx={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-5 py-2.5 text-sm font-semibold rounded-xl",lg:"px-6 py-3.5 text-base font-bold rounded-2xl"},he=S.forwardRef(({variant:t="primary",size:e="md",loading:r,disabled:s,className:n="",children:i,...o},l)=>a.jsx("button",{ref:l,type:"button",disabled:s??r,className:`
        inline-flex items-center justify-center gap-2 transition-all active:scale-[0.98]
        focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2
        disabled:opacity-50 disabled:cursor-not-allowed
        ${lx[t]} ${cx[e]} ${n}
      `,...o,children:r?a.jsx("span",{className:"material-symbols-outlined animate-spin text-xl",children:"progress_activity"}):i}));he.displayName="Button";function It(t){const e=Math.ceil(t*1.1/10)*10;return e>t?e:t+10}function dx(){var W;const{auctionId:t}=Ri(),e=Number(t),r=lt(),s=ze(D=>D.isAuthenticated()),n=at(D=>D.add),[i,o]=S.useState(""),[l,c]=S.useState({}),{data:d,isLoading:h}=we({queryKey:["auction",e],queryFn:()=>ds.getById(e),enabled:Number.isInteger(e)}),{data:u}=we({queryKey:["bid",e],queryFn:()=>Zr.list(e),enabled:Number.isInteger(e)}),y=(u==null?void 0:u.content)??[];Kc(Number.isInteger(e)?e:null,D=>c(D),()=>r.invalidateQueries({queryKey:["auction",e]}));const p=l.currentPrice??(d==null?void 0:d.currentPrice)??(d==null?void 0:d.startPrice)??0,b=l.bidCount??(d==null?void 0:d.bidCount)??0,j=l.endAt??(d==null?void 0:d.endAt),g=l.status??(d==null?void 0:d.status),x=(g==="RUNNING"||g==="DEADLINE")&&s,R=Ve({mutationFn:D=>Zr.place({auctionId:e,bidAmount:D,requestId:crypto.randomUUID()}),onSuccess:()=>{n(" .","success"),o(""),r.invalidateQueries({queryKey:["auction",e]}),r.invalidateQueries({queryKey:["bid",e]})},onError:D=>n(Xe(D),"error")}),C=D=>{D.preventDefault();const K=Number(i.replace(/,/g,""));if(!Number.isFinite(K)||K<It(p)){n(`  ${Se(It(p))}.`,"error");return}R.mutate(K)},[T,f]=S.useState(0);S.useEffect(()=>{if(!j)return;const D=()=>{const P=Math.max(0,Math.floor((new Date(j).getTime()-Date.now())/1e3));f(P)};D();const K=setInterval(D,1e3);return()=>clearInterval(K)},[j]);const v=Math.floor(T/3600),_=Math.floor(T%3600/60),E=T%60,F=`${String(v).padStart(2,"0")}:${String(_).padStart(2,"0")}:${String(E).padStart(2,"0")}`;if(h||!d)return a.jsxs("main",{className:"max-w-[1280px] mx-auto px-6 py-8",children:[a.jsx(Oe,{className:"h-8 w-64 mb-6"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[a.jsx("div",{className:"lg:col-span-7",children:a.jsx(Oe,{className:"aspect-[4/3] rounded-2xl"})}),a.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[a.jsx(Oe,{className:"h-12 w-full"}),a.jsx(Oe,{className:"h-32 w-full"})]})]})]});const q=(W=d.imageUrls)==null?void 0:W[0];return a.jsxs("main",{className:"max-w-[1280px] mx-auto px-6 py-8",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-text-muted mb-6",children:[a.jsx(ie,{to:"/",className:"hover:text-primary",children:""}),a.jsx("span",{className:"material-symbols-outlined text-xs",children:"chevron_right"}),a.jsx("span",{className:"text-text-main font-medium",children:d.title})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[a.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"w-full aspect-[4/3] rounded-2xl overflow-hidden bg-gray-200 border border-border",children:q?a.jsx("img",{src:q,alt:d.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-muted",children:a.jsx("span",{className:"material-symbols-outlined text-6xl",children:"image"})})}),(g==="RUNNING"||g==="DEADLINE")&&a.jsxs("div",{className:"absolute top-6 left-6 bg-primary text-white text-xs font-bold px-4 py-1.5 rounded-full uppercase tracking-wider flex items-center gap-2 shadow-lg",children:[a.jsx("span",{className:"live-dot-blue bg-white"}),"Live"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-border",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-primary",children:[a.jsx("span",{className:"material-symbols-outlined",children:"description"})," "]}),a.jsx("p",{className:"text-text-muted leading-relaxed",children:d.description||" "})]})]}),a.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black tracking-tight leading-tight",children:d.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-text-muted text-sm",children:[" #",d.auctionId]})]}),a.jsx("button",{type:"button",className:"p-3 border border-border rounded-xl hover:bg-gray-50 text-text-muted cursor-not-allowed",title:"   itemId    ",disabled:!0,"aria-label":" ( )",children:a.jsx("span",{className:"material-symbols-outlined",children:"favorite"})})]}),a.jsxs("div",{className:"bg-white border border-border rounded-2xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-text-muted uppercase tracking-widest mb-1",children:" "}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-5xl font-black text-primary tracking-tighter",children:Se(p)}),a.jsxs("span",{className:"text-sm font-bold text-green-500 flex items-center gap-0.5",children:[a.jsx("span",{className:"material-symbols-outlined text-sm",children:"trending_up"}),b,""]})]})]}),a.jsxs("div",{className:"md:text-right",children:[a.jsx("p",{className:"text-xs font-bold text-text-muted uppercase tracking-widest mb-1",children:" "}),a.jsx("div",{className:"text-3xl font-bold font-mono tabular-nums tracking-tight",children:T>0?F:""})]})]}),x&&a.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>o(String(It(p))),className:"py-3 px-4 border border-border rounded-xl text-sm font-bold hover:border-primary hover:text-primary transition-all",children:["+",Se(It(p)-p)]}),a.jsxs("button",{type:"button",onClick:()=>o(String(It(p)*2)),className:"py-3 px-4 border border-border rounded-xl text-sm font-bold hover:border-primary hover:text-primary transition-all",children:["+",Se(It(p))]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"absolute left-5 text-text-muted font-bold text-xl",children:""}),a.jsx("input",{type:"text",inputMode:"numeric",placeholder:String(It(p)),value:i,onChange:D=>o(D.target.value.replace(/\D/g,"")),className:"w-full bg-gray-50 border border-border rounded-2xl py-4 pl-10 pr-4 text-2xl font-black focus:ring-primary focus:border-primary","aria-label":" "})]}),a.jsxs(he,{type:"submit",className:"w-full py-5 text-lg",loading:R.isPending,children:[a.jsx("span",{className:"material-symbols-outlined text-2xl",children:"gavel"}),""]}),a.jsxs("p",{className:"text-[11px] text-text-muted font-medium",children:[" :"," ",a.jsx("span",{className:"font-bold text-text-main",children:Se(It(p))})]})]}),(g==="ENDED"||g==="SUCCESS"||g==="FAILED")&&a.jsx("div",{className:"mt-6",children:a.jsx(ie,{to:`/auctions/${e}/result`,children:a.jsx(he,{variant:"outline",className:"w-full",children:"  "})})})]}),a.jsxs("div",{className:"bg-white border border-border rounded-2xl overflow-hidden flex-1 min-h-[300px] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-border flex justify-between items-center bg-gray-50/50",children:a.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[a.jsx("span",{className:"size-2 bg-green-500 rounded-full animate-pulse"})," "]})}),a.jsx("div",{className:"flex-1 overflow-y-auto max-h-[400px] custom-scrollbar",children:a.jsxs("div",{className:"divide-y divide-border",children:[y.slice(0,20).map((D,K)=>a.jsx(ux,{bid:D},D.bidId??K)),y.length===0&&a.jsx("p",{className:"p-4 text-text-muted text-sm",children:"  ."})]})})]}),a.jsxs("div",{className:"bg-white border border-border rounded-2xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"size-14 rounded-2xl bg-primary/10 flex items-center justify-center",children:a.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"person"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:d.sellerNickname??""}),a.jsx("p",{className:"text-xs text-text-muted",children:""})]})]}),a.jsx("button",{type:"button",className:"text-xs font-bold px-5 py-2.5 bg-gray-100 border border-border rounded-xl cursor-not-allowed opacity-60",disabled:!0,title:"1:1   ",children:""})]})]})]})]})}function ux({bid:t}){var e;return a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-primary/5 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"size-11 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden",children:a.jsx("span",{className:"text-primary font-bold text-sm",children:((e=t.bidderNickname)==null?void 0:e[0])??"?"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold",children:t.bidderNickname}),a.jsxs("p",{className:"text-[11px] text-text-muted flex items-center gap-1",children:[a.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"schedule"}),t.createdAt?Pi(t.createdAt):"-"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"font-black text-lg text-primary tracking-tight",children:Se(t.bidPrice)})})]})}var _s=t=>t.type==="checkbox",tr=t=>t instanceof Date,We=t=>t==null;const Jc=t=>typeof t=="object";var Ae=t=>!We(t)&&!Array.isArray(t)&&Jc(t)&&!tr(t),hx=t=>Ae(t)&&t.target?_s(t.target)?t.target.checked:t.target.value:t,fx=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mx=(t,e)=>t.has(fx(e)),px=t=>{const e=t.constructor&&t.constructor.prototype;return Ae(e)&&e.hasOwnProperty("isPrototypeOf")},Qi=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ie(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(Qi&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Ae(t)&&px(t)))return t;const s=r?[]:Object.create(Object.getPrototypeOf(t));for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=Ie(t[n]));return s}var hn=t=>/^\w*$/.test(t),_e=t=>t===void 0,Xi=t=>Array.isArray(t)?t.filter(Boolean):[],Gi=t=>Xi(t.replace(/["|']|\]/g,"").split(/\.|\[/)),z=(t,e,r)=>{if(!e||!Ae(t))return r;const s=(hn(e)?[e]:Gi(e)).reduce((n,i)=>We(n)?n:n[i],t);return _e(s)||s===t?_e(t[e])?r:t[e]:s},ft=t=>typeof t=="boolean",nt=t=>typeof t=="function",ge=(t,e,r)=>{let s=-1;const n=hn(e)?[e]:Gi(e),i=n.length,o=i-1;for(;++s<i;){const l=n[s];let c=r;if(s!==o){const d=t[l];c=Ae(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const yo={BLUR:"blur",FOCUS_OUT:"focusout"},it={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xx=$e.createContext(null);xx.displayName="HookFormControlContext";var gx=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==it.all&&(e._proxyFormState[o]=!s||it.all),t[o]}});return n};const yx=typeof window<"u"?$e.useLayoutEffect:$e.useEffect;var Qe=t=>typeof t=="string",bx=(t,e,r,s,n)=>Qe(t)?(s&&e.watch.add(t),z(r,t,n)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),z(r,i))):(s&&(e.watchAll=!0),r),mi=t=>We(t)||!Jc(t);function Pt(t,e,r=new WeakSet){if(mi(t)||mi(e))return Object.is(t,e);if(tr(t)&&tr(e))return Object.is(t.getTime(),e.getTime());const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of s){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=e[i];if(tr(o)&&tr(l)||Ae(o)&&Ae(l)||Array.isArray(o)&&Array.isArray(l)?!Pt(o,l,r):!Object.is(o,l))return!1}}return!0}const vx=$e.createContext(null);vx.displayName="HookFormContext";var Qc=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},Hr=t=>Array.isArray(t)?t:[t],bo=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}};function Xc(t,e){const r={};for(const s in t)if(t.hasOwnProperty(s)){const n=t[s],i=e[s];if(n&&Ae(n)&&i){const o=Xc(n,i);Ae(o)&&(r[s]=o)}else t[s]&&(r[s]=i)}return r}var Be=t=>Ae(t)&&!Object.keys(t).length,Yi=t=>t.type==="file",Hs=t=>{if(!Qi)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Gc=t=>t.type==="select-multiple",ea=t=>t.type==="radio",wx=t=>ea(t)||_s(t),Rn=t=>Hs(t)&&t.isConnected;function _x(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=_e(t)?s++:t[e[s++]];return t}function Nx(t){for(const e in t)if(t.hasOwnProperty(e)&&!_e(t[e]))return!1;return!0}function Ce(t,e){const r=Array.isArray(e)?e:hn(e)?[e]:Gi(e),s=r.length===1?t:_x(t,r),n=r.length-1,i=r[n];return s&&delete s[i],n!==0&&(Ae(s)&&Be(s)||Array.isArray(s)&&Nx(s))&&Ce(t,r.slice(0,-1)),t}var jx=t=>{for(const e in t)if(nt(t[e]))return!0;return!1};function Yc(t){return Array.isArray(t)||Ae(t)&&!jx(t)}function pi(t,e={}){for(const r in t){const s=t[r];Yc(s)?(e[r]=Array.isArray(s)?[]:{},pi(s,e[r])):_e(s)||(e[r]=!0)}return e}function mr(t,e,r){r||(r=pi(e));for(const s in t){const n=t[s];if(Yc(n))_e(e)||mi(r[s])?r[s]=pi(n,Array.isArray(n)?[]:{}):mr(n,We(e)?{}:e[s],r[s]);else{const i=e[s];r[s]=!Pt(n,i)}}return r}const vo={value:!1,isValid:!1},wo={value:!0,isValid:!0};var ed=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_e(t[0].attributes.value)?_e(t[0].value)||t[0].value===""?wo:{value:t[0].value,isValid:!0}:wo:vo}return vo},td=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>_e(t)?t:e?t===""?NaN:t&&+t:r&&Qe(t)?new Date(t):s?s(t):t;const _o={isValid:!1,value:null};var rd=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,_o):_o;function No(t){const e=t.ref;return Yi(e)?e.files:ea(e)?rd(t.refs).value:Gc(e)?[...e.selectedOptions].map(({value:r})=>r):_s(e)?ed(t.refs).value:td(_e(e.value)?t.ref.value:e.value,t)}var Sx=(t,e,r,s)=>{const n={};for(const i of t){const o=z(e,i);o&&ge(n,i,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},qs=t=>t instanceof RegExp,Pr=t=>_e(t)?t:qs(t)?t.source:Ae(t)?qs(t.value)?t.value.source:t.value:t,jo=t=>({isOnSubmit:!t||t===it.onSubmit,isOnBlur:t===it.onBlur,isOnChange:t===it.onChange,isOnAll:t===it.all,isOnTouch:t===it.onTouched});const So="AsyncFunction";var kx=t=>!!t&&!!t.validate&&!!(nt(t.validate)&&t.validate.constructor.name===So||Ae(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===So)),Ex=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ko=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const qr=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const i=z(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(qr(l,e))break}else if(Ae(l)&&qr(l,e))break}}};function Eo(t,e,r){const s=z(t,r);if(s||hn(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=z(e,i),l=z(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:r}}var Cx=(t,e,r,s)=>{r(t);const{name:n,...i}=t;return Be(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||it.all))},Tx=(t,e,r)=>!t||!e||t===e||Hr(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),Rx=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,Ox=(t,e)=>!Xi(z(t,e)).length&&Ce(t,e),Ax=(t,e,r)=>{const s=Hr(z(t,r));return ge(s,"root",e[r]),ge(t,r,s),t};function Co(t,e,r="validate"){if(Qe(t)||Array.isArray(t)&&t.every(Qe)||ft(t)&&!t)return{type:r,message:Qe(t)?t:"",ref:e}}var fr=t=>Ae(t)&&!qs(t)?t:{value:t,message:""},To=async(t,e,r,s,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:u,max:y,pattern:p,validate:b,name:j,valueAsNumber:g,mount:x}=t._f,R=z(r,j);if(!x||e.has(j))return{};const C=l?l[0]:o,T=D=>{n&&C.reportValidity&&(C.setCustomValidity(ft(D)?"":D||""),C.reportValidity())},f={},v=ea(o),_=_s(o),E=v||_,F=(g||Yi(o))&&_e(o.value)&&_e(R)||Hs(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,q=Qc.bind(null,j,s,f),W=(D,K,P,I=jt.maxLength,A=jt.minLength)=>{const B=D?K:P;f[j]={type:D?I:A,message:B,ref:o,...q(D?I:A,B)}};if(i?!Array.isArray(R)||!R.length:c&&(!E&&(F||We(R))||ft(R)&&!R||_&&!ed(l).isValid||v&&!rd(l).isValid)){const{value:D,message:K}=Qe(c)?{value:!!c,message:c}:fr(c);if(D&&(f[j]={type:jt.required,message:K,ref:C,...q(jt.required,K)},!s))return T(K),f}if(!F&&(!We(u)||!We(y))){let D,K;const P=fr(y),I=fr(u);if(!We(R)&&!isNaN(R)){const A=o.valueAsNumber||R&&+R;We(P.value)||(D=A>P.value),We(I.value)||(K=A<I.value)}else{const A=o.valueAsDate||new Date(R),B=G=>new Date(new Date().toDateString()+" "+G),U=o.type=="time",X=o.type=="week";Qe(P.value)&&R&&(D=U?B(R)>B(P.value):X?R>P.value:A>new Date(P.value)),Qe(I.value)&&R&&(K=U?B(R)<B(I.value):X?R<I.value:A<new Date(I.value))}if((D||K)&&(W(!!D,P.message,I.message,jt.max,jt.min),!s))return T(f[j].message),f}if((d||h)&&!F&&(Qe(R)||i&&Array.isArray(R))){const D=fr(d),K=fr(h),P=!We(D.value)&&R.length>+D.value,I=!We(K.value)&&R.length<+K.value;if((P||I)&&(W(P,D.message,K.message),!s))return T(f[j].message),f}if(p&&!F&&Qe(R)){const{value:D,message:K}=fr(p);if(qs(D)&&!R.match(D)&&(f[j]={type:jt.pattern,message:K,ref:o,...q(jt.pattern,K)},!s))return T(K),f}if(b){if(nt(b)){const D=await b(R,r),K=Co(D,C);if(K&&(f[j]={...K,...q(jt.validate,K.message)},!s))return T(K.message),f}else if(Ae(b)){let D={};for(const K in b){if(!Be(D)&&!s)break;const P=Co(await b[K](R,r),C,K);P&&(D={...P,...q(K,P.message)},T(P.message),s&&(f[j]=D))}if(!Be(D)&&(f[j]={ref:C,...D},!s))return f}}return T(!0),f};const Ix={mode:it.onSubmit,reValidateMode:it.onChange,shouldFocusError:!0};function $x(t={}){let e={...Ix,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:nt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},n=Ae(e.defaultValues)||Ae(e.values)?Ie(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ie(n),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={...h};let y={...u};const p={array:bo(),state:bo()},b=e.criteriaMode===it.all,j=m=>w=>{clearTimeout(d),d=setTimeout(m,w)},g=async m=>{if(!o.keepIsValid&&!e.disabled&&(u.isValid||y.isValid||m)){let w;e.resolver?(w=Be((await E()).errors),x()):w=await q(s,!0),w!==r.isValid&&p.state.next({isValid:w})}},x=(m,w)=>{!e.disabled&&(u.isValidating||u.validatingFields||y.isValidating||y.validatingFields)&&((m||Array.from(l.mount)).forEach(k=>{k&&(w?ge(r.validatingFields,k,w):Ce(r.validatingFields,k))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Be(r.validatingFields)}))},R=(m,w=[],k,V,M=!0,L=!0)=>{if(V&&k&&!e.disabled){if(o.action=!0,L&&Array.isArray(z(s,m))){const Q=k(z(s,m),V.argA,V.argB);M&&ge(s,m,Q)}if(L&&Array.isArray(z(r.errors,m))){const Q=k(z(r.errors,m),V.argA,V.argB);M&&ge(r.errors,m,Q),Ox(r.errors,m)}if((u.touchedFields||y.touchedFields)&&L&&Array.isArray(z(r.touchedFields,m))){const Q=k(z(r.touchedFields,m),V.argA,V.argB);M&&ge(r.touchedFields,m,Q)}(u.dirtyFields||y.dirtyFields)&&(r.dirtyFields=mr(n,i)),p.state.next({name:m,isDirty:D(m,w),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(i,m,w)},C=(m,w)=>{ge(r.errors,m,w),p.state.next({errors:r.errors})},T=m=>{r.errors=m,p.state.next({errors:r.errors,isValid:!1})},f=(m,w,k,V)=>{const M=z(s,m);if(M){const L=z(i,m,_e(k)?z(n,m):k);_e(L)||V&&V.defaultChecked||w?ge(i,m,w?L:No(M._f)):I(m,L),o.mount&&!o.action&&g()}},v=(m,w,k,V,M)=>{let L=!1,Q=!1;const me={name:m};if(!e.disabled){if(!k||V){(u.isDirty||y.isDirty)&&(Q=r.isDirty,r.isDirty=me.isDirty=D(),L=Q!==me.isDirty);const pe=Pt(z(n,m),w);Q=!!z(r.dirtyFields,m),pe?Ce(r.dirtyFields,m):ge(r.dirtyFields,m,!0),me.dirtyFields=r.dirtyFields,L=L||(u.dirtyFields||y.dirtyFields)&&Q!==!pe}if(k){const pe=z(r.touchedFields,m);pe||(ge(r.touchedFields,m,k),me.touchedFields=r.touchedFields,L=L||(u.touchedFields||y.touchedFields)&&pe!==k)}L&&M&&p.state.next(me)}return L?me:{}},_=(m,w,k,V)=>{const M=z(r.errors,m),L=(u.isValid||y.isValid)&&ft(w)&&r.isValid!==w;if(e.delayError&&k?(c=j(()=>C(m,k)),c(e.delayError)):(clearTimeout(d),c=null,k?ge(r.errors,m,k):Ce(r.errors,m)),(k?!Pt(M,k):M)||!Be(V)||L){const Q={...V,...L&&ft(w)?{isValid:w}:{},errors:r.errors,name:m};r={...r,...Q},p.state.next(Q)}},E=async m=>(x(m,!0),await e.resolver(i,e.context,Sx(m||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation))),F=async m=>{const{errors:w}=await E(m);if(x(m),m)for(const k of m){const V=z(w,k);V?ge(r.errors,k,V):Ce(r.errors,k)}else r.errors=w;return w},q=async(m,w,k={valid:!0})=>{for(const V in m){const M=m[V];if(M){const{_f:L,...Q}=M;if(L){const me=l.array.has(L.name),pe=M._f&&kx(M._f);pe&&u.validatingFields&&x([L.name],!0);const Fe=await To(M,l.disabled,i,b,e.shouldUseNativeValidation&&!w,me);if(pe&&u.validatingFields&&x([L.name]),Fe[L.name]&&(k.valid=!1,w||t.shouldUseNativeValidation))break;!w&&(z(Fe,L.name)?me?Ax(r.errors,Fe,L.name):ge(r.errors,L.name,Fe[L.name]):Ce(r.errors,L.name))}!Be(Q)&&await q(Q,w,k)}}return k.valid},W=()=>{for(const m of l.unMount){const w=z(s,m);w&&(w._f.refs?w._f.refs.every(k=>!Rn(k)):!Rn(w._f.ref))&&Nt(m)}l.unMount=new Set},D=(m,w)=>!e.disabled&&(m&&w&&ge(i,m,w),!Pt(se(),n)),K=(m,w,k)=>bx(m,l,{...o.mount?i:_e(w)?n:Qe(m)?{[m]:w}:w},k,w),P=m=>Xi(z(o.mount?i:n,m,e.shouldUnregister?z(n,m,[]):[])),I=(m,w,k={})=>{const V=z(s,m);let M=w;if(V){const L=V._f;L&&(!L.disabled&&ge(i,m,td(w,L)),M=Hs(L.ref)&&We(w)?"":w,Gc(L.ref)?[...L.ref.options].forEach(Q=>Q.selected=M.includes(Q.value)):L.refs?_s(L.ref)?L.refs.forEach(Q=>{(!Q.defaultChecked||!Q.disabled)&&(Array.isArray(M)?Q.checked=!!M.find(me=>me===Q.value):Q.checked=M===Q.value||!!M)}):L.refs.forEach(Q=>Q.checked=Q.value===M):Yi(L.ref)?L.ref.value="":(L.ref.value=M,L.ref.type||p.state.next({name:m,values:Ie(i)})))}(k.shouldDirty||k.shouldTouch)&&v(m,M,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&G(m)},A=(m,w,k)=>{for(const V in w){if(!w.hasOwnProperty(V))return;const M=w[V],L=m+"."+V,Q=z(s,L);(l.array.has(m)||Ae(M)||Q&&!Q._f)&&!tr(M)?A(L,M,k):I(L,M,k)}},B=(m,w,k={})=>{const V=z(s,m),M=l.array.has(m),L=Ie(w);ge(i,m,L),M?(p.array.next({name:m,values:Ie(i)}),(u.isDirty||u.dirtyFields||y.isDirty||y.dirtyFields)&&k.shouldDirty&&p.state.next({name:m,dirtyFields:mr(n,i),isDirty:D(m,L)})):V&&!V._f&&!We(L)?A(m,L,k):I(m,L,k),ko(m,l)?p.state.next({...r,name:m,values:Ie(i)}):p.state.next({name:o.mount?m:void 0,values:Ie(i)})},U=async m=>{o.mount=!0;const w=m.target;let k=w.name,V=!0;const M=z(s,k),L=pe=>{V=Number.isNaN(pe)||tr(pe)&&isNaN(pe.getTime())||Pt(pe,z(i,k,pe))},Q=jo(e.mode),me=jo(e.reValidateMode);if(M){let pe,Fe;const Gt=w.type?No(M._f):hx(m),At=m.type===yo.BLUR||m.type===yo.FOCUS_OUT,md=!Ex(M._f)&&!e.resolver&&!z(r.errors,k)&&!M._f.deps||Rx(At,z(r.touchedFields,k),r.isSubmitted,me,Q),fn=ko(k,l,At);ge(i,k,Gt),At?(!w||!w.readOnly)&&(M._f.onBlur&&M._f.onBlur(m),c&&c(0)):M._f.onChange&&M._f.onChange(m);const mn=v(k,Gt,At),pd=!Be(mn)||fn;if(!At&&p.state.next({name:k,type:m.type,values:Ie(i)}),md)return(u.isValid||y.isValid)&&(e.mode==="onBlur"?At&&g():At||g()),pd&&p.state.next({name:k,...fn?{}:mn});if(!At&&fn&&p.state.next({...r}),e.resolver){const{errors:la}=await E([k]);if(x([k]),L(Gt),V){const xd=Eo(r.errors,s,k),ca=Eo(la,s,xd.name||k);pe=ca.error,k=ca.name,Fe=Be(la)}}else x([k],!0),pe=(await To(M,l.disabled,i,b,e.shouldUseNativeValidation))[k],x([k]),L(Gt),V&&(pe?Fe=!1:(u.isValid||y.isValid)&&(Fe=await q(s,!0)));V&&(M._f.deps&&(!Array.isArray(M._f.deps)||M._f.deps.length>0)&&G(M._f.deps),_(k,Fe,pe,mn))}},X=(m,w)=>{if(z(r.errors,w)&&m.focus)return m.focus(),1},G=async(m,w={})=>{let k,V;const M=Hr(m);if(e.resolver){const L=await F(_e(m)?m:M);k=Be(L),V=m?!M.some(Q=>z(L,Q)):k}else m?(V=(await Promise.all(M.map(async L=>{const Q=z(s,L);return await q(Q&&Q._f?{[L]:Q}:Q)}))).every(Boolean),!(!V&&!r.isValid)&&g()):V=k=await q(s);return p.state.next({...!Qe(m)||(u.isValid||y.isValid)&&k!==r.isValid?{}:{name:m},...e.resolver||!m?{isValid:k}:{},errors:r.errors}),w.shouldFocus&&!V&&qr(s,X,m?M:l.mount),V},se=(m,w)=>{let k={...o.mount?i:n};return w&&(k=Xc(w.dirtyFields?r.dirtyFields:r.touchedFields,k)),_e(m)?k:Qe(m)?z(k,m):m.map(V=>z(k,V))},de=(m,w)=>({invalid:!!z((w||r).errors,m),isDirty:!!z((w||r).dirtyFields,m),error:z((w||r).errors,m),isValidating:!!z(r.validatingFields,m),isTouched:!!z((w||r).touchedFields,m)}),be=m=>{m&&Hr(m).forEach(w=>Ce(r.errors,w)),p.state.next({errors:m?r.errors:{}})},ve=(m,w,k)=>{const V=(z(s,m,{_f:{}})._f||{}).ref,M=z(r.errors,m)||{},{ref:L,message:Q,type:me,...pe}=M;ge(r.errors,m,{...pe,...w,ref:V}),p.state.next({name:m,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&V&&V.focus&&V.focus()},Le=(m,w)=>nt(m)?p.state.subscribe({next:k=>"values"in k&&m(K(void 0,w),k)}):K(m,w,!0),wt=m=>p.state.subscribe({next:w=>{Tx(m.name,w.name,m.exact)&&Cx(w,m.formState||u,fd,m.reRenderRoot)&&m.callback({values:{...i},...r,...w,defaultValues:n})}}).unsubscribe,_t=m=>(o.mount=!0,y={...y,...m.formState},wt({...m,formState:{...h,...m.formState}})),Nt=(m,w={})=>{for(const k of m?Hr(m):l.mount)l.mount.delete(k),l.array.delete(k),w.keepValue||(Ce(s,k),Ce(i,k)),!w.keepError&&Ce(r.errors,k),!w.keepDirty&&Ce(r.dirtyFields,k),!w.keepTouched&&Ce(r.touchedFields,k),!w.keepIsValidating&&Ce(r.validatingFields,k),!e.shouldUnregister&&!w.keepDefaultValue&&Ce(n,k);p.state.next({values:Ie(i)}),p.state.next({...r,...w.keepDirty?{isDirty:D()}:{}}),!w.keepIsValid&&g()},dt=({disabled:m,name:w})=>{if(ft(m)&&o.mount||m||l.disabled.has(w)){const M=l.disabled.has(w)!==!!m;m?l.disabled.add(w):l.disabled.delete(w),M&&o.mount&&!o.action&&g()}},Pe=(m,w={})=>{let k=z(s,m);const V=ft(w.disabled)||ft(e.disabled);return ge(s,m,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:m}},name:m,mount:!0,...w}}),l.mount.add(m),k?dt({disabled:ft(w.disabled)?w.disabled:e.disabled,name:m}):f(m,!0,w.value),{...V?{disabled:w.disabled||e.disabled}:{},...e.progressive?{required:!!w.required,min:Pr(w.min),max:Pr(w.max),minLength:Pr(w.minLength),maxLength:Pr(w.maxLength),pattern:Pr(w.pattern)}:{},name:m,onChange:U,onBlur:U,ref:M=>{if(M){Pe(m,w),k=z(s,m);const L=_e(M.value)&&M.querySelectorAll&&M.querySelectorAll("input,select,textarea")[0]||M,Q=wx(L),me=k._f.refs||[];if(Q?me.find(pe=>pe===L):L===k._f.ref)return;ge(s,m,{_f:{...k._f,...Q?{refs:[...me.filter(Rn),L,...Array.isArray(z(n,m))?[{}]:[]],ref:{type:L.type,name:m}}:{ref:L}}}),f(m,!1,void 0,L)}else k=z(s,m,{}),k._f&&(k._f.mount=!1),(e.shouldUnregister||w.shouldUnregister)&&!(mx(l.array,m)&&o.action)&&l.unMount.add(m)}}},Ye=()=>e.shouldFocusError&&qr(s,X,l.mount),Qt=m=>{ft(m)&&(p.state.next({disabled:m}),qr(s,(w,k)=>{const V=z(s,k);V&&(w.disabled=V._f.disabled||m,Array.isArray(V._f.refs)&&V._f.refs.forEach(M=>{M.disabled=V._f.disabled||m}))},0,!1))},Xt=(m,w)=>async k=>{let V;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let M=Ie(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:L,values:Q}=await E();x(),r.errors=L,M=Ie(Q)}else await q(s);if(l.disabled.size)for(const L of l.disabled)Ce(M,L);if(Ce(r.errors,"root"),Be(r.errors)){p.state.next({errors:{}});try{await m(M,k)}catch(L){V=L}}else w&&await w({...r.errors},k),Ye(),setTimeout(Ye);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Be(r.errors)&&!V,submitCount:r.submitCount+1,errors:r.errors}),V)throw V},ud=(m,w={})=>{z(s,m)&&(_e(w.defaultValue)?B(m,Ie(z(n,m))):(B(m,w.defaultValue),ge(n,m,Ie(w.defaultValue))),w.keepTouched||Ce(r.touchedFields,m),w.keepDirty||(Ce(r.dirtyFields,m),r.isDirty=w.defaultValue?D(m,Ie(z(n,m))):D()),w.keepError||(Ce(r.errors,m),u.isValid&&g()),p.state.next({...r}))},ia=(m,w={})=>{const k=m?Ie(m):n,V=Ie(k),M=Be(m),L=M?n:V;if(w.keepDefaultValues||(n=k),!w.keepValues){if(w.keepDirtyValues){const Q=new Set([...l.mount,...Object.keys(mr(n,i))]);for(const me of Array.from(Q)){const pe=z(r.dirtyFields,me),Fe=z(i,me),Gt=z(L,me);pe&&!_e(Fe)?ge(L,me,Fe):!pe&&!_e(Gt)&&B(me,Gt)}}else{if(Qi&&_e(m))for(const Q of l.mount){const me=z(s,Q);if(me&&me._f){const pe=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(Hs(pe)){const Fe=pe.closest("form");if(Fe){Fe.reset();break}}}}if(w.keepFieldsRef)for(const Q of l.mount)B(Q,z(L,Q));else s={}}i=e.shouldUnregister?w.keepDefaultValues?Ie(n):{}:Ie(L),p.array.next({values:{...L}}),p.state.next({values:{...L}})}l={mount:w.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!w.keepIsValid||!!w.keepDirtyValues||!e.shouldUnregister&&!Be(L),o.watch=!!e.shouldUnregister,o.keepIsValid=!!w.keepIsValid,o.action=!1,w.keepErrors||(r.errors={}),p.state.next({submitCount:w.keepSubmitCount?r.submitCount:0,isDirty:M?!1:w.keepDirty?r.isDirty:!!(w.keepDefaultValues&&!Pt(m,n)),isSubmitted:w.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:M?{}:w.keepDirtyValues?w.keepDefaultValues&&i?mr(n,i):r.dirtyFields:w.keepDefaultValues&&m?mr(n,m):w.keepDirty?r.dirtyFields:{},touchedFields:w.keepTouched?r.touchedFields:{},errors:w.keepErrors?r.errors:{},isSubmitSuccessful:w.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},aa=(m,w)=>ia(nt(m)?m(i):m,{...e.resetOptions,...w}),hd=(m,w={})=>{const k=z(s,m),V=k&&k._f;if(V){const M=V.refs?V.refs[0]:V.ref;M.focus&&setTimeout(()=>{M.focus(),w.shouldSelect&&nt(M.select)&&M.select()})}},fd=m=>{r={...r,...m}},oa={control:{register:Pe,unregister:Nt,getFieldState:de,handleSubmit:Xt,setError:ve,_subscribe:wt,_runSchema:E,_updateIsValidating:x,_focusError:Ye,_getWatch:K,_getDirty:D,_setValid:g,_setFieldArray:R,_setDisabledField:dt,_setErrors:T,_getFieldArray:P,_reset:ia,_resetDefaultValues:()=>nt(e.defaultValues)&&e.defaultValues().then(m=>{aa(m,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Qt,_subjects:p,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(m){o=m},get _defaultValues(){return n},get _names(){return l},set _names(m){l=m},get _formState(){return r},get _options(){return e},set _options(m){e={...e,...m}}},subscribe:_t,trigger:G,register:Pe,handleSubmit:Xt,watch:Le,setValue:B,getValues:se,reset:aa,resetField:ud,clearErrors:be,unregister:Nt,setError:ve,setFocus:hd,getFieldState:de};return{...oa,formControl:oa}}function ta(t={}){const e=$e.useRef(void 0),r=$e.useRef(void 0),[s,n]=$e.useState({isDirty:!1,isValidating:!1,isLoading:nt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:nt(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!nt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=$x(t);e.current={...l,formState:s}}const i=e.current.control;return i._options=t,yx(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),$e.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$e.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),$e.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),$e.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),$e.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),$e.useEffect(()=>{var o;t.values&&!Pt(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=t.values,n(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),$e.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=$e.useMemo(()=>gx(s,i),[i,s]),e.current}const Ro=(t,e,r)=>{if(t&&"reportValidity"in t){const s=z(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},sd=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?Ro(s.ref,r,t):s.refs&&s.refs.forEach(n=>Ro(n,r,t))}},Px=(t,e)=>{e.shouldUseNativeValidation&&sd(t,e);const r={};for(const s in t){const n=z(e.fields,s),i=Object.assign(t[s]||{},{ref:n&&n.ref});if(Lx(e.names||Object.keys(t),s)){const o=Object.assign({},z(r,s));ge(o,"root",i),ge(r,s,o)}else ge(r,s,i)}return r},Lx=(t,e)=>t.some(r=>r.startsWith(e+"."));var Dx=function(t,e){for(var r={};t.length;){var s=t[0],n=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return t.push(u)})}),e){var c=r[o].types,d=c&&c[s.code];r[o]=Qc(o,e,r,n,d?[].concat(d,s.message):s.message)}t.shift()}return r},ra=function(t,e,r){return r===void 0&&(r={}),function(s,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(d){return i.shouldUseNativeValidation&&sd({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Px(Dx(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},le;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},t.getValidEnumValues=n=>{const i=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(const o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(le||(le={}));var Oo;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Oo||(Oo={}));const Z=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$t=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},$=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},s={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),s}static assert(e){if(!(e instanceof Rt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];r[i]=r[i]||[],r[i].push(e(n))}else s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Rt.create=t=>new Rt(t);const xi=(t,e)=>{let r;switch(t.code){case $.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,le.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:r=`Unrecognized key(s) in object: ${le.joinValues(t.keys,", ")}`;break;case $.invalid_union:r="Invalid input";break;case $.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${le.joinValues(t.options)}`;break;case $.invalid_enum_value:r=`Invalid enum value. Expected ${le.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:r="Invalid function arguments";break;case $.invalid_return_type:r="Invalid function return type";break;case $.invalid_date:r="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:le.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case $.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case $.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case $.custom:r="Invalid input";break;case $.invalid_intersection_types:r="Intersection results could not be merged";break;case $.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case $.not_finite:r="Number must be finite";break;default:r=e.defaultError,le.assertNever(t)}return{message:r}};let Ux=xi;function Fx(){return Ux}const Mx=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,i=[...r,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:i,message:l}};function H(t,e){const r=Fx(),s=Mx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===xi?void 0:xi].filter(n=>!!n)});t.common.issues.push(s)}class Ge{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return ee;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const i=await n.key,o=await n.value;s.push({key:i,value:o})}return Ge.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return ee;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const ee=Object.freeze({status:"aborted"}),Fr=t=>({status:"dirty",value:t}),rt=t=>({status:"valid",value:t}),Ao=t=>t.status==="aborted",Io=t=>t.status==="dirty",wr=t=>t.status==="valid",Ws=t=>typeof Promise<"u"&&t instanceof Promise;var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));class Wt{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $o=(t,e)=>{if(wr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rt(t.common.issues);return this._error=r,this._error}}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class oe{get description(){return this._def.description}_getType(e){return $t(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ge,ctx:{common:e.parent.common,data:e.data,parsedType:$t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ws(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$t(e)},n=this._parseSync({data:e,path:s.path,parent:s});return $o(s,n)}"~validate"(e){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$t(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return wr(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(n=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>wr(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$t(e)},n=this._parse({data:e,path:s.path,parent:s}),i=await(Ws(n)?n:Promise.resolve(n));return $o(s,i)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue({code:$.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new jr({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vt.create(this,this._def)}nullable(){return Sr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xt.create(this)}promise(){return Js.create(this,this._def)}or(e){return Zs.create([this,e],this._def)}and(e){return Ks.create(this,e,this._def)}transform(e){return new jr({...ne(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bi({...ne(this._def),innerType:this,defaultValue:r,typeName:te.ZodDefault})}brand(){return new cg({typeName:te.ZodBranded,type:this,...ne(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new vi({...ne(this._def),innerType:this,catchValue:r,typeName:te.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return sa.create(this,e)}readonly(){return wi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bx=/^c[^\s-]{8,}$/i,Vx=/^[0-9a-z]+$/,Hx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wx=/^[a-z0-9_-]{21}$/i,zx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Zx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let On;const Qx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tg=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rg=new RegExp(`^${nd}$`);function id(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function sg(t){return new RegExp(`^${id(t)}$`)}function ng(t){let e=`${nd}T${id(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ig(t,e){return!!((e==="v4"||!e)&&Qx.test(t)||(e==="v6"||!e)&&Gx.test(t))}function ag(t,e){if(!zx.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function og(t,e){return!!((e==="v4"||!e)&&Xx.test(t)||(e==="v6"||!e)&&Yx.test(t))}class Mt extends oe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return H(i,{code:$.invalid_type,expected:Z.string,received:i.parsedType}),ee}const s=new Ge;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?H(n,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&H(n,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Kx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"email",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")On||(On=new RegExp(Jx,"u")),On.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"emoji",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")qx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"uuid",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Wx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"nanoid",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Bx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cuid",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Vx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cuid2",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Hx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"ulid",code:$.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),H(n,{validation:"url",code:$.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"regex",code:$.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?ng(i).test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?rg.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?sg(i).test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{code:$.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Zx.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"duration",code:$.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?ig(e.data,i.version)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"ip",code:$.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?ag(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"jwt",code:$.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?og(e.data,i.version)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"cidr",code:$.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?eg.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"base64",code:$.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?tg.test(e.data)||(n=this._getOrReturnCtx(e,n),H(n,{validation:"base64url",code:$.invalid_string,message:i.message}),s.dirty()):le.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:$.invalid_string,...J.errToObj(s)})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...J.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...J.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...J.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...J.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...J.errToObj(r)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Mt.create=t=>new Mt({checks:[],typeName:te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});function lg(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,i=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/10**n}class _r extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return H(i,{code:$.invalid_type,expected:Z.number,received:i.parsedType}),ee}let s;const n=new Ge;for(const i of this._def.checks)i.kind==="int"?le.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),H(s,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?lg(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),H(s,{code:$.not_finite,message:i.message}),n.dirty()):le.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,J.toString(r))}gt(e,r){return this.setLimit("min",e,!1,J.toString(r))}lte(e,r){return this.setLimit("max",e,!0,J.toString(r))}lt(e,r){return this.setLimit("max",e,!1,J.toString(r))}setLimit(e,r,s,n){return new _r({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:J.toString(n)}]})}_addCheck(e){return new _r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&le.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}_r.create=t=>new _r({checks:[],typeName:te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class Xr extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let s;const n=new Ge;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),H(s,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):le.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return H(r,{code:$.invalid_type,expected:Z.bigint,received:r.parsedType}),ee}gte(e,r){return this.setLimit("min",e,!0,J.toString(r))}gt(e,r){return this.setLimit("min",e,!1,J.toString(r))}lte(e,r){return this.setLimit("max",e,!0,J.toString(r))}lt(e,r){return this.setLimit("max",e,!1,J.toString(r))}setLimit(e,r,s,n){return new Xr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:J.toString(n)}]})}_addCheck(e){return new Xr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xr.create=t=>new Xr({checks:[],typeName:te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ne(t)});class Po extends oe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.boolean,received:s.parsedType}),ee}return rt(e.data)}}Po.create=t=>new Po({typeName:te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ne(t)});class zs extends oe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return H(i,{code:$.invalid_type,expected:Z.date,received:i.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return H(i,{code:$.invalid_date}),ee}const s=new Ge;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:$.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),H(n,{code:$.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):le.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zs({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}zs.create=t=>new zs({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:te.ZodDate,...ne(t)});class Lo extends oe{_parse(e){if(this._getType(e)!==Z.symbol){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.symbol,received:s.parsedType}),ee}return rt(e.data)}}Lo.create=t=>new Lo({typeName:te.ZodSymbol,...ne(t)});class Do extends oe{_parse(e){if(this._getType(e)!==Z.undefined){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.undefined,received:s.parsedType}),ee}return rt(e.data)}}Do.create=t=>new Do({typeName:te.ZodUndefined,...ne(t)});class Uo extends oe{_parse(e){if(this._getType(e)!==Z.null){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.null,received:s.parsedType}),ee}return rt(e.data)}}Uo.create=t=>new Uo({typeName:te.ZodNull,...ne(t)});class Fo extends oe{constructor(){super(...arguments),this._any=!0}_parse(e){return rt(e.data)}}Fo.create=t=>new Fo({typeName:te.ZodAny,...ne(t)});class Mo extends oe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rt(e.data)}}Mo.create=t=>new Mo({typeName:te.ZodUnknown,...ne(t)});class zt extends oe{_parse(e){const r=this._getOrReturnCtx(e);return H(r,{code:$.invalid_type,expected:Z.never,received:r.parsedType}),ee}}zt.create=t=>new zt({typeName:te.ZodNever,...ne(t)});class Bo extends oe{_parse(e){if(this._getType(e)!==Z.undefined){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.void,received:s.parsedType}),ee}return rt(e.data)}}Bo.create=t=>new Bo({typeName:te.ZodVoid,...ne(t)});class xt extends oe{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==Z.array)return H(r,{code:$.invalid_type,expected:Z.array,received:r.parsedType}),ee;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(H(r,{code:o?$.too_big:$.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(H(r,{code:$.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(H(r,{code:$.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new Wt(r,o,r.path,l)))).then(o=>Ge.mergeArray(s,o));const i=[...r.data].map((o,l)=>n.type._parseSync(new Wt(r,o,r.path,l)));return Ge.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new xt({...this._def,minLength:{value:e,message:J.toString(r)}})}max(e,r){return new xt({...this._def,maxLength:{value:e,message:J.toString(r)}})}length(e,r){return new xt({...this._def,exactLength:{value:e,message:J.toString(r)}})}nonempty(e){return this.min(1,e)}}xt.create=(t,e)=>new xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...ne(e)});function pr(t){if(t instanceof Te){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Vt.create(pr(s))}return new Te({...t._def,shape:()=>e})}else return t instanceof xt?new xt({...t._def,type:pr(t.element)}):t instanceof Vt?Vt.create(pr(t.unwrap())):t instanceof Sr?Sr.create(pr(t.unwrap())):t instanceof or?or.create(t.items.map(e=>pr(e))):t}class Te extends oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=le.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Z.object){const d=this._getOrReturnCtx(e);return H(d,{code:$.invalid_type,expected:Z.object,received:d.parsedType}),ee}const{status:s,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zt&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=i[d],u=n.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Wt(n,u,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof zt){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:n.data[h]}});else if(d==="strict")l.length>0&&(H(n,{code:$.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=n.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Wt(n,u,n.path,h)),alwaysSet:h in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,y=await h.value;d.push({key:u,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>Ge.mergeObjectSync(s,d)):Ge.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new Te({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:J.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Te({...this._def,unknownKeys:"strip"})}passthrough(){return new Te({...this._def,unknownKeys:"passthrough"})}extend(e){return new Te({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Te({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Te({...this._def,catchall:e})}pick(e){const r={};for(const s of le.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Te({...this._def,shape:()=>r})}omit(e){const r={};for(const s of le.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new Te({...this._def,shape:()=>r})}deepPartial(){return pr(this)}partial(e){const r={};for(const s of le.objectKeys(this.shape)){const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}return new Te({...this._def,shape:()=>r})}required(e){const r={};for(const s of le.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Vt;)i=i._def.innerType;r[s]=i}return new Te({...this._def,shape:()=>r})}keyof(){return ad(le.objectKeys(this.shape))}}Te.create=(t,e)=>new Te({shape:()=>t,unknownKeys:"strip",catchall:zt.create(),typeName:te.ZodObject,...ne(e)});Te.strictCreate=(t,e)=>new Te({shape:()=>t,unknownKeys:"strict",catchall:zt.create(),typeName:te.ZodObject,...ne(e)});Te.lazycreate=(t,e)=>new Te({shape:t,unknownKeys:"strip",catchall:zt.create(),typeName:te.ZodObject,...ne(e)});class Zs extends oe{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Rt(l.ctx.common.issues));return H(r,{code:$.invalid_union,unionErrors:o}),ee}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Rt(c));return H(r,{code:$.invalid_union,unionErrors:l}),ee}}get options(){return this._def.options}}Zs.create=(t,e)=>new Zs({options:t,typeName:te.ZodUnion,...ne(e)});function gi(t,e){const r=$t(t),s=$t(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&s===Z.object){const n=le.objectKeys(e),i=le.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=gi(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Z.array&&s===Z.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=gi(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===Z.date&&s===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ks extends oe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(i,o)=>{if(Ao(i)||Ao(o))return ee;const l=gi(i.value,o.value);return l.valid?((Io(i)||Io(o))&&r.dirty(),{status:r.value,value:l.data}):(H(s,{code:$.invalid_intersection_types}),ee)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ks.create=(t,e,r)=>new Ks({left:t,right:e,typeName:te.ZodIntersection,...ne(r)});class or extends oe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.array)return H(s,{code:$.invalid_type,expected:Z.array,received:s.parsedType}),ee;if(s.data.length<this._def.items.length)return H(s,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&s.data.length>this._def.items.length&&(H(s,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Wt(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ge.mergeArray(r,o)):Ge.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new or({...this._def,rest:e})}}or.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:t,typeName:te.ZodTuple,rest:null,...ne(e)})};class Vo extends oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.map)return H(s,{code:$.invalid_type,expected:Z.map,received:s.parsedType}),ee;const n=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:n._parse(new Wt(s,l,s.path,[d,"key"])),value:i._parse(new Wt(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return ee;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return ee;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}Vo.create=(t,e,r)=>new Vo({valueType:e,keyType:t,typeName:te.ZodMap,...ne(r)});class Gr extends oe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.set)return H(s,{code:$.invalid_type,expected:Z.set,received:s.parsedType}),ee;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(H(s,{code:$.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(H(s,{code:$.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return ee;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Wt(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Gr({...this._def,minSize:{value:e,message:J.toString(r)}})}max(e,r){return new Gr({...this._def,maxSize:{value:e,message:J.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Gr.create=(t,e)=>new Gr({valueType:t,minSize:null,maxSize:null,typeName:te.ZodSet,...ne(e)});class Ho extends oe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ho.create=(t,e)=>new Ho({getter:t,typeName:te.ZodLazy,...ne(e)});class yi extends oe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return H(r,{received:r.data,code:$.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}yi.create=(t,e)=>new yi({value:t,typeName:te.ZodLiteral,...ne(e)});function ad(t,e){return new Nr({values:t,typeName:te.ZodEnum,...ne(e)})}class Nr extends oe{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return H(r,{expected:le.joinValues(s),received:r.parsedType,code:$.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return H(r,{received:r.data,code:$.invalid_enum_value,options:s}),ee}return rt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Nr.create(e,{...this._def,...r})}exclude(e,r=this._def){return Nr.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Nr.create=ad;class qo extends oe{_parse(e){const r=le.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Z.string&&s.parsedType!==Z.number){const n=le.objectValues(r);return H(s,{expected:le.joinValues(n),received:s.parsedType,code:$.invalid_type}),ee}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=le.objectValues(r);return H(s,{received:s.data,code:$.invalid_enum_value,options:n}),ee}return rt(e.data)}get enum(){return this._def.values}}qo.create=(t,e)=>new qo({values:t,typeName:te.ZodNativeEnum,...ne(e)});class Js extends oe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return H(r,{code:$.invalid_type,expected:Z.promise,received:r.parsedType}),ee;const s=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return rt(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Js.create=(t,e)=>new Js({type:t,typeName:te.ZodPromise,...ne(e)});class jr extends oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{H(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ee;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?ee:c.status==="dirty"||r.value==="dirty"?Fr(c.value):c});{if(r.value==="aborted")return ee;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ee:l.status==="dirty"||r.value==="dirty"?Fr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ee:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ee:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!wr(o))return ee;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>wr(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:r.value,value:l})):ee);le.assertNever(n)}}jr.create=(t,e,r)=>new jr({schema:t,typeName:te.ZodEffects,effect:e,...ne(r)});jr.createWithPreprocess=(t,e,r)=>new jr({schema:e,effect:{type:"preprocess",transform:t},typeName:te.ZodEffects,...ne(r)});class Vt extends oe{_parse(e){return this._getType(e)===Z.undefined?rt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vt.create=(t,e)=>new Vt({innerType:t,typeName:te.ZodOptional,...ne(e)});class Sr extends oe{_parse(e){return this._getType(e)===Z.null?rt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sr.create=(t,e)=>new Sr({innerType:t,typeName:te.ZodNullable,...ne(e)});class bi extends oe{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===Z.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bi.create=(t,e)=>new bi({innerType:t,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ne(e)});class vi extends oe{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ws(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rt(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Rt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}vi.create=(t,e)=>new vi({innerType:t,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ne(e)});class Wo extends oe{_parse(e){if(this._getType(e)!==Z.nan){const s=this._getOrReturnCtx(e);return H(s,{code:$.invalid_type,expected:Z.nan,received:s.parsedType}),ee}return{status:"valid",value:e.data}}}Wo.create=t=>new Wo({typeName:te.ZodNaN,...ne(t)});class cg extends oe{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class sa extends oe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ee:i.status==="dirty"?(r.dirty(),Fr(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?ee:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new sa({in:e,out:r,typeName:te.ZodPipeline})}}class wi extends oe{_parse(e){const r=this._def.innerType._parse(e),s=n=>(wr(n)&&(n.value=Object.freeze(n.value)),n);return Ws(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:te.ZodReadonly,...ne(e)});var te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(te||(te={}));const Ht=Mt.create,An=_r.create;zt.create;const dg=xt.create,na=Te.create;Zs.create;Ks.create;or.create;const ug=yi.create;Nr.create;Js.create;Vt.create;Sr.create;const hg=na({title:Ht().min(1," "),description:Ht().min(1," "),categoryId:An().min(1," "),startPrice:An().min(100," 100  "),imageUrls:dg(Ht()).optional().default([]),auctionDuration:An().refine(t=>[1,2,3,6,12,24].includes(t),"1, 2, 3, 6, 12, 24  ").optional()});function fg(){const t=Kt(),e=lt(),r=at(x=>x.add),[s,n]=S.useState(""),[i,o]=S.useState([]),{data:l=[]}=we({queryKey:["categories"],queryFn:()=>Pl.list()}),{register:c,handleSubmit:d,setValue:h,watch:u,formState:{errors:y}}=ta({resolver:ra(hg),defaultValues:{title:"",description:"",categoryId:0,startPrice:1e3,imageUrls:[],auctionDuration:24}}),p=()=>{const x=s.trim();x&&(o(R=>[...R,x]),h("imageUrls",[...i,x]),n(""))},b=x=>{const R=i.filter((C,T)=>T!==x);o(R),h("imageUrls",R)},j=Ve({mutationFn:x=>ds.create({title:x.title,description:x.description,categoryId:x.categoryId,startPrice:x.startPrice,imageUrls:x.imageUrls.length?x.imageUrls:[""],auctionDuration:x.auctionDuration??24}),onSuccess:()=>{r(" .  .","success"),e.invalidateQueries({queryKey:["auctions"]}),t("/")},onError:x=>r(Xe(x),"error")}),g=x=>{if(i.length===0){r(" URL 1  . (: URL  )","error");return}j.mutate({...x,imageUrls:i})};return a.jsxs("main",{className:"max-w-[1000px] mx-auto px-4 py-8",children:[a.jsxs("nav",{className:"flex flex-wrap gap-2 mb-6 text-sm",children:[a.jsx("a",{href:"/",className:"text-text-muted hover:text-primary",children:""}),a.jsx("span",{className:"text-text-muted",children:"/"}),a.jsx("span",{className:"text-text-main font-medium",children:" "})]}),a.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-black leading-tight text-text-main",children:" "}),a.jsx("p",{className:"text-text-muted",children:"   .    ."})]}),a.jsxs("form",{onSubmit:d(g),className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[a.jsxs("section",{className:"bg-white p-6 rounded-xl border border-border shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"add_a_photo"}),a.jsx("h2",{className:"text-xl font-bold text-text-main",children:"1.  (URL)"})]}),a.jsx("p",{className:"text-text-muted text-sm mb-6",children:" URL . (  URL  )"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("input",{type:"url",placeholder:"https://...",value:s,onChange:x=>n(x.target.value),className:"flex-1 min-w-[200px] rounded-lg border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary"}),a.jsx(he,{type:"button",variant:"secondary",size:"sm",onClick:p,children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.map((x,R)=>a.jsxs("div",{className:"relative aspect-square rounded-lg border-2 border-primary overflow-hidden group",children:[a.jsx("img",{src:x,alt:"",className:"w-full h-full object-cover",onError:C=>{C.currentTarget.style.display="none"}}),a.jsx("button",{type:"button",onClick:()=>b(R),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100",children:a.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},R)),a.jsxs("div",{className:"aspect-square rounded-lg border-2 border-dashed border-border flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors bg-gray-50",onClick:p,children:[a.jsx("span",{className:"material-symbols-outlined text-3xl text-text-muted",children:"upload_file"}),a.jsx("span",{className:"text-[10px] font-bold text-text-muted",children:"URL "})]})]}),y.imageUrls&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:y.imageUrls.message})]}),a.jsxs("section",{className:"bg-white p-6 rounded-xl border border-border shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"description"}),a.jsx("h2",{className:"text-xl font-bold text-text-main",children:"2.  "})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:" "}),a.jsx("input",{...c("title"),placeholder:":    - ",className:"w-full rounded-lg border border-border bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 px-4 py-2"}),y.title&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:""}),a.jsx("textarea",{...c("description"),placeholder:"  ",rows:4,className:"w-full rounded-lg border border-border bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 px-4 py-2"}),y.description&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.description.message})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:""}),a.jsxs("select",{...c("categoryId",{valueAsNumber:!0}),className:"w-full rounded-lg border border-border bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 px-4 py-2",children:[a.jsx("option",{value:0,children:""}),l==null?void 0:l.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),y.categoryId&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.categoryId.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:" ()"}),a.jsx("input",{type:"number",...c("startPrice",{valueAsNumber:!0}),placeholder:"0",className:"w-full rounded-lg border border-border bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 px-4 py-2"}),y.startPrice&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.startPrice.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:"  ()"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,6,12,24].map(x=>a.jsxs("button",{type:"button",onClick:()=>h("auctionDuration",x),className:`py-2 px-4 rounded-lg border-2 text-sm font-bold transition-all ${u("auctionDuration")===x?"border-primary bg-primary/5 text-primary":"border-border text-text-main hover:border-primary/50"}`,children:[x,""]},x))})]})]})]}),a.jsxs("section",{className:"bg-white p-6 rounded-xl border border-border shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"settings"}),a.jsx("h2",{className:"text-xl font-bold text-text-main",children:"3. "})]}),a.jsxs("div",{className:"flex gap-4 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:[a.jsx("span",{className:"material-symbols-outlined text-primary mt-0.5",children:"rocket_launch"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-primary text-sm uppercase tracking-wide",children:" "}),a.jsx("p",{className:"text-sm text-text-main leading-relaxed",children:"  5   .       ,     ."})]})]}),a.jsx("p",{className:"text-text-muted text-xs mt-4",children:"     ."})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"sticky top-24 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-border shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-border bg-gray-50",children:a.jsxs("h3",{className:"font-bold flex items-center gap-2 text-text-main",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"account_balance_wallet"})," "]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-text-muted",children:" "}),a.jsx("span",{className:"font-semibold",children:"0"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-text-muted",children:""}),a.jsx("span",{className:"font-semibold",children:"  "})]}),a.jsx("div",{className:"pt-4 border-t border-border flex justify-between items-center",children:a.jsx("span",{className:"font-bold text-text-main",children:"  "})}),a.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100",children:a.jsx("p",{className:"text-[11px] text-red-700 font-medium leading-tight",children:"5         ."})})]}),a.jsxs("div",{className:"p-4 bg-gray-50",children:[a.jsx(he,{type:"submit",className:"w-full",loading:j.isPending,children:""}),a.jsx("p",{className:"text-[10px] text-text-muted text-center mt-3",children:"     ."})]})]})})})]})]})}function mg(t){const e=Math.ceil(t*1.1/10)*10;return e>t?e:t+10}function pg(){var v,_;const{id:t}=Ri(),e=Number(t),r=lt(),s=ze(E=>E.isAuthenticated()),n=at(E=>E.add),[i,o]=S.useState({}),{data:l,isLoading:c}=we({queryKey:["auction",e],queryFn:()=>ds.getById(e),enabled:Number.isInteger(e)}),{data:d}=we({queryKey:["bid",e],queryFn:()=>Zr.list(e),enabled:Number.isInteger(e)}),h=(d==null?void 0:d.content)??[];Kc(Number.isInteger(e)?e:null,E=>o(E),()=>r.invalidateQueries({queryKey:["bid",e]}));const u=i.currentPrice??(l==null?void 0:l.currentPrice)??(l==null?void 0:l.startPrice)??0,y=i.bidCount??(l==null?void 0:l.bidCount)??0,p=i.endAt??(l==null?void 0:l.endAt),[b,j]=S.useState(0);S.useEffect(()=>{if(!p)return;const E=()=>j(Math.max(0,Math.floor((new Date(p).getTime()-Date.now())/1e3)));E();const F=setInterval(E,1e3);return()=>clearInterval(F)},[p]);const g=Ve({mutationFn:E=>Zr.place({auctionId:e,bidAmount:E,requestId:crypto.randomUUID()}),onSuccess:()=>{n(" .","success"),r.invalidateQueries({queryKey:["auction",e]}),r.invalidateQueries({queryKey:["bid",e]})},onError:E=>n(Xe(E),"error")}),x=E=>{const F=mg(u)+E;if(!s){n(" .","error");return}g.mutate(F)};if(c||!l)return a.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 md:px-10 py-6",children:[a.jsx(Oe,{className:"h-8 w-48 mb-6"}),a.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[a.jsx(Oe,{className:"flex-1 min-h-[500px] rounded-xl"}),a.jsx(Oe,{className:"xl:w-80 h-96 rounded-xl"})]})]});const R=(v=l.imageUrls)==null?void 0:v[0],C=Math.floor(b/3600),T=Math.floor(b%3600/60),f=b%60;return a.jsxs("main",{className:"flex flex-col xl:flex-row px-4 md:px-10 xl:px-20 py-6 gap-6 max-w-[1600px] mx-auto w-full",children:[a.jsxs("aside",{className:"w-full xl:w-64 flex flex-col gap-4",children:[a.jsxs("nav",{className:"flex flex-wrap gap-2 mb-2 text-sm",children:[a.jsx(ie,{to:"/",className:"text-text-muted hover:underline",children:""}),a.jsx("span",{className:"text-text-muted",children:"/"}),a.jsxs(ie,{to:`/auctions/${e}`,className:"text-text-muted hover:underline",children:[" #",e]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-5 border border-border shadow-sm",children:[a.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-text-muted mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-lg",children:"military_tech"})," "]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[h.slice(0,5).map((E,F)=>a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${F===0?"bg-primary/10 border-primary/20":"border-border"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-lg font-bold text-primary",children:F+1}),a.jsx("span",{className:"text-sm font-bold",children:E.bidderNickname})]}),a.jsx("span",{className:"text-xs font-bold text-primary",children:Se(E.bidPrice)})]},E.bidId??F)),h.length===0&&a.jsx("p",{className:"text-sm text-text-muted",children:"  "})]})]})]}),a.jsxs("section",{className:"flex-1 flex flex-col gap-6",children:[a.jsx("div",{className:"relative group overflow-hidden rounded-xl bg-white shadow-lg border border-border",children:a.jsxs("div",{className:"min-h-[500px] flex flex-col justify-end bg-cover bg-center transition-transform duration-500 group-hover:scale-105",style:R?{backgroundImage:`url(${R})`}:{background:"#f1f3f5"},children:[R&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),a.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-1.5 rounded-full font-bold text-xs shadow-lg",children:[a.jsx("span",{className:"size-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),a.jsxs("div",{className:"relative p-6 text-white",children:[a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:l.title}),a.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[(_=l.description)==null?void 0:_.slice(0,80),"..."]})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl border border-border shadow-md",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3 w-full",children:[a.jsx(he,{variant:"secondary",onClick:()=>x(0),children:"+1,000"}),a.jsx(he,{variant:"secondary",onClick:()=>x(5e3),children:"+5,000"}),a.jsx(he,{variant:"secondary",onClick:()=>x(1e4),children:"+10,000"})]}),a.jsx(ie,{to:`/auctions/${e}`,className:"w-full md:w-auto",children:a.jsx(he,{className:"min-w-[200px] py-3.5",children:" "})})]})})]}),a.jsxs("aside",{className:"w-full xl:w-80 flex flex-col gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-border p-6 shadow-sm",children:[a.jsxs("div",{className:"text-center pb-4 mb-4 border-b border-border",children:[a.jsx("p",{className:"text-xs font-bold text-text-muted uppercase tracking-widest mb-1",children:" "}),a.jsx("h2",{className:"text-4xl font-black text-primary",children:Se(u)})]}),a.jsx("p",{className:"text-[10px] text-center font-bold uppercase text-text-muted mb-3",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("div",{className:"w-full flex h-14 items-center justify-center rounded-lg bg-red-50 border border-red-200",children:a.jsx("p",{className:"text-xl font-black",children:String(C).padStart(2,"0")})}),a.jsx("p",{className:"text-[10px] font-bold uppercase opacity-60",children:""})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("div",{className:"w-full flex h-14 items-center justify-center rounded-lg bg-red-50 border border-red-200",children:a.jsx("p",{className:"text-xl font-black",children:String(T).padStart(2,"0")})}),a.jsx("p",{className:"text-[10px] font-bold uppercase opacity-60",children:""})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("div",{className:"w-full flex h-14 items-center justify-center rounded-lg bg-red-600 text-white",children:a.jsx("p",{className:"text-xl font-black",children:String(f).padStart(2,"0")})}),a.jsx("p",{className:"text-[10px] font-bold uppercase opacity-60",children:""})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-border flex-1 flex flex-col shadow-sm max-h-[400px]",children:[a.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-primary/5",children:[a.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2",children:[a.jsx("span",{className:"size-2 bg-green-500 rounded-full animate-pulse"})," "]}),a.jsxs("span",{className:"text-[10px] bg-white px-2 py-0.5 rounded border border-border",children:[y," "]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 custom-scrollbar",children:[h.slice(0,10).map((E,F)=>{var q;return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-primary font-bold text-sm",children:((q=E.bidderNickname)==null?void 0:q[0])??"?"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[a.jsx("span",{className:"text-xs font-bold",children:E.bidderNickname}),a.jsx("span",{className:"text-[10px] text-text-muted",children:E.createdAt?Pi(E.createdAt):"-"})]}),a.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-sm font-bold border ${F===0?"bg-primary/10 text-primary border-primary/10":"bg-gray-100 border-border"}`,children:[Se(E.bidPrice)," "]})]})]},E.bidId??F)}),h.length===0&&a.jsx("p",{className:"text-sm text-text-muted",children:"  ."})]})]})]})]})}function xg(){var l;const{id:t}=Ri(),e=Number(t),{data:r,isLoading:s}=we({queryKey:["auction",e],queryFn:()=>ds.getById(e),enabled:Number.isInteger(e)}),{data:n}=we({queryKey:["wallet","me"],queryFn:()=>cs.getMe()});if(s||!r)return a.jsx("main",{className:"flex flex-col items-center justify-center py-12 px-4",children:a.jsx(Oe,{className:"h-32 w-full max-w-md rounded-xl"})});const i=r.status==="SUCCESS",o=(l=r.imageUrls)==null?void 0:l[0];return a.jsx("main",{className:"flex flex-col items-center justify-center relative py-12 px-4 min-h-[60vh]",children:a.jsxs("div",{className:"max-w-[640px] w-full bg-white shadow-2xl rounded-xl overflow-hidden border border-border",children:[a.jsxs("div",{className:"bg-primary/10 py-10 flex flex-col items-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mb-6 shadow-lg shadow-primary/30",children:a.jsx("span",{className:"material-symbols-outlined text-white text-5xl",children:"workspace_premium"})}),a.jsx("h1",{className:"text-text-main tracking-tight text-[32px] font-bold leading-tight px-8 text-center",children:i?" !":" "}),i&&a.jsxs("div",{className:"mt-4 px-6 py-2 bg-primary text-white rounded-full font-bold text-xl shadow-md",children:[": ",Se(r.currentPrice)]})]}),a.jsxs("div",{className:"p-8 flex flex-col gap-8",children:[a.jsxs("div",{className:"flex items-center gap-5 rounded-xl border border-border p-4 bg-gray-50",children:[o?a.jsx("img",{src:o,alt:r.title,className:"size-24 object-cover rounded-lg shrink-0"}):a.jsx("div",{className:"size-24 rounded-lg bg-gray-200 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"material-symbols-outlined text-4xl text-text-muted",children:"image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-lg font-bold leading-tight text-text-main",children:r.title}),a.jsxs("p",{className:"text-text-muted text-sm",children:[" #",r.auctionId]}),a.jsxs(ie,{to:`/auctions/${e}`,className:"mt-2 text-primary text-sm font-semibold hover:underline inline-flex items-center gap-1",children:[" "," ",a.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"})]})]})]}),n&&a.jsxs("div",{className:"rounded-xl border border-border p-6 bg-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-text-main",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"account_balance_wallet"}),a.jsx("h3",{className:"font-bold",children:" "})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-text-muted text-sm",children:"  "}),a.jsx("p",{className:"text-sm font-medium",children:Se(n.balance)})]}),a.jsx("div",{className:"h-px bg-border my-2"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-text-main font-bold",children:""}),a.jsx("p",{className:"text-primary font-bold",children:Se(n.balance)})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(he,{variant:"secondary",className:"flex-1 cursor-not-allowed opacity-60",disabled:!0,title:"1:1   ",children:[a.jsx("span",{className:"material-symbols-outlined",children:"chat"}),"1:1 "]}),a.jsx(ie,{to:"/delivery",className:"flex-1",children:a.jsxs(he,{variant:"outline",className:"w-full",children:[a.jsx("span",{className:"material-symbols-outlined",children:"local_shipping"})," "]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(ie,{to:"/me",className:"text-text-muted hover:text-primary text-sm font-medium transition-colors",children:"  "})})]})]})})}const _i={prepare:t=>re.post("/api/payments/prepare",t).then(Re),confirm:t=>re.post("/api/payments/confirm",t).then(Re),abort:t=>re.post("/api/payments/abort",t)};function gg(){const[t]=ss(),e=Kt(),r=at(j=>j.add),s=S.useRef(!1),[n,i]=S.useState(null),o=t.get("orderId")??t.get("orderKey"),l=t.get("paymentKey"),c=t.get("amount"),d=t.get("paymentId"),h=t.get("code"),u=t.get("message");S.useEffect(()=>{if(!s.current){if(s.current=!0,o&&l){_i.confirm({pgOrderId:o,paymentKey:l,amount:c?Number(c):void 0}).then(j=>{i(j??null),r(" .","success")}).catch(j=>r(Xe(j),"error"));return}d&&_i.abort({paymentId:d?Number(d):0,reason:h?`${h}:${u??""}`:"user_cancel"}).catch(()=>{}),r(h||u?` : ${u??h}`:"  .","error")}},[o,l,c,d,h,u,r]);const y=!!(o&&l),p=c?Number(c):n?void 0:0,b=()=>{e("/me/charges?from=result")};return a.jsx("main",{className:"flex-1 flex flex-col items-center justify-start py-12 px-4 gap-12",children:a.jsxs("div",{className:"w-full max-w-[640px] flex flex-col items-center",children:[y?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[a.jsx("div",{className:"size-20 bg-green-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"material-symbols-outlined text-green-600 text-5xl",children:"check_circle"})}),a.jsx("h1",{className:"text-text-main tracking-tight text-[32px] font-bold leading-tight text-center",children:" "}),a.jsx("p",{className:"text-text-muted text-center mt-2",children:"     ."})]}),(p??0)>0&&a.jsx("div",{className:"w-full bg-white rounded-xl shadow-lg border border-border overflow-hidden mb-6",children:a.jsxs("div",{className:"p-6 flex flex-col items-center justify-center py-4 bg-primary/5 rounded-lg mx-4 mt-4",children:[a.jsxs("span",{className:"text-primary text-4xl font-extrabold",children:["+ ",(p??0).toLocaleString()," "]}),a.jsx("p",{className:"text-text-muted text-sm mt-1",children:"   "})]})}),a.jsx("div",{className:"w-full max-w-md mb-6",children:a.jsx(he,{className:"w-full",onClick:b,children:" "})})]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[a.jsx("div",{className:"size-20 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:"warning"})}),a.jsx("h1",{className:"text-text-main tracking-tight text-[32px] font-bold leading-tight text-center",children:" "}),a.jsx("p",{className:"text-text-muted text-center mt-2",children:"  .   ."})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-md",children:[a.jsx(ie,{to:"/wallet",className:"flex-1",children:a.jsx(he,{variant:"secondary",className:"w-full",children:" "})}),a.jsx(ie,{to:"/me/charges",className:"flex-1",children:a.jsx(he,{variant:"secondary",className:"w-full",children:""})}),a.jsx(ie,{to:"/",className:"flex-1",children:a.jsx(he,{variant:"secondary",className:"w-full",children:" "})})]})]})})}var yg="https://js.tosspayments.com/v2/standard";function od(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ld(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yr(t)}function es(t,e){return es=Object.setPrototypeOf||function(s,n){return s.__proto__=n,s},es(t,e)}function cd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ps(t,e,r){return cd()?Ps=Reflect.construct:Ps=function(n,i,o){var l=[null];l.push.apply(l,i);var c=Function.bind.apply(n,l),d=new c;return o&&es(d,o.prototype),d},Ps.apply(null,arguments)}function bg(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Qs(t){var e=typeof Map=="function"?new Map:void 0;return Qs=function(s){if(s===null||!bg(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,n)}function n(){return Ps(s,arguments,Yr(this).constructor)}return n.prototype=Object.create(s.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),es(n,s)},Qs(t)}function vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wg(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vg(t)}function dd(t){var e=cd();return function(){var s=Yr(t),n;if(e){var i=Yr(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return wg(this,n)}}var Lr=null;function _g(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Lr!=null)return Lr;var s=new Promise(function(n,i){try{var o=function(){Ts(e)!=null?n(Ts(e)):i(new Ng(e))},l=function(){i(new jg(t))};if(typeof window>"u"||typeof document>"u")return n(null);if(Ts(e)!=null)return n(Ts(e));var c=document.querySelector('script[src="'.concat(t,'"]'));if(c!=null){var d;c.removeEventListener("load",o),c.removeEventListener("error",l),(d=c.parentElement)===null||d===void 0||d.removeChild(c)}var h=document.createElement("script");h.src=t,h.addEventListener("load",o),h.addEventListener("error",l),r.priority!=null&&(h.fetchPriority=r.priority),document.head.appendChild(h)}catch(u){i(u);return}});return Lr=s.catch(function(n){return Lr=null,Promise.reject(n)}),Lr}function Ts(t){return window[t]}var Ng=function(t){ld(r,t);var e=dd(r);function r(s){var n;return od(this,r),n=e.call(this,"[TossPayments SDK] ".concat(s," is not available")),n.name="NamespaceNotAvailableError",n}return r}(Qs(Error)),jg=function(t){ld(r,t);var e=dd(r);function r(s){var n;return od(this,r),n=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(s,"]")),n.name="ScriptLoadFailedError",n}return r}(Qs(Error));function Sg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.src,s=r===void 0?yg:r;return typeof window>"u"?Promise.resolve({}):_g(s,"TossPayments").then(function(n){return n(t)})}var kg="@@ANONYMOUS";const Eg=[{credits:1e4,label:"10,000 ",price:11e3},{credits:5e4,label:"50,000 ",price:55e3,best:!0},{credits:1e5,label:"100,000 ",price:11e4}];function Cg(){var u;const t=at(y=>y.add),[e,r]=S.useState(null),[s,n]=S.useState(""),[i,o]=S.useState(!1),l=void 0,{data:c}=we({queryKey:["wallet","me"],queryFn:()=>cs.getMe()}),d=async y=>{if(!i)try{if(o(!0),!l){t("TOSS_CLIENT_KEY  . (.env.dev )","error");return}const p=await _i.prepare({amount:y,provider:"TOSS"});if(p.pgOrderId){const b=window.location.origin,j=`${b}/payments/result?paymentId=${p.paymentId}`,g=`${b}/payments/result?paymentId=${p.paymentId}`;await(await Sg(l)).payment({customerKey:kg}).requestPayment({method:"CARD",amount:{value:y,currency:"KRW"},orderId:p.pgOrderId,orderName:" ",successUrl:j,failUrl:g});return}t("  API    .","error")}catch(p){t(Xe(p),"error")}finally{o(!1)}},h=e??(s?Number(s.replace(/\D/g,"")):0);return a.jsx("main",{className:"flex-1 justify-center py-10 px-4",children:a.jsxs("div",{className:"max-w-[800px] mx-auto flex flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-text-main leading-tight tracking-tight",children:" "}),a.jsx("p",{className:"text-text-muted text-base",children:"   ."})]}),a.jsx("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-border flex items-center justify-between",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-text-muted text-xs font-bold uppercase tracking-widest",children:" "}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("p",{className:"text-4xl font-black text-text-main",children:((u=c==null?void 0:c.balance)==null?void 0:u.toLocaleString())??0}),a.jsx("p",{className:"text-primary font-bold",children:""})]})]})}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"payments"}),"  "]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:Eg.map(y=>a.jsxs("button",{type:"button",onClick:()=>r(y.credits),className:`group cursor-pointer relative flex flex-col gap-3 rounded-xl border-2 p-5 transition-all text-left ${e===y.credits?"border-primary bg-primary-light/50 shadow-md":"border-border hover:border-primary/50 bg-white shadow-sm"}`,children:[y.best&&a.jsx("span",{className:"absolute top-2 right-2 text-[10px] font-bold bg-primary text-white px-2 py-0.5 rounded uppercase",children:""}),a.jsx("span",{className:"material-symbols-outlined text-primary",children:"toll"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold text-text-main",children:y.label}),a.jsx("p",{className:"text-text-muted text-sm",children:Se(y.price)})]})]},y.credits))}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-2",children:"  ()"}),a.jsx("input",{type:"text",inputMode:"numeric",placeholder:" ",value:s,onChange:y=>{n(y.target.value.replace(/\D/g,"")),r(null)},className:"w-full rounded-xl border border-border px-4 py-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),a.jsx("p",{className:"text-text-muted text-xs mt-4",children:" : TOSS ()"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(he,{onClick:()=>d(h),disabled:h<1e3||i,loading:i,children:h>=1e3?`${h.toLocaleString()} `:" "})})]})})}const Tg={getMe:t=>re.get("/api/wallet_transactions/me",{params:{page:(t==null?void 0:t.page)??0,size:(t==null?void 0:t.size)??20}}).then(Re)},zo={request:t=>re.post("/api/withdrawals",t).then(Re),getMe:t=>re.get("/api/withdrawals/me",{params:{page:(t==null?void 0:t.page)??0,size:(t==null?void 0:t.size)??20}}).then(Re)};function Rg(){const t=lt(),e=at(C=>C.add),[r,s]=S.useState(""),[n,i]=S.useState(""),[o,l]=S.useState(""),[c,d]=S.useState(0),{data:h,isLoading:u}=we({queryKey:["wallet","me"],queryFn:()=>cs.getMe()}),{data:y}=we({queryKey:["wallet_transactions","me",c],queryFn:()=>Tg.getMe({page:c,size:20})}),{data:p}=we({queryKey:["withdrawals","me",c],queryFn:()=>zo.getMe({page:c,size:20})}),b=(p==null?void 0:p.content)??[],j=Ve({mutationFn:()=>zo.request({amount:Number(r.replace(/\D/g,"")),bankName:n.trim(),accountNumber:o.trim()}),onSuccess:()=>{e("  .","success"),s(""),i(""),l(""),t.invalidateQueries({queryKey:["wallet","me"]}),t.invalidateQueries({queryKey:["withdrawals","me"]})},onError:C=>e(Xe(C),"error")}),g=C=>{if(C.preventDefault(),Number(r.replace(/\D/g,""))<1e4){e("  10,000.  1,000 .","error");return}if(!n.trim()||!o.trim()){e("  .","error");return}j.mutate()},x=(y==null?void 0:y.content)??[],R=y&&!y.last;return a.jsx("main",{className:"px-4 lg:px-10 flex flex-1 justify-center py-8",children:a.jsxs("div",{className:"max-w-[1000px] w-full flex flex-col gap-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-black leading-tight text-text-main",children:" & "}),a.jsx("p",{className:"text-text-muted text-base mt-1",children:"   ."})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(ie,{to:"/credits/charge",children:a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),""]})})})]}),u?a.jsx(Oe,{className:"h-32 rounded-xl"}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white border border-border shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-text-muted text-sm font-semibold uppercase tracking-wider",children:"  "}),a.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"})]}),a.jsx("p",{className:"text-text-main text-3xl font-bold leading-tight",children:Se((h==null?void 0:h.balance)??0)})]}),a.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white border border-border shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("p",{className:"text-text-muted text-sm font-semibold uppercase tracking-wider",children:"  ()"})}),a.jsx("p",{className:"text-text-main text-3xl font-bold leading-tight",children:Se((h==null?void 0:h.lockedBalance)??0)})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-border p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-bold text-text-main mb-4",children:" "}),a.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:" ()"}),a.jsx("input",{type:"text",inputMode:"numeric",placeholder:"10000",value:r,onChange:C=>s(C.target.value.replace(/\D/g,"")),className:"rounded-lg border border-border px-4 py-2 w-40 focus:ring-2 focus:ring-primary focus:border-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:""}),a.jsx("input",{type:"text",placeholder:"",value:n,onChange:C=>i(C.target.value),className:"rounded-lg border border-border px-4 py-2 w-40 focus:ring-2 focus:ring-primary focus:border-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:""}),a.jsx("input",{type:"text",inputMode:"numeric",placeholder:"123-456-789",value:o,onChange:C=>l(C.target.value.replace(/\s/g,"")),className:"rounded-lg border border-border px-4 py-2 w-48 focus:ring-2 focus:ring-primary focus:border-primary"})]})]}),a.jsx(he,{type:"submit",variant:"secondary",loading:j.isPending,disabled:!r||Number(r)<1e4||!n.trim()||!o.trim(),children:" "})]}),a.jsx("p",{className:"text-xs text-text-muted mt-2",children:" 10,000,  1,000"})]}),b.length>0&&a.jsxs("div",{className:"bg-white rounded-xl border border-border p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-bold text-text-main mb-4",children:"  "}),a.jsx("ul",{className:"divide-y divide-border",children:b.map(C=>a.jsxs("li",{className:"py-3 flex justify-between items-center",children:[a.jsxs("span",{children:[Se(C.amount)," ( ",Se(C.feeAmount),") -"," ",C.status]}),a.jsx("span",{className:"text-sm text-text-muted",children:Bs(C.createdAt)})]},C.withdrawalId))})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-border overflow-hidden shadow-sm",children:[a.jsx("h2",{className:"text-lg font-bold text-text-main p-4 border-b border-border",children:" "}),a.jsxs("ul",{className:"divide-y divide-border",children:[x.map(C=>a.jsxs("li",{className:"p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-text-main",children:C.type}),a.jsx("p",{className:"text-sm text-text-muted",children:Bs(C.created_at)})]}),a.jsxs("span",{className:C.amount>=0?"text-green-600 font-bold":"text-red-600 font-bold",children:[C.amount>=0?"+":"",Se(C.amount)]})]},C.transaction_id)),x.length===0&&!y&&a.jsx("li",{className:"p-8 text-center text-text-muted",children:"  ."})]}),R&&a.jsx("div",{className:"p-4 text-center",children:a.jsx("button",{type:"button",onClick:()=>d(C=>C+1),className:"text-primary font-semibold hover:underline",children:" "})})]}),a.jsx("p",{className:"text-sm text-text-muted",children:"       ."})]})})}const Og="http://localhost:8080";function Ag(){const t=S.useRef(null),e=ze(s=>s.accessToken),r=lt();S.useEffect(()=>{if(!e)return;const s=new Ul.Client({webSocketFactory:()=>new Zc(`${Og}/ws`),connectHeaders:{Authorization:`Bearer ${e}`},reconnectDelay:3e3,onConnect:()=>{s.subscribe("/user/queue/notifications",()=>{r.invalidateQueries({queryKey:["notifications"]}),r.invalidateQueries({queryKey:["notifications","unread-count"]})})}});return s.activate(),t.current=s,()=>{s.deactivate(),t.current=null}},[e,r])}function Ig(){const t=lt();Ag();const{data:e=[],isLoading:r}=we({queryKey:["notifications"],queryFn:()=>$s.list()}),s=Ve({mutationFn:i=>$s.markRead(i),onSuccess:()=>t.invalidateQueries({queryKey:["notifications"]})}),n=Ve({mutationFn:()=>$s.markAllRead(),onSuccess:()=>t.invalidateQueries({queryKey:["notifications"]})});return r?a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-8",children:[a.jsx(Oe,{className:"h-12 w-64 mb-6"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>a.jsx(Oe,{className:"h-20 w-full"},i))})]}):a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main",children:""}),e.some(i=>!i.readAt)&&a.jsx(he,{variant:"secondary",size:"sm",onClick:()=>n.mutate(),loading:n.isPending,children:" "})]}),a.jsx("ul",{className:"divide-y divide-border bg-white rounded-2xl border border-border overflow-hidden",children:e.length===0?a.jsx("li",{className:"p-12 text-center text-text-muted",children:" ."}):e.map(i=>a.jsxs("li",{className:`p-4 flex items-start gap-4 hover:bg-gray-50 transition-colors ${i.readAt?"":"bg-primary-light/20"}`,children:[a.jsx("span",{className:"material-symbols-outlined text-primary shrink-0",children:"notifications"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-text-main",children:i.message}),a.jsx("p",{className:"text-xs text-text-muted mt-2",children:Pi(i.createdAt)})]}),!i.readAt&&a.jsx(he,{variant:"ghost",size:"sm",onClick:()=>s.mutate(i.id),loading:s.isPending,children:""})]},i.id))}),a.jsx("p",{className:"text-sm text-text-muted mt-4",children:" //     ."})]})}const Ls={getProfile:()=>re.get("/api/users/me").then(Re),getMypage:()=>re.get("/api/users/me/mypage").then(Re),updateProfile:t=>re.patch("/api/users/me",t).then(Re),deleteUser:()=>re.delete("/api/users/me")};function $g(){const{data:t,isLoading:e}=we({queryKey:["users","me","mypage"],queryFn:()=>Ls.getMypage()}),{data:r}=we({queryKey:["wallet","me"],queryFn:()=>cs.getMe()}),{data:s}=we({queryKey:["bid","my"],queryFn:()=>Zr.myBids()}),n=(s==null?void 0:s.content)??[];if(e||!t)return a.jsxs("main",{className:"max-w-[1000px] mx-auto px-6 py-8",children:[a.jsx(Oe,{className:"h-24 w-64 mb-8"}),a.jsx(Oe,{className:"h-32 w-full rounded-xl mb-6"})]});const i=t.balance??(r==null?void 0:r.balance)??0;return a.jsx("main",{className:"max-w-[1000px] mx-auto px-6 py-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsxs("aside",{className:"w-full md:w-64 shrink-0",children:[a.jsxs("div",{className:"flex gap-4 items-center mb-8",children:[a.jsx("div",{className:"size-16 rounded-full bg-primary/20 flex items-center justify-center overflow-hidden",children:t.profileUrl?a.jsx("img",{src:t.profileUrl,alt:"",className:"w-full h-full object-cover"}):a.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"person"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-text-main",children:t.nickname}),a.jsx("p",{className:"text-sm text-text-muted",children:t.email??" "})]})]}),a.jsxs("nav",{className:"flex flex-col gap-1",children:[a.jsxs(ie,{to:"/me/edit",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 text-text-main font-medium transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"edit"})," "]}),a.jsxs(ie,{to:"/wallet",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg bg-primary-light text-primary font-semibold transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined fill-icon",children:"account_balance_wallet"}),""]}),a.jsxs(ie,{to:"/notifications",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 text-text-main font-medium transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),""]}),a.jsxs(ie,{to:"/me/charges",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 text-text-main font-medium transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"pending_actions"}),"  "]})]})]}),a.jsxs("section",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-border p-6 shadow-sm mb-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"account_balance_wallet"})," "]}),a.jsx("p",{className:"text-3xl font-black text-primary",children:Se(i)}),a.jsx(ie,{to:"/credits/charge",className:"inline-block mt-4",children:a.jsx("span",{className:"text-primary font-semibold text-sm hover:underline",children:""})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-border p-6 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"gavel"}),"   "]}),a.jsx("ul",{className:"divide-y divide-border",children:n.length===0?a.jsx("li",{className:"py-8 text-center text-text-muted",children:"  ."}):n.slice(0,10).map(o=>a.jsxs("li",{className:"py-3 flex justify-between items-center",children:[a.jsxs(ie,{to:`/auctions/${o.auctionId}`,className:"text-primary hover:underline font-medium",children:[o.itemTitle," ( #",o.auctionId,")"]}),a.jsxs("span",{className:"font-bold",children:[Se(o.myHighestBidPrice),o.isHighestBidder&&a.jsx("span",{className:"text-primary text-xs ml-1",children:""})]})]},`${o.auctionId}-${o.myHighestBidPrice}`))}),a.jsx("p",{className:"text-sm text-text-muted mt-4",children:"       ."})]})]})]})})}function Pg({open:t,onClose:e,title:r,children:s}){return S.useEffect(()=>{const n=i=>i.key==="Escape"&&e();return t&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow=""}},[t,e]),t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-auto",onClick:n=>n.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[r&&a.jsx("h2",{id:"modal-title",className:"text-lg font-bold text-text-main",children:r}),a.jsx("button",{type:"button",onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 text-text-muted hover:text-text-main focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"",children:a.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),a.jsx("div",{className:"p-4",children:s})]})}):null}const Lg=na({nickname:Ht().min(1," "),profileUrl:Ht().url().optional().or(ug(""))});function Dg(){const t=lt(),e=at(h=>h.add),[r,s]=S.useState(!1),{data:n}=we({queryKey:["users","me"],queryFn:()=>Ls.getProfile()}),{register:i,handleSubmit:o,formState:{errors:l}}=ta({resolver:ra(Lg),values:n?{nickname:n.nickname,profileUrl:n.profileUrl??""}:void 0}),c=Ve({mutationFn:h=>Ls.updateProfile({nickname:h.nickname,profileUrl:h.profileUrl??void 0}),onSuccess:()=>{e(" .","success"),t.invalidateQueries({queryKey:["users","me"]})},onError:h=>e(Xe(h),"error")}),d=Ve({mutationFn:()=>Ls.deleteUser(),onSuccess:()=>{ze.getState().logout(),window.location.href="/"},onError:h=>e(Xe(h),"error")});return a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-6",children:" "}),a.jsxs("form",{onSubmit:o(h=>c.mutate(h)),className:"space-y-6 bg-white rounded-xl border border-border p-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:""}),a.jsx("input",{...i("nickname"),className:"w-full rounded-lg border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:""}),l.nickname&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.nickname.message}),a.jsx("p",{className:"text-xs text-text-muted mt-1",children:"       ."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1.5",children:"  URL"}),a.jsx("input",{...i("profileUrl",{setValueAs:h=>h===""?void 0:h}),className:"w-full rounded-lg border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"https://..."}),a.jsx("p",{className:"text-xs text-text-muted mt-1",children:"   URL  ."})]}),a.jsx(he,{type:"submit",loading:c.isPending,children:""})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-border",children:[a.jsx("h2",{className:"text-lg font-bold text-text-main mb-2",children:" "}),a.jsx("p",{className:"text-sm text-text-muted mb-4",children:"       ."}),a.jsx(he,{variant:"danger",onClick:()=>s(!0),children:" "})]}),a.jsxs(Pg,{open:r,onClose:()=>s(!1),title:" ",children:[a.jsx("p",{className:"text-sm text-text-muted mb-4",children:" ?     ."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(he,{variant:"secondary",onClick:()=>s(!1),children:""}),a.jsx(he,{variant:"danger",onClick:()=>d.mutate(),loading:d.isPending,children:""})]})]})]})}const In={getUnchecked:t=>re.get("/api/charges/unchecked",{params:{page:(t==null?void 0:t.page)??0,size:(t==null?void 0:t.size)??10}}).then(Re),confirm:t=>re.post(`/api/charges/${t}/confirm`),cancel:(t,e)=>re.post(`/api/charges/${t}/cancel`,{cancelReason:e})};function Ug(){const[t,e]=ss(),r=t.get("from")==="result",s=S.useRef(null),n=lt(),i=at(p=>p.add),[o]=S.useState(0),l=10,{data:c=[],isLoading:d}=we({queryKey:["charges","unchecked",o,l],queryFn:()=>In.getUnchecked({page:o,size:l})}),h=Ve({mutationFn:p=>In.confirm(p),onSuccess:()=>{i(" .","success"),n.invalidateQueries({queryKey:["charges","unchecked"]}),n.invalidateQueries({queryKey:["wallet"]})},onError:p=>i(Xe(p),"error")}),u=Ve({mutationFn:({id:p,reason:b})=>In.cancel(p,b),onSuccess:()=>{i("  .","success"),n.invalidateQueries({queryKey:["charges","unchecked"]}),n.invalidateQueries({queryKey:["wallet"]})},onError:p=>i(Xe(p),"error")});S.useEffect(()=>{!r||d||c.length===0||(e(p=>{const b=new URLSearchParams(p);return b.delete("from"),b},{replace:!0}),requestAnimationFrame(()=>{var p;(p=s.current)==null||p.scrollIntoView({behavior:"smooth",block:"center"})}))},[r,d,c.length,e]);const y=p=>{const b=window.prompt("   ()"," ");b!==null&&u.mutate({id:p.chargeCheckId,reason:b||" "})};return a.jsxs("main",{className:"max-w-[1000px] mx-auto px-6 py-8",children:[a.jsxs("nav",{className:"flex flex-wrap gap-2 mb-6 text-sm",children:[a.jsx(ie,{to:"/",className:"text-text-muted hover:text-primary",children:""}),a.jsx("span",{className:"text-text-muted",children:"/"}),a.jsx(ie,{to:"/me",className:"text-text-muted hover:text-primary",children:""}),a.jsx("span",{className:"text-text-muted",children:"/"}),a.jsx("span",{className:"text-text-main font-medium",children:" "})]}),a.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-black leading-tight text-text-main",children:" "}),a.jsx("p",{className:"text-text-muted",children:"        .   ,    ."})]}),a.jsx("div",{className:"bg-white rounded-xl border border-border shadow-sm overflow-hidden",children:d?a.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(p=>a.jsx(Oe,{className:"h-20 w-full rounded-lg"},p))}):c.length===0?a.jsxs("div",{className:"p-12 text-center text-text-muted",children:[a.jsx("span",{className:"material-symbols-outlined text-5xl mb-4 block opacity-50",children:"account_balance_wallet"}),a.jsx("p",{className:"font-medium",children:"  ."}),a.jsx(ie,{to:"/credits/charge",className:"inline-block mt-4 text-primary font-semibold hover:underline",children:" "})]}):a.jsx("ul",{className:"divide-y divide-border",children:c.map((p,b)=>{var j,g,x;return a.jsxs("li",{ref:b===0?s:void 0,className:"p-4 sm:p-6 flex flex-col sm:flex-row sm:items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[a.jsx("span",{className:"text-xl font-bold text-text-main",children:Se(p.amount)}),a.jsxs("span",{className:"text-sm text-text-muted",children:[" #",p.chargeCheckId]})]}),a.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[" ",Bs(p.createdAt),"  "," ",Bs(p.expireAt)]})]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx(he,{size:"sm",onClick:()=>h.mutate(p.chargeCheckId),disabled:h.isPending&&h.variables===p.chargeCheckId||u.isPending&&((j=u.variables)==null?void 0:j.id)===p.chargeCheckId,loading:h.isPending&&h.variables===p.chargeCheckId,children:""}),a.jsx(he,{variant:"danger",size:"sm",onClick:()=>y(p),disabled:h.isPending&&h.variables===p.chargeCheckId||u.isPending&&((g=u.variables)==null?void 0:g.id)===p.chargeCheckId,loading:u.isPending&&((x=u.variables)==null?void 0:x.id)===p.chargeCheckId,children:""})]})]},p.chargeCheckId)})})}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[a.jsxs(ie,{to:"/me",className:"text-primary font-semibold hover:underline flex items-center gap-1",children:[a.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_back"}),""]}),a.jsx(ie,{to:"/credits/charge",className:"text-primary font-semibold hover:underline flex items-center gap-1",children:" "})]})]})}function Fg(){return a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-2",children:" "}),a.jsx("p",{className:"text-text-muted mb-6",children:"  API   ."}),a.jsxs("div",{className:"bg-primary-light/30 border border-primary/20 rounded-xl p-8 text-center",children:[a.jsx("span",{className:"material-symbols-outlined text-5xl text-primary mb-4 block",children:"local_shipping"}),a.jsx("p",{className:"font-semibold text-text-main",children:"/  ,  ,  ,     ."}),a.jsx("p",{className:"text-sm text-text-muted mt-2",children:"      API  ."})]})]})}function Mg(){const t=lt(),[e,r]=S.useState("reports"),[s,n]=S.useState(0),[i,o]=S.useState(0),{data:l,isLoading:c}=we({queryKey:["admin","reports",s],queryFn:()=>re.get("/api/admin/reports",{params:{page:s,size:10}}).then(x=>x.data)}),{data:d,isLoading:h}=we({queryKey:["admin","users",i],queryFn:()=>re.get("/api/admin/users",{params:{page:i,size:10}}).then(x=>x.data)}),{data:u}=we({queryKey:["admin","statistics"],queryFn:()=>re.get("/api/admin/statistics").then(x=>x.data)}),y=Ve({mutationFn:x=>re.patch(`/api/admin/users/${x}/block`),onSuccess:()=>t.invalidateQueries({queryKey:["admin","users"]})}),p=Ve({mutationFn:x=>re.patch(`/api/admin/users/${x}/unblock`),onSuccess:()=>t.invalidateQueries({queryKey:["admin","users"]})}),b=Ve({mutationFn:({reportId:x,body:R})=>re.patch(`/api/admin/reports/${x}`,R),onSuccess:()=>t.invalidateQueries({queryKey:["admin","reports"]})}),j=(l==null?void 0:l.content)??[],g=(d==null?void 0:d.content)??[];return a.jsxs("main",{className:"flex min-h-[80vh]",children:[a.jsxs("aside",{className:"w-64 shrink-0 border-r border-border bg-gray-50 p-6 hidden md:block",children:[a.jsxs("h2",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-primary",children:"gavel"}),"Igloo Admin"]}),a.jsxs("nav",{className:"flex flex-col gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>r("reports"),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left w-full ${e==="reports"?"bg-primary text-white font-semibold":"text-text-muted hover:bg-gray-200"}`,children:[a.jsx("span",{className:"material-symbols-outlined",children:"verified_user"})," "]}),a.jsxs("button",{type:"button",onClick:()=>r("users"),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left w-full ${e==="users"?"bg-primary text-white font-semibold":"text-text-muted hover:bg-gray-200"}`,children:[a.jsx("span",{className:"material-symbols-outlined",children:"group"})," "]}),a.jsxs("button",{type:"button",onClick:()=>r("stats"),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left w-full ${e==="stats"?"bg-primary text-white font-semibold":"text-text-muted hover:bg-gray-200"}`,children:[a.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})," (Placeholder)"]})]})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e==="reports"&&a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-6",children:" "}),c?a.jsx(Oe,{className:"h-64 w-full rounded-xl"}):a.jsxs("div",{className:"bg-white rounded-xl border border-border overflow-hidden",children:[a.jsx("ul",{className:"divide-y divide-border",children:j.map(x=>a.jsxs("li",{className:"p-4 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[" #",x.id," - ",x.status??"-"]}),a.jsx("p",{className:"text-sm text-text-muted",children:x.reason??" "})]}),a.jsx(he,{variant:"secondary",size:"sm",onClick:()=>b.mutate({reportId:x.id,body:{status:"PROCESSED"}}),loading:b.isPending,children:""})]},x.id))}),l&&!l.last&&a.jsx("div",{className:"p-4 border-t border-border",children:a.jsx("button",{type:"button",onClick:()=>n(x=>x+1),className:"text-primary font-semibold hover:underline",children:" "})})]})]}),e==="users"&&a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-6",children:" "}),h?a.jsx(Oe,{className:"h-64 w-full rounded-xl"}):a.jsxs("div",{className:"bg-white rounded-xl border border-border overflow-hidden",children:[a.jsx("ul",{className:"divide-y divide-border",children:g.map(x=>a.jsxs("li",{className:"p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:x.nickname}),a.jsx("p",{className:"text-sm text-text-muted",children:x.email??`#${x.id}`})]}),x.blocked?a.jsx(he,{variant:"secondary",size:"sm",onClick:()=>p.mutate(x.id),loading:p.isPending,children:" "}):a.jsx(he,{variant:"danger",size:"sm",onClick:()=>y.mutate(x.id),loading:y.isPending,children:""})]},x.id))}),d&&!d.last&&a.jsx("div",{className:"p-4 border-t border-border",children:a.jsx("button",{type:"button",onClick:()=>o(x=>x+1),className:"text-primary font-semibold hover:underline",children:" "})})]})]}),e==="stats"&&a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-6",children:" (Placeholder)"}),a.jsxs("div",{className:"bg-primary-light/30 border border-primary/20 rounded-xl p-8 text-center",children:[a.jsx("p",{className:"text-text-muted",children:"  API  placeholder  0    ."}),a.jsx("pre",{className:"mt-4 text-left text-sm bg-white p-4 rounded-lg border border-border overflow-auto",children:JSON.stringify(u??{},null,2)})]})]})]})]})}function Bg(){return a.jsxs("main",{className:"max-w-[800px] mx-auto px-6 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main mb-2",children:"1:1 "}),a.jsx("p",{className:"text-text-muted mb-6",children:" API   ."}),a.jsxs("div",{className:"bg-primary-light/30 border border-primary/20 rounded-xl p-8 text-center",children:[a.jsx("span",{className:"material-symbols-outlined text-5xl text-primary mb-4 block",children:"chat"}),a.jsx("p",{className:"font-semibold text-text-main",children:" ,  ///   ."}),a.jsx("p",{className:"text-sm text-text-muted mt-2",children:"chat    //API ."})]})]})}function Vg(){const[t]=ss(),e=Kt(),r=ze(s=>s.setTokens);return S.useEffect(()=>{const s=t.get("accessToken"),n=t.get("refreshToken");s&&n?(r(s,n),e("/me",{replace:!0})):e("/",{replace:!0})},[t,r,e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("p",{className:"text-text-muted",children:"  ..."})})}const $n={signup:t=>re.post("/api/auth/signup",t),login:t=>re.post("/api/auth/login",t),refresh:()=>re.post("/api/auth/refresh"),logout:()=>re.post("/api/auth/logout")};function Pn(t){return`http://localhost:8080/api/oauth2/login/${t}`}const Hg=na({email:Ht().email("  "),password:Ht().min(1," "),nickname:Ht().optional()});function qg(){const t=Kt(),e=at(u=>u.add),r=ze(u=>u.setTokens),[s,n]=S.useState("login"),{register:i,handleSubmit:o,formState:{errors:l}}=ta({resolver:ra(Hg),defaultValues:{email:"",password:"",nickname:""}}),c=Ve({mutationFn:u=>$n.login({authType:"LOCAL",email:u.email,password:u.password}),onSuccess:u=>{r(u.data.accessToken,u.data.refreshToken),e(".","success"),t("/me",{replace:!0})},onError:u=>e(Xe(u),"error")}),d=Ve({mutationFn:u=>$n.signup({email:u.email,password:u.password,nickname:(u.nickname||u.email.split("@")[0]).trim()}),onSuccess:(u,y)=>{e(". .","success"),$n.login({authType:"LOCAL",email:y.email,password:y.password}).then(p=>{r(p.data.accessToken,p.data.refreshToken),t("/me",{replace:!0})}).catch(p=>e(Xe(p),"error"))},onError:u=>e(Xe(u),"error")}),h=u=>{s==="login"?c.mutate(u):d.mutate(u)};return a.jsx("main",{className:"min-h-[60vh] flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl border border-border shadow-lg p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-text-main text-center mb-6",children:"Igloo"}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:""}),a.jsx("input",{...i("email"),type:"email",className:"w-full rounded-xl border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"email@example.com"}),l.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:""}),a.jsx("input",{...i("password"),type:"password",className:"w-full rounded-xl border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:""}),l.password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.password.message})]}),s==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-text-main mb-1",children:""}),a.jsx("input",{...i("nickname"),className:"w-full rounded-xl border border-border px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:""})]}),a.jsx(he,{type:"submit",className:"w-full",loading:c.isPending||d.isPending,children:s==="login"?"":""})]}),a.jsx("button",{type:"button",onClick:()=>n(s==="login"?"signup":"login"),className:"w-full mt-4 text-sm text-primary hover:underline",children:s==="login"?" ? ":"  ? "}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[a.jsx("p",{className:"text-sm text-text-muted text-center mb-3",children:" "}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("a",{href:Pn("google"),className:"flex items-center justify-center gap-2 rounded-xl border border-border py-2.5 hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"mail"}),"Google"]}),a.jsx("a",{href:Pn("kakao"),className:"flex items-center justify-center gap-2 rounded-xl border border-border py-2.5 hover:bg-gray-50 transition-colors",children:"Kakao"}),a.jsx("a",{href:Pn("naver"),className:"flex items-center justify-center gap-2 rounded-xl border border-border py-2.5 hover:bg-gray-50 transition-colors",children:"Naver"})]})]}),a.jsx("p",{className:"text-center mt-6",children:a.jsx(ie,{to:"/",className:"text-sm text-text-muted hover:text-primary",children:""})})]})})}function fy(){return a.jsx(Fu,{children:a.jsxs(Ou,{children:[a.jsxs(Ee,{path:"/",element:a.jsx(Of,{}),children:[a.jsx(Ee,{index:!0,element:a.jsx(Pf,{})}),a.jsx(Ee,{path:"auctions/:auctionId",element:a.jsx(dx,{})}),a.jsx(Ee,{path:"auctions/new",element:a.jsx(ht,{children:a.jsx(fg,{})})}),a.jsx(Ee,{path:"auctions/:id/live",element:a.jsx(pg,{})}),a.jsx(Ee,{path:"auctions/:id/result",element:a.jsx(xg,{})}),a.jsx(Ee,{path:"payments/result",element:a.jsx(gg,{})}),a.jsx(Ee,{path:"credits/charge",element:a.jsx(ht,{children:a.jsx(Cg,{})})}),a.jsx(Ee,{path:"wallet",element:a.jsx(ht,{children:a.jsx(Rg,{})})}),a.jsx(Ee,{path:"notifications",element:a.jsx(ht,{children:a.jsx(Ig,{})})}),a.jsx(Ee,{path:"me",element:a.jsx(ht,{children:a.jsx($g,{})})}),a.jsx(Ee,{path:"me/edit",element:a.jsx(ht,{children:a.jsx(Dg,{})})}),a.jsx(Ee,{path:"me/charges",element:a.jsx(ht,{children:a.jsx(Ug,{})})}),a.jsx(Ee,{path:"delivery",element:a.jsx(ht,{children:a.jsx(Fg,{})})}),a.jsx(Ee,{path:"admin",element:a.jsx(ht,{children:a.jsx(Mg,{})})}),a.jsx(Ee,{path:"chat",element:a.jsx(ht,{children:a.jsx(Bg,{})})}),a.jsx(Ee,{path:"login",element:a.jsx(qg,{})})]}),a.jsx(Ee,{path:"/oauth/callback",element:a.jsx(Vg,{})}),a.jsx(Ee,{path:"*",element:a.jsx(cl,{to:"/",replace:!0})})]})})}export{fy as default};
